[{"content":" 原生html支持 hugo采用goldmark作为默认渲染器，需要在config中开启   markup: goldmark: renderer: unsafe: true html 图片需要绝对路径，形式如下：  \u0026lt;img src=\u0026quot;/assets/image-20210416142714352.png\u0026quot; alt=\u0026quot;image-20210416142714352\u0026quot; style=\u0026quot;zoom:33%;\u0026quot; /\u0026gt; 而不能是src=\u0026quot;assets\\ 所以也不太支持网络图片\u0026hellip;\u0026hellip;\n****好像不能出现。  ","date":"2021-05-18T11:23:29+08:00","permalink":"https://K7288.github.io/posts/tricks/","title":"Tricks"},{"content":" 第一章 数字图像的采集方式以及特性  1.1 图像概述 1.2 图像数字化  1.2.1图像数字化——采样  一维连续信号的采样 二维连续图像信号的采样  二维Nyquist条件 亚采样   1.2.2图像数字化——量化     1.3 数字图像基本要素  1.3.1基本要素 1.3.2图像质量 1.3.3图像颜色：红、绿、蓝三基色 1.3.4图像的描述：灰度/黑白/彩色图像、链表、拓扑结构、距离  1.3.5图像的矩阵特性：距离、邻域、临接、连通 1.3.6图像文件格式     1.4 数字图像处理意义及内容 1.5 数字图像处理系统及应用  1.5.1数字图像特性：图像/显示分辨率/打印机分辨率 像素深度 位面数量 1.5.2数字图像处理系统     第二章 数字图像预处理方法  2.1 灰度化  2.1.1灰度化主要方法 2.1.2图像二值化  1.全局二值化 2.局部二值化     2.2图像噪声  2.2.1分类  2.2.1.1基于统计后的概率密度函数的噪声分类及其消除方式   2.2.2图像过滤噪声 空间域滤波 频率域滤波 形态学运算  中值滤波器 超限中值滤波法 均值滤波/邻域平均法 超限邻域平均法 高斯滤波       第三章 图像增强  3.1 图像增强概述  3.1.1 定义 3.1.2 应用   3.2 图像增强方法 3.3 灰度变换/点运算  3.4.1线性灰度变换  加常数 图像反转（反色） 乘常数 一般形式   3.4.2 分段线性灰度变换  对比度拉伸/拓展 削波 阈值化 灰度级分层     3.3 基于直方图的图像增强  3.3.1 灰度直方图（简称直方图） 3.3.2 直方图均衡化    3.5 彩色图像增强   第六章 图像分割  6.1 图像分割基本介绍 6.2 边缘检测 6.3 阈值分割法  6.3.1 阈值分割原理 6.3.2 阈值处理  6.3.2.1 基本全局阈值处理 6.3.2.2 TODO Otus方法的全局阈值处理/类间最大方差法   6.3.3 改进  a 图像平滑改进 b 边缘改进 c 可变阈值处理  (i) 基于局部图像性质 (ii) 基于移动平均       6.4 区域分割法  6.4.1 区域生长 Bottom-up 6.4.2 区域分离与聚合 Up-down 6.4.3 空间聚类/K均值聚类 6.4.4 超像素的区域分割     第七章 图像的特征提取  7.1 背景知识 7.2 TODO边界预处理  7.2.1 区域骨架抽取   7.3 TODO特征描述子  7.3.1 边界特征描述子 7.3.2 区域特征描述子  7.3.2.1 基本描述子 7.3.2.2 纹理描述(基于直方图、基于统计方法、基于谱方法)   7.3.3 特征描述子的主分量   7.4尺度不变特征变换 SIFT Scale-invariant feature transform    \r第一章 数字图像的采集方式以及特性 1.1 图像概述 图像是一个二维亮度函数；\n模拟图像：一幅活动、彩色、立体的图像——$I=f(x,y,z,λ,t)$，三维空间+波谱上+时间上连续，想象中的虚拟图像\n数字图像：数字图像是由模拟图象数字化得到的，以像素为基本元素、可以用数字计算机或数字电路存储和处理的图像。\n把一幅图画分割成如图所示的一个个小区域（像素），并将各小区域灰度用整数来表示，形成一幅点阵式的数字图像。它包括采样和量化两个过程。像素的位置和灰度就是像素的属性。\n1.2 图像数字化 图像数字化:将模拟图像经过离散化之后，得到用数字表示的图像。\n一幅模拟图像的坐标及幅度都是连续的，为了把它转换为数字形式，必须对坐标和幅度都作离散化操作。数字化坐标值称为采样，它确定了图像的空间分辨率；数字化幅度值称为量化，它确定了图像的幅度分辨率。\n1.2.1图像数字化——采样 （1）图像的采样：将在空间上连续的图像转换成离散的采样点（即像素）集的操作\nz=f(x,y), x∈[0,a], y∈[0,b], z∈[0,c] $\\rightarrow$ z=f(x,y), x=0,1,…,N-1,y=0,1,…,M-1, z=0,1,…,L-1\n采样间隔太小，则增大数据量；太大，则会发生信息的混叠，导致细节无法辨认。\n一维连续信号的采样 在工程中的许多信号，实际上都是连续信号，或者称为连续时间函数，记为x(t)，t的取值是从$-\\infty$ 连续变化到$+ \\infty $ 。但是，用计算机处理这些信号，必须首先对连续信号进行采样，即按一定的时间间隔Ts进行取值： $$ 𝑥_𝑑 (𝑛)=𝑥(𝑛𝑇_𝑠) , 𝑛=…−1,0,1… $$ $T_s$为采样间隔，$ x_d (n)$为离散信号或时间序列\n连续信号x(t)和频谱X(f)的具体关系为： $$ X(f)=\\int _{−\\infty}^\\infty x(t)e^{−j2\\pi ft} dt\\\\\\\\x(t)=\\int _{−\\infty}^\\infty X(f)e^{j2\\pi ft} df $$\n一维空间采样的Nyquist条件：$X(f)$有截频$ f_c$，即当$|f|≥ f_c$时, $X(f)=0$；$T_s≤\\frac{1}{2f_c}$ 或$2f_c≤f_s$\n如果信号不是有限带宽信号，采样频率或采样间隔不满足Nyquist条件，就会产生混叠现象。\n在满足Nyquist条件下，从离散信号$x(nT_s)$可恢复连续信号$x(t)$ $$ x(t)=\\Sigma_{n=−\\infty}^{+\\infty}x(nT_s)sinc(\\frac{\\pi}{T_s} (t-nT_s)) $$\n$sinc(x)=\\frac{sinx}{x}$二维连续图像信号的采样 设图像f(x,y)是一连续二维信号，其空间频谱$F(f_x,f_y )$在x方向具有截止频率$f_xc$ ，在y方向具有截止频率$f_yc$ 。所谓采样是对f(x,y)乘以空间采样函数： $$ s(x,y)=\\Sigma_{i=−\\infty }^{+\\infty }∑_{j=−\\infty }^{+\\infty }\\delta(x−i\\Delta x,y−i\\Delta y) $$ 式中Δx和Δy为x、y两个方向的采样间隔，上式为脉冲函数δ(x,y)沿x、y两个方向的展开。\n//脉冲函数：经过采样以后所得的信号为： $$ f_s (x,y)=f(x,y)∙ s(x,y)\\\\=∑_{i=−\\infty }^{+\\infty }∑_{j=−\\infty }^{+\\infty }f(i\\Delta x,j\\Delta y)\\sigma(x−i\\Delta x,y−j\\Delta y) $$\n二维Nyquist条件 为使采样以后的信号$f_s (x,y)$能完全恢复原来连续信号f(x,y) ，采样间隔Δx和Δy就必须满足$∆x≤1/(2f_{xc} ) ,∆y≤1/(2f_{yc})$，即在x和y方向的采样频率必须大于图像在x和y方向最高频率的两倍\n二维信号重建\n亚采样 （1）降低采样频率\n（2）将按采样定理获得的图像再抽样，即每隔K个像素，保留1个像素，其余的丢掉，重构时用内插法恢复丢失的数据。256×256每隔2个像素，保留1个像素-\u0026gt;128×128\n1.2.2图像数字化——量化 L在3bit以下的量化，会出现伪轮廓现象（画面平场区域出现明显的类似于等高线的不连续过渡带，从而对于画面感观质量造成影响的现象）。\n均匀量化：简单地在灰度范围内等间隔量化。\n非均匀量化：对像素出现频度少的部分量化间隔取大，而对频度大的量化间隔取小。\n1.3 数字图像基本要素 1.3.1基本要素 像素是数字图像最小的单位\n图像尺寸——一幅数字图像矩阵的大小\n像素坐标系——对图像分布进行二维空间采样\n像数值—对单个像素灰度值进行数字化采样（k bits/pixel）\n1.3.2图像质量 灰度：表示图像像素明暗程度的数值\n灰度级——表明图象中不同灰度的最大数量\n对比度=最大灰度值/最小灰度值 ——反映一幅图像中灰度方差的大小\n1.3.3图像颜色：红、绿、蓝三基色 1.3.4图像的描述：灰度/黑白/彩色图像、链表、拓扑结构、距离 灰度图像:图像中每个像素的信息由一个量化的灰度级来描述，没有彩色信息。\n​\t当一幅图像有2k灰度级时，通常称该图像是k比特图像。\n​\t灰度图像像素的灰度级通常为8 Bits，即0~255。“0”表示纯黑色，“255”表示纯白色。\n黑白图像（二值图像）\n​\t像素值为0、1。二值图像通常用于文字、线条图的扫描识别(OCR)和掩模图像的存储。\n彩色图像\n​\t三维矩阵，可用M×N×3表示，M、N分别表示图像的行、列数，三个M×N的二维矩阵分别表示各个像素的R、G、B三个颜色分量。每个颜色分量的数据类型一般为8位无符号整型。\n链表—描述目标物体的边界\n拓扑结构——描述一组图形及其相互关系\n距离—描述图像中像素之间的接近程度\n欧氏、曼哈顿（城区）（坐标差绝对值相加）、棋盘（坐标差绝对值最大的那个）\n1.3.5图像的矩阵特性：距离、邻域、临接、连通 邻域—描述与像素相邻的其他像素\n邻接\n像素间邻接的两个必要条件：①一个像素在另一个像素的邻域中；②两个像素的灰度值满足特定的相似准则。\n令V表示关于邻接的灰度值集合(相似准则)。\n①4-邻接 像素p和q的灰度值都属于V，且q在p的4-邻域集合**$N_4(p)$**中，则称像素*p*和*q*是4-邻接的。\n②8-邻接 像素p和q的灰度值都属于V，且q在集合$N_8(p)$中，则称像素p和q是8-邻接的。\n③m-邻接 像素p和q的灰度值都属于V，若满足下列条件之一：\n•q在集合$N_4(p)$中；\n•q在集合$N_D(p)$中（对角邻域）,且集合$N_4(p)\\cap N_4(q)$中的像素的灰度值不属于V。\n则称像素p和q是m-邻接的。\n像素间的通路\n从坐标为$(x_0,y_0 )$的像素p到坐标为$(x_n,y_n )$的像素q的一条通路由像素序列组成对应坐标序列为:\n$ (x_0,y_0 ) ,(x_1,y_1 ), ⋯,(x_i,y_i ) ⋯,(x_n,y_n ) $，这里$(x_i,y_i )$与$(x_{i-1},y_{i-1} )$相邻接，n为通路长度。\n若$(x_0,y_0 )=(x_n,y_n )$则该通路是闭合通路。根据不同的邻接类型，可以得到不同的通路，如4-通路，8-通路和m-通路。\n连通\n若像素p和q之间存在着一条通路，则称p和q是连通的，即像素间的连通。反之，若两个像素间是连通的，那么至少存在一条通路，也可能存在多条通路。根据通路的类型，像素间的连通可分为4-连通，8-连通和m-连通。\n1.3.6图像文件格式 每一种图像文件均有一个文件头，在文件头之后是图像数据。文件头的内容一般包括文件类型、版本号、文件大小等内容。各种图像文件的制作还涉及到图像文件的压缩方式和存储效率等。常用的图像文件存储格式主要有：BMP格式、JPEG格式、GIF格式、TIFF格式等。\nBMP(bitmap)图像文件也称位图文件，其文件结构如下：\na) BITMAPFILEHEADER：BMP文件头或表头；b) BITMAPINFOHEADER：BMP文件信息头；\nc) RGBQUAD：BMP文件调色板或位图信息；d) BITMAP DATA：BMP文件数据或位图阵列；\n位图文件头长度为固定的54个字节，给出了文件的类型、大小和位图阵列的起始位置等信息。位图文件信息头基本上包含图像的所有信息，包括宽度、高度、每像素的位数、压缩方法、目标设备的水平和垂直分辨率等信息。位图文件调色板是BMP所包含的颜色表，接在BITMAPINFOHEADER结构之后含有位图中每种颜色的RGB信息。BMP文件数据是以连续行的形式存储的。\nJPEG (Joint Photographic Experts Group)的文件后辍名为“.jpg”或“.jpeg”。有损压缩格式，支持24位颜色，并保留照片和其他连续色调图像中存在的亮度和色相的显著和细微的变化。\nGIF (Graphics Interchange Format)的文件后缀名为“.gif”。GIF格式的特点是其在一个GIF文件中可以存多幅彩色图像，如果把存于一个文件中的多幅图像数据逐幅读出并显示到屏幕上，就可构成一种最简单的动画。\nTIFF (Tag Image File Format)的文件后缀名为“.tif”或“.tiff”。TIFF文件一般可分为文件头、参数指针表、参数数据表的偏移。参数指针表由一系列参数块构成，它们描写图像的压缩种类、长度、彩色数、扫描分辨率等许多参数。参数数据表中存放的是实际参数数据。最后一部分是图像数据。\n1.4 数字图像处理意义及内容 数字图像处理\n（1）利用计算机对数字图像进行各种目的的处理\n（2）将一幅图像变为另一幅经过加工的图像，图像到图像的过程\n（3）将一幅图像转化为一种非图像的表示，分析、识别与理解的过程\n目的\n1.提高图像视觉质量，提供人眼主观满意或较满意的效果；2.提取目标某些特征，以便于后续分析或识别；3.图像压缩，便于存储和传输庞大的图像和视频信息。4.信息的可视化，以便于人们观察、分析、研究、理解大规模数据和许多复杂现象5.信息安全需要，如数字图像水印和图像信息隐藏\n•数字图像处理是利用计算机的计算，实现与光学系统模拟处理相同效果的过程。\n特点\n(1)再现性好。数字化，存储，传输或复制不会退化图像质量.(2)处理精度高。灰度等级量化为16位(3)适用面宽。多种信息源：可见光，波谱（X射线，R射线，超声或红外）客观实体尺度：电子显微、航空、遥感、天文图像(4)灵活性高。线性处理，非线性处理。凡是可以用数学公式或逻辑关系来表示的一切运算均可用数字图像处理实现。\n主要内容\n（1）几何处理：坐标变换、图像放大、缩小、旋转、移动；多个图像的配准、全景畸变校正、扭曲校正；计算周长、面积、体积\n（2）算数处理：对图像进行加减乘除运算，与、或等逻辑运算；主要针对像素医学图像的减影处理\n（3）图像增强：突出图像中感兴趣的信息，去掉或削弱不感兴趣的信息，使其在特定的应用中更便于解释和识别提高图像质量（去除噪声、提高图像的清晰度）；方法：灰度修正、平滑、几何校正、图像锐化、频域增强、维纳滤波、卡尔曼滤波…\n（4）图像复原：去掉干扰和污染，恢复图像的本来面目；1)图像噪声：随机点、相干噪声(网纹干扰)2)模糊：透镜散光、相对运动3)遥感：大气流、云层遮挡；主要方法：维纳滤波、卡尔曼滤波、逆滤波、同态滤波等\n（5）图像重建：从数据到图像的过程，CT、x-ray、NMR（核磁共振）、超声CT、ECT；•成像方法：代数法、迭代法、傅里叶反投影法、卷积三维重建-用于虚拟现实、科学可视化技术\n（6）图像编码：运用图像信号的统计特性以及视觉的生理学和心理学特性实现高效编码 ；目的：I.减少数据存储空间II.降低数据率、减少传输带宽III.压缩信息、提取特征，以便识别\n（7）图像识别：方法：统计识别（特征）、句法结构（结构基元）、模糊识别(模糊学习、人的思维方法)\n（8）图像理解：利用客观世界的知识，使计算机进行联想、思考、推论，从而理解图像表现的内容（景物理解）\n（9）图像分割：提取出感兴趣的对象，为进一步理解识别做准备；灰度阀值分割、基于纹理的分割、区域生长法\n1.5 数字图像处理系统及应用 1.5.1数字图像特性：图像/显示分辨率/打印机分辨率 像素深度 位面数量 图像分别率：指组成一幅图像的像素密度，即图幅参数。单位：像素*像素\ne.g.数码相机指标：640*480=307200,30万像素\n显示分辨率:指显示屏上能够显示出的像素数目。例如，显示分辨率为640x480表示显示屏分成480行，每行显示640个像素。整个显示屏就含有307200个显像点。\n打印机、扫描仪分辨率：dpi（display pixels/incj）每英寸显示的线数\n像素深度：存储每个像素所用的位数，它也是用来度量图像的分辨率\n位面数量：组成图像的像素矩阵维数。\n1.5.2数字图像处理系统 图像采集系统将模拟图像转换成适合数字计算机处理的数字图像，包括1.数码摄像机：它通过接口电路与计算机连接，在有关软件的控制下将图像数据输入计算机2.数码照相机：与数码摄像机的区别在于没有连续获取图像的能力3.扫描仪：它可以将胶片上的摄影图像或纸质载体上的文字、图形、表格扫描成数字信息直接载入计算机\n计算机执行数字图像处理；•安装有各种图像处理软件，如Ps，Matlab中的图像处理工具箱; 图像处理软件接受来自图像采集系统的数字图像并执行所需的操作，如图像增强、图像复原、图像压缩编码、图像分析等操作，最后输出处理结果\n图像输出设备主要指喷墨打印机、激光打印机、图像监视器、视频拷贝仪等，它们的发展趋势是高速、真彩色\n\r第二章 数字图像预处理方法 主要目的：\n•消除图像中无关的信息，恢复有用的真实信息。\n•增强有关信息的可检测性、最大限度地简化数据，从而改进特征提取、图像分割、匹配和识别的可靠性。\n步骤：1.灰度化 2.去噪声\n2.1 灰度化 图像灰度化的原理就是在RGB模型中，假定三个通道的值相等，然后用统一的灰度值表征该点的色彩信息，灰度值的范围是0到255。\n像素点矩阵中的每一个像素点都满足下面的关系：R=G=B，此时的这个值叫做灰度值。\n2.1.1灰度化主要方法 1）分量法：将彩色图像中的三分量RGB的亮度作为三个灰度图像的灰度值，可根据应用需要选取三种中的一种灰度图像。\n2）最大值法：将彩色图像中的三分量亮度的最大值作为灰度图的灰度值。\n3）平均值法：将彩色图像中的三分量亮度求平均得到一个灰度图。\n4）加权平均法：根据重要性及其它指标，将三个分量以不同的权值进行加权平均。\n由于人眼对绿色的敏感最高，对蓝色敏感最低。Gray=0.11B+0.59G+0.3R；OpenCV开放库所采用的灰度权值 Gray=0.072169B+0.715160G+0.212671R\n2.1.2图像二值化 p二值化通用方法：选择某个阈值T，将原始图像变为二值图像：\n当f(x,y)≥T时， f(x,y)=1\n当f(x,y) ≤T时， f(x,y)=0\n如同其他图像分割算法一样，没有一个现有方法对各种各样的图像都能得到令人满意的结果。\n几种阈值确定办法：\n1.全局二值化 目的：从多值的数字图像中直接提取出目标物体）设定一个全局的阈值T，用T将图像的数据分成两部分：大于T的像素群和小于T的像素群。将大于T的像素群的像素值设定为白色（或者黑色），小于T的像素群的像素值设定为黑色（或者白色）。\na) 取阀值为127（相当于0~255的中数），让灰度值小于等于127的变 为0（黑色），灰度值大于127的变为255（白色），这样做的好处是计算量小速度快，但是缺点也是很明显的，因为这个阀值在不同的图片中均为127，但是不同的图片，他们的颜色分布差别很大，所以用127做阀值，白菜萝卜一刀切，效果肯定是不好的。\nb)计算像素点矩阵中的所有像素点的灰度值的平均值K。然后让每一个像素点与K一 一比较，小于等于K的像素点就为0（黑色）大于K的 像素点为255（白色），这样做比方法1好一些。但是使用平均值作为二值化阈值同样有个致命的缺点，可能导致部分对象像素或者背景像素丢失。二值化结果不能真实反映源图像信息。\nc)使用直方图方法（也叫双峰法）来寻找二值化阀值直方图是图像的重要特质。直方图方法认为图像由前景和背景组成，在灰度直方图上，前景和背景都形成高峰，在双峰之间的最低，谷处就是阀值所在。取到阀值之后再一 一比较就可以了\n直方图：表示数字图像中每一灰度级像素出现的频次（该灰度级的像素数目）。\n$p(k)=n_{k }$或 $p(k)=\\frac{n_{k }}{n}$ $n_{k}$:\u0026ldquo;图像中第k个灰度级的像素总数 \u0026ldquo;，$n$:图像的像素总数\n直方图性质：1.无空间信息；2.直方图与图像一对多关系；3.可叠加性（全图与子图像）\n直方图反映了图像清晰程度。直方图均匀分布时，图像最清晰。判断一幅图像是否清晰，查看是否合理的利用了全部被允许的灰度级 一幅图像应该尽可能利用全部可能的灰度级。\n直方图也反映图像对比度和亮度。\n直方图分为四个基本类型：RGB直方图、通道直方图、明度直方图和颜色直方图。\n通道直方图：R G B通道分别画直方图。RGB直方图就是通道直方图的叠加。\n明度直方图是复合计算单个像素之后绘制的直方图，相对RGB更能反映一张照片的亮度分布趋势。\n•只有当一个像素中的R、G、B值同时为0 的时候，明度直方图的最左端才有凸起，而RGB直方图只要有任意一个像素中的任意一个R、G、B值为0，它的最左端就有凸起。\n颜色直方图，可以理解为加了颜色的RGB直方图。\nd)一种使用近似一维Means方法寻找二值化阈值：\n①初始化一个阈值T，可以自己设置或者根据随机方法生成。\n②根据阈值图将每个像素数据P(n,m)分为对象像素数据G1与背景像素数据G2。(n为行，m为列)\n③G1的平均值是m1, G2的平均值是m2\n④一个新的阈值T^′=(m1+m2)/2\n⑤回到第二步，用新的阈值继续分像素数据为对象与背景像素数据，继续2～4步，\n⑥直到计算出来的新阈值等于上一次阈值。\n2.局部二值化 全局二值化在表现图像细节方面存在很大缺陷。为了弥补这个缺陷，出现了局部二值化方法。\n•局部二值化的方法就是按照一定的规则将整幅图像**划分为N个窗口，对这N个窗口中的每一个窗口再按照一个统一的阈值$T_i$**将该窗口内的像素划分为两部分，进行二值化处理。\n3.局部自适应二值化\n局部二值化值是没有经过合理的运算得来，一般是取该窗口的平局值。这就导致在每一个窗口内仍然出现的是全局二值化的缺陷。为了解决这个问题，就出现了局部自适应二值化方法。\n•局部自适应二值化的阈值是通过对该窗口像素的平均值E，像素之间的差平方P，像素之间的均方根值Q等各种局部特征，设定一个参数方程进行阈值的计算，例如：T=a*E+b*P+c*Q，其中a,b,c是自由参数。这样得出来的二值化图像就更能表现出二值化图像中的细节。\n2.2图像噪声 •图像噪声是指存在于图像数据中的不必要的或多余的干扰信息。 图像中各种妨碍人们对其信息接受的因素即可称为图像噪声 。\n•噪声在图像上常表现为一引起较强视觉效果的孤立像素点或像素块。是图像信息或者像素亮度的随机变化。一般，噪声信号与要研究的对象不相关，它以无用的信息形式出现，扰乱图像的可观测信息。通俗的说就是噪声让图像不清楚\n来源1.图像获取过程中，图像传感器CCD和CMOS采集图像过程中受传感器材料属性、工作环境、电子元器件和电路结构等影响，会引入各种噪声2.图像信号传输过程中，传输介质和记录设备等的不完善，数字图像在其传输记录过程中往往会受到多种噪声的污染。\n影响•对于数字图像信号，噪声表为或大或小的极值，这些极值通过加减作用于图像像素的真实灰度值上，对图像造成亮、暗点干扰，极大降低了图像质量，影响图像复原、分割、特征提取、图像识别等后继工作的进行。\n脉冲噪声模型\n2.2.1分类 基于产生原因：外部噪声，即指系统外部干扰以电磁波或经电源串进系统内部而引起的噪声。如外部电气设备产生的电磁波干扰、天体放电产生的脉冲干扰等。由系统电气设备内部引起的噪声为内部噪声，如内部电路的相互干扰。内部噪声一般又可分为以下四种：(1)由光和电的基本性质所引起的噪声。(2)电器的机械运动产生的噪声。(3)器材材料本身引起的噪声。(4)系统内部设备电路所引起的噪声。\n基于噪声与信号的关系\na)加性噪声g=f+n：加性噪声和图像信号强度是不相关的和\nb)乘性嗓声g=f+fn：乘性嗓声和图像信号是相关的，往往随图像信号的变化而变化，载送每一个象素信息的载体的变化而产生的噪声受信息本身调制。在某些情况下，如信号变化很小，噪声也不大。为了分析处理方便，常常将乘性噪声近似认为是加性噪声，而且总是假定信号和噪声是互相统计独立。\n基于统计后的概率密度函数：比较重要；引入数学模型，就有助于运用数学手段去除噪声。在不同场景下噪声的施加方式都不同，由于在外界的某种条件下，噪声下图像-原图像（没有噪声时）的概率密度函数（统计结果）服从某种分布函数，就把它归类为相应的噪声。\n2.2.1.1基于统计后的概率密度函数的噪声分类及其消除方式 高斯噪声是指它的概率密度函数服从高斯分布（即正态分布）的一类噪声。如果一个噪声的幅度分布服从高斯分布，而它的功率谱密度又是均匀分布的，则称它为高斯白噪声。高斯白噪声的二阶矩不相关，一阶矩为常数，是指先后信号在时间上的相关性。\n其中x表示灰度值，μ表示x的平均值或期望值，σ表示x的标准差。\n•产生原因：a)电路各元器图像传感器在拍摄时市场不够明亮、亮度不够均匀；b)件自身噪声和相互影响；\nc)图像传感器长期工作，温度过高。\n•噪声对原图像的影响是随机的，直方图呈现的分布形式是基于统计的结果。直方图表示了（归一化后）灰度值的概率密度分布，因此可以使用直方图来表示灰度值的概率密度。\n瑞利噪声伽马（爱尔兰）噪声，其中 α称为形状参数（shape parameter），主要决定了分布曲线的形状，而 β称为 rate parameter（或叫 inverse scale parameter， 1/β称为scale parameter），主要决定曲线有多陡。\n脉冲（椒盐）噪声 一种随机出现的白点或者黑点，可能是亮的区域有黑色像素或是在暗的区域有白色像素（或是两者皆有）。成因可能是影像讯号受到突如其来的强烈干扰而产生、类比数位转换器或位元传输错误等。例如失效的感应器导致像素值为最小值，饱和的感应器导致像素值为最大值。\n如果b\u0026gt;a，灰度值b在图像中将显示为一个亮点，相反，a的值将显示为一个暗点。若Pa或Pb为零，则脉冲噪声称为单极脉冲。如果Pa和Pb均不可能为零，尤其是它们近似相等时，脉冲噪声值将类似于随机分布在图像上的胡椒和盐粉微粒。由于这个原因，双极脉冲噪声也称为椒盐噪声。同时，它们有时也称为散粒和尖峰噪声。\n椒盐噪声是惟一一种引起退化的视觉可见的噪声类型。其他的虽然直方图相似但也很难看出区别。\n直方图和概率密度函数有对应关系。\n2.2.2图像过滤噪声 空间域滤波 频率域滤波 形态学运算 空间域滤波是指直接通过原图像中像素点的灰度值进行数据运算去除噪声的方法,常见的空间域滤波方法主要有均值滤波、中值滤波、高斯低通滤波等；\n//线性 非线性 fo(x,y)= T[ fi(x,y) ]，T是线性/非线性算子\n中值滤波器 非线性平滑滤波器，将图像中以某像素点为中心的窗口范围内的所有像素点的灰度值(包括该中心像素点)进行排序,然后将灰度序列的中间值赋给该中心像素点。\n其他线性滤波考量每个像素，中值滤波会忽略那些相对邻域(此处设为n*n窗口)内大部分像素点而言,亮度偏暗或偏亮,且所占区域小于总像素点一半(即n/2)的像素点的影响,从而有效滤除孤立的噪声点。\n中值滤波法对于某些类型的随机噪声，如图像扫描噪声等等，具有良好的去噪效果，特别是在滤除噪声的同时，能够保护信号的边缘，使之不被模糊。这些优良特性是线性滤波方法所不具有的。中值滤波的算法比较简单，也易于用硬件实现。\n超限中值滤波法 相对中值滤波保留图像细节\n•基于个数的中值滤波法：通过设定阈值T限制邻域内像素点与中心像素点灰度差绝对值的范围，从而将含噪图像中的像素点的属性划分为平坦区域、图像边缘、噪点三类。\n均值滤波/邻域平均法 线性滤波算法，它是指在图像上对目标像素给一个模板，该模板包括了其周围的临近像素（以目标象素为中心的周围8个像素，构成一个滤波模板，即去掉目标像素本身），再用模板中的全体像素的平均值来代替原来像素值。\n对噪声图像特别是有大的孤立点的图像非常敏感，即使有极少数量点存在较大差异也会导致平均值的明显波动。不能很好地保护图像细节，在图像去噪的同时也破坏了图像的细节部分，从而使图像变得模糊，模糊程度与邻域半径成正比不能很好地去除噪声点。特别是椒盐噪声。\n超限邻域平均法 如果某个像素的灰度值大于其邻域像素的平均值，且达到了一定水平，则判断该像素为噪声，继而用邻域像素的均值取代这一像素值\n一般的,“超限邻域平均法”比一般邻域平均法的效果要好\n在操作中对窗口的大小及门限的选择要慎重，T太小，噪声消除不干净；T太大，易使图像模糊\n在实际应用中一般选用3×3窗口加权均值滤波器\n高斯滤波 1、定义 线性滤波器，适用于消除高斯噪声，广泛应用于图像处理的减噪过程。\n2、作用原理 和均值滤波器类似，用一个模板（或称卷积、掩模）扫描图像中的每一个像素，用模板确定的邻域内像素的加权平均灰度值去替代模板中心像素点的值。\n3、系数特征 均值滤波器的模板系数都是1；而高斯滤波器的模板系数，则随着距离模板中心的增大而系数减小（高斯分布）。所以，高斯滤波器相比于均值滤波器对图像个模糊程度较小。\n卷积核：高斯核 理论上，高斯分布在所有定义域上都有非负值，这就需要一个无限大的卷积核。实际上，仅需要取均值周围3倍标准差内的值，以外部份直接去掉即可。\n4、真实图像在空间内的像素是缓慢变化的，因此临近点的像素变化不会很明显，所以高斯滤波在保留信号的条件下减少噪声。这种方法在接近边缘处无效，因此高斯滤波会破平边缘。但是，高斯平滑滤波器对于抑制服从正态分布的噪声仍非常有效。\n5、性质 （1）二维高斯函数具有旋转对称性，即滤波器在各个方向上的平滑程度相同一般来说，一幅图像的边缘方向是事先不知道的，因此，在滤波前是无法确定一个方向上比另一方向上需要更多的平滑．旋转对称性意味着高斯平滑滤波器在后续边缘检测中不会偏向任一方向（2）高斯函数是单值函数，高斯滤波器用像素邻域的加权均值来代替该点的像素值，而每一邻域像素点权值是随该点与中心点的距离单调增减的（3）高斯函数的傅立叶变换频谱是单瓣的；既能保留低频分量，又能保留高频分量，因此能比较好地保留图像的低频和高频信息，并在保留图像信息和滤出噪声之间找到一个平衡点。（4）高斯滤波器宽度(决定着平滑程度)是由参数σ表征的。σ越大，高斯滤波器的频带就越宽，平滑程度就越好。通过调节平滑程度参数σ，可在图像特征过分模糊(过平滑)与平滑图像中由于噪声和细纹理所引起的过多的不希望突变量(欠平滑)之间取得折衷（5）由于高斯函数的可分离性，较大尺寸的高斯滤波器可以得以有效地实现．二维高斯函数卷积可以分两步来进行，首先将图像与一维高斯函数进行卷积，然后将卷积结果与方向垂直的相同一维高斯函数卷积．因此，二维高斯滤波的计算量随滤波模板宽度成线性增长而不是成平方增长．\n6、特征\n1)一个高斯函数跟另外一个高斯函数的卷积仍然是一个高斯函数，A*B=C C的标准差的平方是A和B的标准差的平方和，也就是说卷积后的高斯函数更宽，模糊的效果更明显（直观上看，连续做高斯模糊运算，图像会越来越模糊） 2)高斯函数的傅立叶变换仍然是一个高斯函数，如果原来的高斯函数越宽（标准差越大），变换后的高斯函数就越窄（标准差越小），也就是说一个越宽的高斯函数，低通（高阻）滤波的效果越明显，处理后的图像的细节就越不清楚（更模糊）\n\r第三章 图像增强 3.1 图像增强概述 3.1.1 定义 图像增强(Image enhancement)是图像处理的基本内容之一。图像增强是指按特定的需要突出一幅图像中的某些信息，同时，削弱(weaken)或去除(eliminate)某些不需要的信息。这类处理是为了某种应用目的去改善图像质量，处理的结果更适合于人的视觉特性或机器识别系统。增强处理并不能增加原始图像的信息，而只能增强对某种信息的辨识能力，并且这种处理有可能损失一些其它信息。\n3.1.2 应用 第一类是改善图像的视觉效果；第二是突出图像的特征，便于计算机处理\n图像在生成、获取、传输等过程中,往往会发生质量的损伤，造成图像质量的损坏的因素有： 图像传输等过程中,由于信道带宽的限制所造成的图像模糊；图像中的噪声干扰 信号减弱，对比度下降；成象条件的欠缺，获取图像的清晰度偏低\n图像质量退化的原因 对比度问题：对比度局部或全部偏低,影响图像视觉 噪声干扰问题：使图像蒙受干扰和破坏 清晰度下降问题,使图像模糊不清,甚至严重失真\n图像增强并不去估计图像实际退化的过程和实际退化的因素而加以矫正，而只考虑图像退化的一般性质，加以修正，以求得一般的或平均地图像质量的改进。例如，边缘锐化去模糊、平滑去噪声、直方图修正对比度增强等\n3.2 图像增强方法 3.3 灰度变换/点运算 空间域处理 $g(x,y)=T[f(x,y)]$\n当每次处理只基于一点 $s=T(r)$，$s,r$为该点像素值——点运算\n应用场景：曝光不足或过度，或由于成像设备的非线性和图像记录设备动态范围太窄等因素，会产生对比度不足的弊病，使图像中的细节分辨不清可以使用灰度变换方法解决这些问题\n灰度变换定义：将一个灰度区间映射到另一个灰度区间的变换称为灰度变换\n作用：使图像动态范围加大，图像对比度扩展，图像清晰，特征明显\n3.4.1线性灰度变换 加常数 作用：压缩动态范围，降低对比度\n图像反转（反色） 灰度级范围为$[0,L-1]$的图像：$s=L-1-r$\n乘常数 动态范围压缩/扩展\n一般形式 3.4.2 分段线性灰度变换 对比度拉伸/拓展 将感兴趣的灰度范围线性拓展，相对抑制不感兴趣的灰度区域。\n削波 削波(cliping)可以看做是对比度拓展的一个特例。\n阈值化 阈值化（thresholding）可以看作是削波的一个特例。\n得到二值黑白图像\n灰度级分层 3.3 基于直方图的图像增强 3.3.1 灰度直方图（简称直方图） 定义：对一幅数字图像，若对应于每一灰度值，统计出具有该灰度值的象素数，并据此绘出象素数-灰度值图形。有时直方图亦采用某一灰度值的象素数占全图总象素数的百分比作为纵坐标。\n性质：1. 直方图只包含概率，丢失了位置信息。 2.图像与直方图是多对一的映射关系。3. 一幅图像各子区的直方图之和就等于该图全图的直方图。\n直方图修正：通过灰度映射函数，$G_{new}=T(G_{old})$将原灰度直方图改造成所希望的直方图。\n3.3.2 直方图均衡化 把给定图像的分布改造成均匀直方图分布；均衡化后，图像直方图是平直的，即各灰度级具有相同的出现频次，或各灰度级具有均匀的概率分布。图像看起来就更清晰了（图像对比度增强）。\n 3.5 彩色图像增强 \r\r第六章 图像分割 6.1 图像分割基本介绍  图像处理过程  图像分割的方法：   基于边缘检测的方法（基于灰度值的不连续性）  先找出局部特性的不连续性，再将它们连成边界，边界将图像分成不同区域（通过连通边界进行区域分割）。\n如：边缘检测分割法、Hough变换等。\n 基于区域生成的方法（基于灰度值的相似性）  将像素分成不同的区域（通过同质性基元的聚类进行区域分割）\n如：阈值分割法，区域生长、分裂合并、形态学分割等。\n6.2 边缘检测 1、滤波 边缘检测的算法主要是基于图像强度的一阶和二阶导数，导数对噪声很敏感，因此必须采用滤波器来改善。主要有高斯滤波，采用离散化的高斯函数产生一组归一化的高斯核，然后基于高斯核函数对图像灰度矩阵的每一个点进行加权求和。 2、增强 增强边缘的基础是确定图像各点邻域强度的变化值。增强算法可以将图像灰度点邻域强度值有显著变化的点凸显出来，通过计算梯度幅值来确定 。通常我们用小区域模板进行卷积来计算，有 Sobel 算子、 Roberts 算子、 Prewitt 算子等。 3、检测 经过增强的图像，往往邻域中有很多点的梯度值比较大，所以采用某种方法对这些点进行取舍， 常\n6.3 阈值分割法 阈值分割是直接对灰度图进行计算的分割方法。\n6.3.1 阈值分割原理   通式$g(x,y)=\\begin{cases} \u0026amp;Z_E ,\\ f(x,y)∈Z\\ \u0026amp; Z_B, \\ else \\end{cases}$\t$Z_E=f(x,y)\\rightarrow$半阈值化\n  类间最大方差原则：取最佳阈值时，两部分之间的差别最大，此时错分概率最小\n  如图所示，若物体暗，背景亮。门限选双峰间的凹谷\n 分类     阈值类型 适用情况     全局阈值 图像中目标和背景有明显差别，而且这种差别在图像中的任何位置都几乎相同。   局部阈值 目标和背景的对比度随着位置的不同可能有较大变化(比如光照不均)。   单阈值 图像中只有单个目标和单个背景的情况，或者只对图像进行简单的划分。   多阈值 图像中存在多个目标或多个背景的情形，或者对图像进行多个层次的划分。   直接阈值 对比度较大的图像，图像中在区域内部灰度基本一致，而不同区域之间灰度有较大的差异。   间接阈值 图像中的目标和背景差别不是很大，如果不作处理直接选取阈值的话，用这个阈值不能很好地分割图像。    6.3.2 阈值处理 6.3.2.1 基本全局阈值处理 1、为全局阈值T选取一个初始估计值\n2、分割图像。产生两组像素G1和G2\n3、对G1和G2中的像素分别计算平均灰度值（均值）m1和m2\n4、在m1和m2之间计算新的阈值 $T=\\frac{1}{2}(m_1+m_2)$\n5、重复2-4，直到连续迭代中的两个T的差小于预定义的ΔT\n6.3.2.2 TODO Otus方法的全局阈值处理/类间最大方差法 基本思想：经过适当的阈值化的两个类，就其像素灰度值而言，应当是截然不同的。同理，就其灰度值而言，给出最佳类间分离的阈值将是最佳的阈值。\n求解过程不需要人为设定其他参数，完全由计算机自动选取。它不仅适用于两个区域的分割，也可以推广到多个区域的情形。\n6.3.3 改进 a 图像平滑改进 噪声会将简单的阈值处理问题变得不可解决，当噪声不能在源头减少，并且需要用阈值处理分割图像时，通常在阈值处理之前平滑图像，以增强阈值处理的性能。\nb 边缘改进 边界明显，但是整体灰度值相近：求梯度，根据梯度幅度图像得到的模板图像P，原图像和P相乘得到的结果进行处理\nc 可变阈值处理 (i) 基于局部图像性质 在图像的每个点(x,y)，根据坐标的一个邻域的一条或多条规定性质计算阈值。\n$T_{xy}=aσ_{xy}+bm_{xy}=aσ_{xy}+bm_G$，其中a、b大于0\n(ii) 基于移动平均 一维数组 序列信息 沿一幅图像的扫描行计算平均\nz形扫描$(m_{ij})_{n\\times n}$ 得到 $[m_{11},m_{12},\u0026hellip;,m_{1n},m_{2n},m_{2n-1}]$\n第$k+1$次扫描遇到的点的灰度：\n阈值$T_{xy}=c\\times m_{xy}$\n6.4 区域分割法 6.4.1 区域生长 Bottom-up 步骤 1、种子像素作为生长的起点； 2、确定一个相似性标准（评判是否合并的条件）； 3、按照相似性标准，将种子像素的邻域中具有与种子相同和相似性质的像素，合并到种子的区域中； 4、将新像素当作新的种子像素继续进行上面的过程，直到再没满足条件的像素可被包括进来为止，这样就完成了一个区域的生长； 5、按此方法，完成其它区域的生长，直到将整幅图像完全分割。\n关键\n  种子选取（利用特征或先验知识） 最亮的像素；直方图极大值；聚类中心处像素\n  相似性准则(生长准则)确定 区域灰度差；区域内灰度分布特性；颜色、纹理、尺寸形状等。\n  生长停止条件确定 区域大小；区域与候选像素相似性；正在增长区域的形状。\n  优点 计算简单，通常能将具有相同特征的联通区域分割出来。在没有先验知识可以利用时，可以取得最佳的性能\n缺点 对噪音敏感，导致抽取的区域有空洞\n6.4.2 区域分离与聚合 Up-down 步骤 1、进行一次分裂； 2、考察所有相邻区域是否可以合并，若可以，则将其一一合并； 3、重复步骤1、2的分裂合并过程，直到分裂和合并都不能再进行为止。\n注意：合并时一般先考虑同一个父节点下的4个区域，之后再扩展到其它父节点下同层次的区域。\n难点 分裂与合并的准则不好判断。分裂的准则又称为均匀性测试准则，用于判断该块图像是否需要分裂。 当均匀性测试准则选择不当时，很容易会引起“方块效应”。\n6.4.3 空间聚类/K均值聚类 将观测集合Q划分为k个满足如下最优准则的不想交的聚类集合$𝐶={𝐶_1,𝐶_2,…𝐶_𝑘}$:1、初始化算法：规定一组初始均值$m_i (1),i=1,2,…,k$\n2、将样本分配给聚类：将每个样本分配给均值最接近的聚类集合（关系被任意求解，但样本只分配给一个聚类）：\n$z_q→C_i$,如果$‖z_q-m_i^2 ‖\u0026lt;‖z_q-m_j ‖^2$,$j=1,2,…,k(j≠i);q=1,2,…,Q$\n3、更新聚类中心（均值）：\n$m_i=1/|C_i | ∑129_(z∈C_i)▒z,i=1,2,…,k$\n4、完备性检验：计算当前步骤和前几步中平均向量之间的差的欧几里得范数。计算残差E，即k个范数之和。若E≤T，其中T是一个规定的非负阈值，则停止。否则，返回步骤2.\n6.4.4 超像素的区域分割 \r第七章 图像的特征提取 定位 初始关键点 localize where to describe features 描述 如何描述这些区域/点\n7.1 背景知识 图像分析系统的基本构成\n在图像分割后，为了进一步的处理，分割后的图像一般要进行形式化的表达和描述。 解决形式化表达问题一般有两种选择： 1、根据区域的外部特征来进行形式化表示 2、根据区域的内部特征（比较区域内部的象素值）来进行形式化表示\n选择表达方式，要本着使数据变得更有利于下一步的计算工作。下一步工作是基于所选的表达方式描述这个区域，一般情况下： 1、如果关注的焦点是形状特性，选择外部表示方式 2、如果关注的焦点是反射率特性，如颜色、纹理时，选择内部表示方式。 3、所选表示方式，应该对尺寸、变换、旋转等变量尽可能的不敏感\n7.2 TODO边界预处理 7.2.1 区域骨架抽取 1、Blum的中轴变换方法（MAT：Medial Axis Transform） 设:𝑅是一个区域，𝐵为𝑅的边界，在𝑅中寻找点𝑝(x, y)，使𝑝最接近于B。如果𝑝有多这个这样的临点（最近邻点\u0026gt;=2），则𝑝点形成的轨迹为R的中轴（骨架）。 存在问题：计算量大\n7.3 TODO特征描述子 7.3.1 边界特征描述子 7.3.2 区域特征描述子 7.3.2.1 基本描述子 7.3.2.2 纹理描述(基于直方图、基于统计方法、基于谱方法) 1、定义 纹理特征刻画了图像中重复出现的局部模式与他们的排列规则，常用于图像分类和场景识别。\n2、特点 反映物体表面的特性，无法完全反映出物体的本质属性，所以仅用纹理特征无法获得图像的高层次内容。\n3、基于直方图的纹理测度\n令z是一个表示灰度的随机变量，$𝑝(𝑧_i), i = 0,1,2…𝐿$是对应的归一化直方图，其中𝐿是不同灰度级的数量\n 均值 $m=\\sum_{i=0}^{L-1}z_ip(z_i) $ 𝑍相对于平均值的𝑛阶矩 $\\mu_n=\\sum_{i=0}^{L-1}(z_i-m)^np(z_i) $ 一致性测度 $U=\\sum_{i=0}^{L-1}p^2(z_i) $ 方差 $\\sigma^2(z)=\\mu_2(z)$ 相关性测度 $R=1-\\frac{1}{1+\\sigma^2(z)},$其中$\\sigma^2(z)$最好除以$(L-1)^2$进行归一化。 熵 $e(z)=-\\sum_{i=0}^{L-1}p(z_i)log_2p(z_i)$  U对所有灰度级都相等的图像有最大值（极大 一致性） ， 并从最大值开始降低。熵是可变性的测度，对恒定图像其为零。\n4、基于统计方法的纹理描述\n（1）灰度共生矩阵(GLCM, Gray-level co-occurrence matrix)通过计算灰度图像得到它的共生矩阵，然后再计算所得到的共生矩阵的部分特征值，来分别代表图像的某些纹理特征。\n（2）作用 灰度共生矩阵能反映图像灰度关于方向、相邻间隔、变化幅度等综合信息（直方图无法体现），它是分析图像的局部模式和它们排列规则的基础。\n（3）灰度共生矩阵构建方法 1、矩阵$G$大小为灰度级的数量。 8比特(256灰度级）大小为256x256。为减少计算量，也会采取将灰度级量化，减小数据量 2、$g_{ij}$表示灰度为$z_i$和$z_j$的像素对在Q规定的位置上出现的次数。Q是定义两个像素的相对位置的算子\n（4）共生矩阵特性描述 $$ p_{ij}=\\frac{g_{ij}}{n} $$\n$n$满足Q的像素对的总数（G元素加和）\n          随机图像的共生矩阵为随机矩阵 正弦波的对称性，像素对𝑧i, 𝑧j 的数量与产生对称共生矩阵的像素对𝑧j,𝑧i 数量相同 很多值沿主对角线也是分组的，但是分布比G2密集，这一性质表明图像的灰度值变化很大    4、谱方法（了解） 傅里叶谱非常适合描述图像中周期或半周期二维模式的方向性。这样的全局纹理模式很容易区分为谱中高能量的集中爆发。\n用于纹理描述的傅里叶谱的特点 1、谱中的突出峰给出纹理模式的主方向 2、频率平面上的峰值位置给出纹理模式的基本空间周期 3、通过滤波可以消除任何周期分量\n谱特征的检测和解释\n通常可在极坐标中将谱表示为函数𝑆(𝑟, 𝜃)。对于每个方向𝜃，𝑆(𝑟, 𝜃)可表示为一维函数$𝑆_{\\theta}(𝑟)$ 𝜃固定时，分析$𝑆_{\\theta}(𝑟)$得到从原点到径向的方向的谱的特性（如峰的出现）𝑟固定时，分析得到一个以原点为圆心的圆上谱的特性7.3.3 特征描述子的主分量 假设有n幅配准（目标通过图像变换重合）的图像，那么所有图像中相同空间位置的对应图像可以排列为一个n维向量$\\bold{x}= [𝑥_1 ,𝑥_2 ⋯𝑥_n]^T$\n  总体平均向量 $\\bold{m_x}=E(\\bold{x})$ 比如每幅图像都是524*524,就是524*524个n维向量求均值\n  协方差矩阵   霍特林变换 其中A为一个矩阵，这个矩阵的各行由𝑪𝒙的特征向量构成，并按特征值降序排列\n  性质\n𝑪𝒚是对角阵，主对角元素是𝑪𝒙的特征值\nLDA PCA 特征值由x维度决定\n7.4尺度不变特征变换 SIFT Scale-invariant feature transform 1、构建尺度空间\nOctave1 images smoothed using Gaussian lowpass kernels (k\u0026gt;1) （$\\sigma$越大越模糊）\nOctave2 Octave1下采样\n","date":"2021-05-18T00:00:00Z","permalink":"https://K7288.github.io/posts/image-processing-and-computer-vision/","title":"Image Processing and Computer Vision"},{"content":" 实现页内跳转  基本语法 注意事项 A subtitle just for test 测试 a A  测试——测试 测试:一个测试   1.测试   目录实现  实现页内跳转 基本语法 [\u0026lt;提示语\u0026gt;](#\u0026lt;目标内容\u0026gt;) 注意事项   若标题是英文，在(#\u0026lt;目标内容\u0026gt;)中需要小写\n例如 [例如](#a-subtitle-just-for-test)\n  若标题中出现空格，需要用-连接\n例如 [例如](#测试-a-a)\n  (#\u0026lt;目标内容\u0026gt;)中不能出现半角点(即英文中的句号).，似乎也不支持其他标点，(#\u0026lt;目标内容\u0026gt;)中需要将标点删除\n测试:一个测试 [测试:一个测试](#测试一个测试)\n1.测试 [1.测试](#1测试)\n测试——测试 [测试——测试](#测试测试)\n  A subtitle just for test 测试 a A 测试——测试 测试:一个测试 1.测试 目录实现  VS code插件 Markdown All in One  ctrl+shift+p Markdown All in One: Create Table of Contents   TODO 实现侧边目录   😂 已经出现了对“测”的完型崩坏\n","date":"2021-05-16T10:35:13+08:00","permalink":"https://K7288.github.io/posts/menu/","title":"Menu"},{"content":"The effect of stride length on lower extremity joint kinetics at various gait speeds\nResearch question In this study, we investigated how sagittal plane joint moments are affected by a factorial modulation of two important gait parameters: gait speed and stride length.\nWe designed an experimental study to establish the effects of GS and SL on the resulting hip, knee, and ankle joint moments. The findings are intended to inform the design of a robotic controller that delivers pulses of torque to the lower extremity joints with optimal timing and amplitude to induce desirable modulations of GS and SL, and of associated spatiotemporal parameters.\nConcepts sagittal plane矢状面，把身体分成左右两条，解剖学用来描述身体各部分位置（类似经线）N.B.不只有中线\nsagittal plane movement包括任何具有前后成分的运动\nNotations GS: gait speed\nTLA: trailing limb angle\nSL: stride length\nSL for cycle k was defined based on the right heel strike time t and anteroposterior coordinate in the laboratory frame x and constant velocity of the treadmill v\n$SL_{(k)}=x_{(k+1)}-x_{(k)}+v(t_{(k+1)}-t_{(k)})$\nBackground   gait training devices\n  that promote desired changes in gait\n  Challenges in developing such devices: limited understanding of human response to robotic input\n 比如机器人运动辅助会怎样影响gait speed    Possible method of controller formulation: control robot to apply the change in joint moment applied by human subjects when they achieve a gait feature of interest.\n  However, it is currently unclear how lower extremity joint moments are modulated by even basic gait spatio-temporal parameters.\n    GS $\\leftrightarrow$ propulsive force + Propulsive impulse $\\leftrightarrow$ TLA $\\Rightarrow$ GS $\\leftrightarrow$ TLA\nGS correlated with anterior- posterior ground reaction force(the propulsive force of the foot against the ground)1\nPropulsive impulse冲量(the propulsive force integrated over time), is associated with the posture of the trailing limb at push-off.2 The posture of the trailing limb at push-off is quantified by one kinematic parameter, known as trailing limb angle (TLA), defined as the angle of the line connecting the hip joint center and foot center of pressure at the instant of peak propulsive force, relative to the global vertical axis最大推进力瞬时髋与足中心连线与竖直方向的夹角\nWhen increasing GS, the increase in TLA contributes twice as much as the increase in ankle moment to the resulting increase in propulsive force. In older adults exposed to a biofeedback paradigm for increasing propulsive force, increased TLA and decreased hip flexor power were the primary means by which they increased propulsive force.\n  A possible method of controller formulation can be derived from the principle of bio-inspiration, where a robot is controlled to apply the difference in joint moment applied by human subjects when they achieve a desired gait feature (in this case modulation of TLA), relative to their normal walking condition. 控制思路：检测TLA变化，根据正常行走时的关系调整辅助系统的关节运动\n  Since TLA has not been a primary measure ofinterest in the biome- chanics literature, we extended our search to a more common variable, likely correlated to TLA, such as stride length (SL).\n  GS modulation和magnitude of peak joint moments的关系研究得比较多，hip knee ankle和变化的先后关系、出现的phase等；However, fewer investigations have focused on the joint kinetics associated with the modulation of spatiotemporal parameters such as SL or TLA, and studied this effect at multiple GS values.又列举了一些证明SL和关节动力学有关的研究；Thus far, the factorial modulation ofboth GS and SL and resulting hip, knee, and ankle kinetics has not been investigated; as such it is unclear how lower extremity joint moments are modulated by both gait parameters.\n  Materials and Methods  准备：跑步机；36 reflective spherical markers (4 on the pelvis, 4 per thigh, 4 per shank, 2 per knee, and 6 on ankle/foot；摄像头动捕；Marker data were acquired at 100 Hz, while the treadmill analog force/torque data were acquired at 2 kHz；biofeedback 显示当前SL使被试进行调整 采样：GS 5 * SL 3 = 15种场景；  Results  gait speed has a significant effect on the moment profiles in all joints considered； stride length has more localized effects on the knee moment during stance, and smaller effects observed for the hip joint moment during swing and ankle moment during the loading response. TLA Trailing limb angle, a parameter of interest in programs targeting propulsion at push-off, significantly correlated with stride length. As such, our study has generated candidate assistance strategies.  1    Highlights Limits/Further Work Thoughts/Comments   实验对象的描述可参考。\nSubjects 20 healthy adults (10 males, 10 females) were recruited to participate in this study (protocol approved by the University of Delaware Institutional Review Board, protocol no. 619724). Subjects—age (mean ± std) 21.55 ± 2.50 yrs, height 1.73 ± 0.08 m, body mass 69.20 ± 8.73 kg— were naive to the purpose of the study, and free of orthopedic or neurological disorders affecting walking function. Subjects were required to wear their own comfortable athletic shoes and lightweight clothing for the walking experiment.\n  References   Bowden MG, Balasubramanian CK, Neptune RR, Kautz SA. Anterior-Posterior Ground Reaction Forces as a Measure of Paretic Leg Contribution in Hemiparetic Walking. Stroke. 2006; 37:872–877. https://doi.org/10.1161/01.STR.0000204063.75779.8d PMID: 16456121\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Peterson CL, Cheng J, Kautz SA, Neptune RR. Leg extension is an important predictor of paretic leg propulsion in hemiparetic walking. Gait \u0026amp; Posture. 2010; 32(4):451–456. https://doi.org/10.1016/j. gaitpost.2010.06.014\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2021-05-13T10:44:02+08:00","permalink":"https://K7288.github.io/posts/the-effect-of-stride-length-on-lower-extremity-joint-kinetics-at-various-gait-speeds/","title":"The effect of stride length on lower extremity joint kinetics at various gait speeds"},{"content":"Toward Pervasive Gait Analysis With Wearable Sensors: A Systematic Review Abstract 对当前的定量步态分析技术进行系统的综述，并提出关键指标，来评估现有的通过可穿戴传感器提取步态特征的方法。它旨在突出这一快速发展的研究领域中的关键进展，并概述研究和临床应用的潜在未来方向。\nSECTION III. Methods for Extracting Relevant Gait Features From Wearable Sensors A.文献检索\nB. Kinematics\nKinematic information is a well-established set of gait measures in biomechanical analysis.\n从惯性传感器获取运动学信息似乎很直观，但是要获得关于人体运动学的准确空间信息仍然很困难：全局失准和integration drift\nC.时序特征\nD.利用惯性传感器的步速提取\nLaudanski et al. [104] reviewed the current research (16 papers in total) on gait speed estimation using inertial sensors, classifying the current gait speed estimation model into three categories: abstraction model (i.e., machine learning approach), human gait model, and numerical integration, shown in Fig. 5.\nTODOS. Chen and J. Lach, \u0026ldquo;Nonlinear feature for gait speed estimation using inertial sensors\u0026rdquo;, Proc. 8th Int. Conf. Body Area Netw., pp. 185-188, 2013.利用了生物力学提出了新的特征，自动特征选择算法\nE. Novel Features Extracted Using Nonlinear Analysis Techniques 步态稳定性和步态复杂性等\nF. Kinetics and Muscle Activity\n从惯性传感器提取步态特征\n从鞋垫压力传感器和EMG传感器提取步态特征\nStep Length Estimation Methods Based on Inertial Sensors: A Review //根据Perry经典的阶段模型，利用传感器的时序信号可以进行步态周期的划分，可以估算出步频，使得步速可以推导出步幅。\n由此步速和步幅/步长的估算类似。\nDeep Learning for Monitoring of Human Gait: A Review ","date":"2021-05-12T22:17:44+08:00","permalink":"https://K7288.github.io/posts/%E6%AD%A5%E9%80%9F%E4%BC%B0%E8%AE%A1%E7%BB%BC%E8%BF%B0%E6%95%B4%E7%90%86/","title":"步速估计综述整理"},{"content":"基于几何与物理特征融合的智能下肢假肢运动意图识别Movement intention recognition of intelligent lower limb prosthesis based on the fusion of geometric and physical features\nResearch question 将关节角表示的几何特征与加速度、角速度表示的物理特征有机融合并应用于智能下肢假肢的运动意图识别\nIntroduction 传统的意图识别方法所用传感器数量及种类较多, 特征向量维数偏高, 统计特征对短时样本具有不稳定性（在1.3 特征选择与提取有公式证明）。related work没有结合几何和物理。\nMethods   采样：健侧大腿、小腿惯性测量单元于摆动相前期所产生的运动时序数据作为样本；\n  数据处理：移动平均滤波器滤波去噪\n  特征提取：\n 几何特征：根据两个传感器的加速度、角速度计算一维的膝关节角，FDA方法提取最值斜率 物理特征：加速度、角速度的均值、方差  均值、方差、最值斜率融合构成25维的特征基构建特征向量\n  SVM分类\n  Results 13种日常行为进行分类。实验结果：对5类稳态模式: 平地行走、上楼、下楼、上坡和 下坡的识别率达到96.9%, 对8类转换模式的识别率达到97.1%, 对13 种模式的识别率为94.3%。\nHighlights 减少了传感器的数量及种类, 降低 了特征向量的维数降低了算法复杂度且避免了滞后性问题, 用加速度、 角速度及膝关节角三个参数共同对人体下肢运动的运动学特点进行表征。\n在特征的提取上, 将FDA方法与统计方法相结合, 弥补了仅提取统计特征的不稳定性问题。\nLimits/Further Work 对于13种动作的识别率有待提高, 后期工作会集中于对类间相似性相对较强较难区分的动作进行分类, 如: 下楼与下坡, 走到下楼 与走到下坡等. 此外, 关节角度是一个可深度挖掘的几何信息, 如: 除膝关节外的髋关节与踝关节对下肢假肢运动意图中的作用有待进一步探究. 最后, 在分类策略如分类器上, 依然有改进的空间.\nThoughts/Comments   项目申报相关：\n 统计方法不稳定可以作为采用多种方式的依据。 联想到选题中“特征提取”，对“特征”的理解更清晰了。    本文特征提取：选定一个phase的时序信号，均值方差；那么可以用其他phase做类似处理得到更多指标，而不仅仅依赖原有数据。TODO 本文的去噪和特征工程方法可以参考。\n  了解了提取关节角的方法。\nTODO 具体公式待后续整理。\n  根据行文是通过“实时传输解决滞后性问题解决”，是这样吗，主要矛盾是这里吗，那related work为什么不试试实时？后面可以看一下别人为什么会有滞后性问题\n  仅是识别（分类），没有提到识别后如何基于意图进行控制。\n  ","date":"2021-05-12T20:52:44+08:00","permalink":"https://K7288.github.io/posts/%E5%9F%BA%E4%BA%8E%E5%87%A0%E4%BD%95%E4%B8%8E%E7%89%A9%E7%90%86%E7%89%B9%E5%BE%81%E8%9E%8D%E5%90%88%E7%9A%84%E6%99%BA%E8%83%BD%E4%B8%8B%E8%82%A2%E5%81%87%E8%82%A2%E8%BF%90%E5%8A%A8%E6%84%8F%E5%9B%BE%E8%AF%86%E5%88%AB/","title":"基于几何与物理特征融合的智能下肢假肢运动意图识别"},{"content":"\u0026ldquo;Section Four - Gait Analysis Systems\u0026rdquo; from Gait Analysis: Normal and Pathological Function1\nBasically, there are 5 measurement systems.\nThree of these focus on the specific events that constitute the act of walking.\n行走各个阶段\n Motion analysis defines the magnitude and timing of individual joint action. Dynamic electromyography iden­tifies the period and relative intensity of muscle function. Force plate recordings display the functional demands being experienced during the weight-bearing period.  The two remaining gait analysis technics summarize the effects of the person\u0026rsquo;s gait mechanics.\n行走整体效果\noverall walking capability, one measures the patient\u0026rsquo;s stride char­acteristics efficiency revealed by energy cost  Motion analysis 运动分析 Problems: the technical challenge of making the necessary measurements; the effect of out-of-plane movement on the amount of sagittal motion that is perceived.\u0026mdash;\u0026gt;placing a goniometer(测角仪) on the limb and using three-dimensional camera recording\n获取数据$\\rightarrow$标注关节\n中立位确定（根据解剖学by the American Academy of Orthopaedic Surgeons）以及关节骨骼旋转方向正负的定义见原书1p374\nReference scales. The direction for graphing each motion of the individual joint is identified. \u0026ldquo;0\u0026rdquo; represents the neutral position for the motion. Vertical axis indicates magnitude of motion. Arrow denotes increasing values for each direction. Horizontal axis represents the gait cycle time scale.\nMotion Data Interpretation The minimum information available from a motion record is the magnitude of the peak angles (high and low) experienced by the joint being studied.\n通过峰值划分motion，和正常状态下相比较（1️⃣magnitudes of joint motion 2️⃣ timing of the action 3️⃣ coordinating the motion patterns of the adjacent joints）\nDynamic Electromyography 肌肉控制与动态肌电图 EMG Quantification 肌电图量化 Manual (or descriptive); Electronic summation of the EMG signals; Computer quantification\n采样频率2500Hz 但数据过多，一般取1000或500Hz\n数字化，对信号进行全波整流（避免正负值在后续处理中相互抵消。整流包括将所有的负信号转置到零线的正侧）\n在一个适合的时间间隔进行累加；0.01秒interval(大约1% GC)被发现是最好的;3% interval: less variability in the EMG wave\n归一化技术：将每个电极的功能数据作为参考值将同一电极产生的值转化为比率(通常以百分比表示)。\nadjusting the onset and cessation times of the individual quantified records to match the mean timing.\nEMG Interpretation timing与运动相 phases有关 用于判断当前运动状态\nRelative Effort 运动越用力，振幅变大，图形密集\nEMG和force相互推导\nGround Reaction Force and Vector Analysis 步态动力学——地反力、向量、力矩、功率和压力 ground reaction forces (GRF)\nVertical Load Characteristics Normal stance phase pattern of vertical forces generated by the customary walking speed of 82m/ min has two peaks separated by a valley.\nThe force on the force plate changes with changing vertical acceleration.\n峰值值约为体重的110%，而谷值力约为体重的80%。第一个峰(F1)发生在MS的开始，此时身体的重心正在迅速下降。在MS后期，谷值(F2)是由身体向前滚过静止的脚时重心上升造成的。第二个峰值(F3)出现在TS后期，再次表明身体重心向前落在TS的前足上时重心下降。\nVertical force \u0026amp; Speed v减小，峰谷更平坦，反之亦然。\nThe magnitude of the vertical force changes with variations in gait speed. Walking at slower speeds (\u0026lt;60m/min) reduces the momentum, and therefore the vertical acceleration, with a corresponding decrease in both the peaks and valley deviations from body weight.\nConversely, fast walking speeds induce higher peaks and lower valleys. Running registers peaks 2.5 times body weight.\nHorizontal Shear The forces generated parallel to the wa1king surface are called shear.\nHorizontal forces in the anterior-posterior (AP) plane: the ground reaction force vector deviates from the vertical.\nHorizontal medial-lateral (ML 内侧 外侧 ) shear forces: the exchange of body weight from one limb to the\nML force is least, being less than 10% of body weight. Peak medial shear (5% BW) occurs in mid loading response. Lateral shear reaches a peak (7% BW) in terminal stance.\nThe AP shear force (also called fore-aft forces) is equivalent to less than 25%of body weight. At initial contact there often is a momentary aft shear (13% BW).\nLoading the limb rapidly introduces an anteriorly directed force, which reaches a peak (13% BW) at the end of the loading response phase. This is not sustained.\nMid stance is an interval with minimal sagittal shear until just before heel rise, when a posterior shear begins. There is a rapid rise in the posterior force throughout terminal stance, with a final peak equaling 23%BW.\n⬆️ Normal ground reaction force pattern during stance. (a) Vertical force; (b) Lateral shear (horizontal); (c) Progressional shear (horizontal fore/aft).\nVectors Joint Torques Torque is defined as the product of the force and its lever arm T = FxL. The lever (or moment arm) for the joint torque presented by the body\u0026rsquo;s posture is the perpendicular distance between the line of action of the vector and the center of the joint. The vertical ground reaction is the determining force in stance. By combining motion and vector data the torques occurring throughout the stride can be calculated. Sagittal plane data define the flexion and extension torques. Coronal plane measurements identify the abduction and adduction demands. Transverse moments (torques) are calculated by combin­ing the fore-aft and mediolateral values. Calculation of joint torques from the vector and motion data, as just described, is technically easier, but the effects of gravity and inertia are not included. Studies comparing moment calculations with and without consider­ing the gravitational and inertial factors have shown no difference in the ankle data, but at the hip and knee there were intervals in the gait cycle where the simple vector data registered higher values The investigators have differed on the significance of these findings. Bressler and Frankel noted a brief increase in both the knee and hip values at the beginning loading response of approximately 20% and a similar difference in terminal stance for the hip. Mikosz et al noted the exaggeration of the sagittal knee and hip torques (expressed in units of percent body weight X stature) was 1 % each. These two groups of authors concluded that for most situations, use of the unmodified vector data was adequate. Wells , in contrast, felt the omission of the While very significant for understanding the logic of muscular action, the resulting numbers tend to be too abstract for most clinicians.\n自重会带来影响但部分研究人员认为可以忽略。\nCenter of Pressure C/P base of the GRF vector lies within the foot, as that is the body segment in contact with the floor.\nWhile the word pressure is in common use, it is not correct, as the area of contact is not considered in the calculation. Center of support would be more accurate.\nEach C/P point represents the mean of the vertical forces on the four instrumented supporting posts of the force plate. By also defining the location of the foot on the force plate, an anatomical correlation can be made. The center of pressure is related to the plantar outline of the foot, but its location does not necessarily identify that portion of the foot receiving the greatest pressure. Only during the period of isolated heel support in loading response or the forefoot support interval in terminal stance will the C/P have any anatomical significance. Even then, the C/ P point represents an average of all the forces on either the heel or forefoot, not the site of maximum pressure.\nThe C/P is located in an anatomical area that makes little or no contact with the floor. C/P位于一个解剖区域，很少或没有接触地板。\nIntrinsic Foot Pressure To determine the pressures experienced by the different structures within the foot\nStride Characteristics 步幅分析 The natural mix of joint mobility, muscle strength, neural control and energy leads to a customary walk­ing speed, stride length and step rate. These time and distance factors, in combination with the swing and stance times, constitute the person\u0026rsquo;s stride characteristics.\nNormal persons, while able to voluntarily modify their gait velocity as needed, also have a spontaneous rate that is called either free or customary walking speed (CWS). This free rate of travel designates the optimum functional balance of the person\u0026rsquo;s physical qualities.\nVelocity = Stride Length x 0.5 Cadence Cadence (step rate)\nNormal Variability Normal adults show a moderate variability in their free walking velocity. One group of 60 subjects ages 20 to 65 years showed a 7% standard deviation during indoor testing following pretraining to a common cadence. Another 111 persons ages 20 to 80 tested on an outdoor track displayed a 4% deviation. Two identifiable sources of this variability are age and height (or limb length). Age\n A notable difference in velocity (14%) when arthritis and other disabilities are allowed as natural events. With healthy subjects the influence of age is less, but increases as years beyond 65 are added. The decrease in mean velocity was just 3% for a 60- to 65-year-old group. This increased to 9% when the study group included ages 60 to 80; significant decline in walking ability began after age 70 years.  Limb Length 儿童中显著；成人腿长与步幅相关性不强($r^2$ = 0.21 ~ 0.28)\nVoluntary Variability Normal persons have a wide range of safe and relatively comfortable walking speeds.\nthe changes in stride length and cadence were about equal. (of similar percentage)\nThe standard deviations for normal free walking is approximately 10% of the mean value. The preceding data indicate 4% of this deviation is related to leg length. Age has no significance until the person is past 60 years. Thus, the larger factor appears to be spontaneous variability.\nEnergy Cost 能量消耗 与实验无关，暂略\n  J. Perry, J.M. Burnfield Gait Analysis: Normal and Pathological Function(2nd ed.), SLACK Incorporated (2010)\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2021-05-08T00:00:00Z","permalink":"https://K7288.github.io/posts/gait-analysis-systems/","title":"Gait Analysis Systems"},{"content":"Gait analysis 步态分析简述1 Factors and parameters 影响步态的因素 The gait analysis is modulated or modified by many factors, and changes in the normal gait pattern can be transient or permanent. The factors can be of various types:\n Extrinsic: such as terrain, footwear, clothing, cargo Intrinsic: sex, weight, height, age, etc. Physical: such as weight, height, physique Psychological: personality type, emotions Physiological: anthropometric characteristics, i.e., measurements and proportions of body Pathological: for example trauma, neurological diseases, musculoskeletal anomalies, psychiatric disorders  Parameters 描述步态的参数 The parameters taken into account for the gait analysis are as follows:\n  Step length 步长\n  Stride length 步幅\n  Cadence 节奏(Step rate; xx steps per minute)\n  Speed\n  Dynamic base\n  Progression line 渐进线\n  Foot angle\n  Hip angle\n  Squat performance\n  gait parameters：一种分类2 Joint angles Gait events/Gait phases initial and end contact(most common) (IC) initial contact; (LR) loading response; (MS) mid stance; (TS) terminal stance; (PS) pre-swing; (EC) end contact; (SW) swing\nSpatiotemporal parameters Stride Time , Step time, Stance time, Gait velocity, Cadence, Stride symmetry\nGait Analysis: three basic approaches3 The simplest system subdivides the cycle accord­ing to the variations in reciprocal floor contact by the two feet. A second method uses the time and distance qualities of the stride. The third approach identifies the functional significance of the events within the gait cycle and designates these intervals as the functional phases of gait.\nGait cycle (GC) One gait cycle (a single sequence of these functions by one limb) can be divided into two phases, stance (ST) and swing (SW), which can be subdivided into five and three phases, respectively.\nStance is the term used to designate the entire period during which the foot is on the ground. Stance begins with initial contact.\nSwing applies to the time the foot is in the air for limb advancement. Swing begins as the foot is lifted from the floor (toe-off).\nStance is subdivided into three intervals according to the sequence of floor contact by the two feet. Both the start and end of stance involve a period of bilateral foot contact with the floor (double stance), while the middle portion of stance has one foot contact.\nInitial double stance(10%) begins the gait cycle. It is the time both feet are on the floor after initial contact. An alternate term is double limb support. This designation is to be avoided, however, as it implies an equal sharing of body weight by the two feet, which is not true during most of the double stance interval. Single limb support(40%) begins when the opposite foot is lifted for swing. In keeping with the terminology for the double contact periods, this should be (and often is) called single stance. To emphasize the functional significance of floor contact by just one foot, the term support is preferred. During the single limb support interval the body\u0026rsquo;s entire weight is resting on that one extremity. The duration of single stance is the best index of the limb\u0026rsquo;s support capability. Terminal double stance(10%) is the third subdivision. It begins with floor contact by the other foot (contralateral initial contact) and continues until the original stance limb is lifted for swing (ipsilateral toe-off). The term terminal double limb support has been avoided, as weight bearing is very asymmetrical.\n(根据两腿所在的运动相划分，与phase不同)\nGait Cycle ＆ Speed   The precise duration of these gait cycle intervals varies with the person\u0026rsquo;s walking velocity. The duration of both gait periods shows an inverse relationship to walking speed. That is, both total stance and swing times are shortened as gait velocity increases. The change in stance and swing times becomes progressively greater as speed slows.\n  Among the subdivisions of stance a different relationship exits. Walking faster proportionally lengthens single stance and shortens the two double stance intervals. The reverse is true as the person\u0026rsquo;s walking speed slows. This pattern of change also is curvilinear.\n  Having an interval when both feet are in contact with the ground for the limbs to exchange their support roles is a basic characteristic of walking. When double stance is omitted, the person has entered the running mode of locomotion.\nStride and Step Stride is the equivalent of a gait cycle. It is based on the actions of one limb.The duration of a stride is the interval between two sequential initial floor contacts by the same limb (i.e., right IC and the next right IC).\nStep refers to the timing between the two limbs. There are two steps in each stride (or gait cycle). At the midpoint of one stride the other foot contacts the ground to begin its next stance period. The interval between an initial contact by each foot is a step (i.e., left and then right). The same offset in timing will be repeated in reciprocal fashion throughout the walk.\nGait Phases The phases of gait also provide a means for correlating the simultaneous actions of the individual joints into patterns of total limb function. 联系关节模式和运动\nTasks weight acceptance (WA) Weight acceptance begins the stance period and uses the first two gait phases (initial contact and loading response).\nSingle limb support (SLS) continues stance with the next two phases of gait (mid stance and terminal stance).\nLimb advancement(LA) begins in the final phase of stance (pre-swing) and then continues through the three phases of swing (initial swing, midswing and terminal swing).\nStance ST 支撑相  首次触地期（initial contact，IC） 承重反应期（loading response，LR） 支撑相中期（mid stance, MS） 支撑相末期（terminal stance, TS） 摆动前期（pre-swing, PS）  Corresponding to the beginning of the ST phase, the initial contact (IC) describes the moment when one part of the foot, in physiologic gait the heel, touches the ground. The loading response (LR) starts with the IC and ends with the contralateral toe-off. Subsequently, the mid stance (MS) lasts until the heel-off of the reference leg. The MS is followed by the terminal stance (TS), which ends with the contralateral IC. The ST phase terminates with the pre-swing (PS), which ends with the toe-off of the reference leg. 2\nSW 摆动相  摆动相早期（initial swing，IS） 摆动相中期（mid swing，MS） 摆动相末期（terminal swing，TS）  Considering the SW phase, the initial swing follows the PS and terminates when the ankle joint of the reference leg crosses the supporting leg. This phase is followed by the mid swing, which ends with the tibia of the reference leg being vertical to the ground. The gait cycle is concluded by the terminal swing, which ends with the initial contact of the reference leg.\nBasic Functions(Locomotor Functions) 上身passenger 下面locomotor（涉及11个关节）\nAs the locomotor unit carries the body to its desired location each weight-bearing limb accomplishes four distinct functions. (1) A propulsive force is generated. (2) Upright stability is maintained, despite an ever-changing posture. (3) The shock of floor impact at the onset of each stride is minimized. (4) Energy is conserved by these functions being performed in a manner that reduces the amount of muscular effort required (Table 3.1). The accomplish­ment of each function depends on a distinct motion pattern. Each represents a complex series of interactions between the body mass and the two multiseg­mented lower limbs. During walking these blend into a single, three-dimen­sional pattern.\n主要有4个Locomotor Functions: Propulsion, Stance Stability, Shock Absorption, Energy Conservation, 不同的function对应的重心位置和关节角不同，随phase的变化也不同，详见此书3p19-p47\n  Gait analysis wikipedia\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Rafael Caldas, Marion Mundt, Wolfgang Potthast, Fernando Buarque de Lima Neto, Bernd Markert,A systematic review of gait analysis methods based on inertial sensors and adaptive algorithms,Gait \u0026amp; Posture,Volume 57,,2017\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n J. Perry, J.M. Burnfield, Gait Analysis: Normal and Pathological Function(2nd ed.), SLACK Incorporated (2010)\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2021-05-05T00:00:00Z","permalink":"https://K7288.github.io/posts/gait-analysis-fundamentals/","title":"Gait Analysis Fundamentals"},{"content":"About Contents Add Some Content hugo new post/**.md\nThe newly created content file will start with something like this:\n--- title: \u0026quot;**\u0026quot; date: 2019-03-26T08:47:11+01:00 draft: true --- Drafts do not get deployed; once you finish a post, update the header of the post to say draft: false. More info here.\n--- title: \u0026quot;Hugo Guide\u0026quot; date: 2021-05-01T08:47:11+01:00 categories: [\u0026quot;Manual\u0026quot;] tags: [\u0026quot;Hugo\u0026quot;, \u0026quot;GitHub\u0026quot;] draft: false --- Add pictures\n/post/xxx.jpg\nis actually baseURL/post/xxx.jpg\nPut the picture as below\n. └── static └── post └── xxx.jpg Customize the Theme Start the Hugo server\n▶ hugo server -D | EN +------------------+----+ Pages | 10 Paginator pages | 0 Non-page files | 0 Static files | 3 Processed images | 0 Aliases | 1 Sitemaps | 1 Cleaned | 0 Total in 11 ms Watching for changes in /Users/bep/quickstart/{content,data,layouts,static,themes} Watching for config changes in /Users/bep/quickstart/config.toml Environment: \u0026quot;development\u0026quot; Serving pages from memory Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender Web Server is available at http://localhost:1313/ (bind address 127.0.0.1) Press Ctrl+C to stop Navigate to your new site at http://localhost:1313/.\nSite Configuration\nOpen up config.toml in a text editor:\nbaseURL = \u0026quot;http://K7288.github.io\u0026quot; languageCode = \u0026quot;en-us\u0026quot; title = \u0026quot;K7288\u0026quot; theme = \u0026quot;cactus\u0026quot; For further theme customization, see Customize a Theme.\nBuild static pages hugo -D Output will be in ./public/ directory by default (-d/--destination flag to change it, or set publishdir in the config file).\nSee Also\n External Learning Resources Use Hugo Modules Basic Usage Hugo Theme Stack  ","date":"2021-05-01T11:37:16+08:00","permalink":"https://K7288.github.io/posts/hugo-guide/","title":"Hugo Guide"},{"content":"$$ e^{ix}=\\text{cos}x+i\\text{sin}x $$\n$$ \\left(C_{n+1, t+1}-C_{n, t}\\right)-\\left(C_{n, t+1}-C_{n-1, t}\\right)=\\frac{2}{n+1} $$\n换行需要使用\\\\\\\\ $$ \\begin{aligned} C_{n+1, t+1}-C_{n, t} \u0026amp;=\\frac{2}{n+1}+\\frac{2}{n}+\\cdots+\\frac{2}{t+2}+C_{t+1, t+1}-C_{t, t} \\\\ \u0026amp;=2\\left(H_{n+1}-H_{t+1}\\right)+2-2 /(t+1) \\end{aligned} $$\n","date":"2021-05-01T11:37:16+08:00","permalink":"https://K7288.github.io/posts/math/","title":"Math"},{"content":"因为不熟悉心相关研究问题，之前做笔记的次数也少，这几篇Literature Notes结构不够清晰，而且过长，下次注意。\n三篇文献与选题的关联性差强人意，之后留意/请教一下如何有效查找文献。\n1. Reliability of centre of pressure, plantar pressure, and plantar-flexion isometric strength measures: A systematic review COP PP PFisom 三种步态控制measurement 的可靠性\n方法：对三个数据库实验进行同行评估 ICC\nBackground Centre of pressure (COP), plantar pressure (PP), and plantar-flexion isometric strength (PFisom) are often examined in relation to postural control and gait.\nResearch question Our aim was to systematically review and quality appraise articles addressing the reliability of COP and PP measures in static stance and PFisom measures.\nMethods Three electronic databases **(**SCOPUS®, SportDISCUS™, and PubMed) were searched and supplemented by a manual search. Peer-reviewed original research on the reliability of COP, PP, and PFisom in healthy adults (≥18 years) was included. Quality appraisal was done according to the updated COnsensus-based Standards for the selection of health Measurement INstruments reliability checklist. Data regarding study characteristics, test protocols, outcome measures, and reliability metrics were extracted.\nResults Forty articles met inclusion and were assessed for their methodological quality. Only four articles (10%) obtained uppermost quality scores. From the reviewed studies, the most reliable measures were: COP sway area and path length; PP mean pressure, percentage body weight distribution, and contact area; and PFisom peak torque and force. Although these measures generally exhibited good-to-excellent relative reliability based on correlation coefficients, absolute reliability based on typical errors were not always optimal (variation \u0026gt; 10%). Literature on PP reliability was scarce (n = 2).\n2.Assessment of spatio-temporal gait parameters from trunk accelerations during human walking 基于加速度预测时空上的步态参数的可行性 spatio-temporal gait parameters\nIntro Basic prerequisites for gait analysis are the assessment of spatio-temporal gait parameters and the analysis of movements within subsequent stride cycles. 后续步幅周期内运动\nAs a matter of convention, the stride cycle is defined as the interval between two subsequent right foot contacts. Hence, the stride starts with a left step, which is followed by a right step.\nSome typical examples are the use of conducting foot switches [1], pressure-sensitive foot switches [2], [3], [4], ground reaction forces (GRFs) [5], [6], or the analysis of foot displacement patterns [7], [8]. // 用其他装置测量其他信号\nAlthough already in the 1970s the use of accelerometers for an analysis of human movement was suggested [9], it is only recently that a number of studies have reported gait analyses based upon the use of accelerometers on trunk, thigh, shank or foot (for examples see Refs. [10], [11], [12]). Only few studies have addressed the relationships between measured accelerations and spatio-temporal gait parameters. Using neural networks, the speed and distance of walking can be estimated [13]. //加速度与运动关联的提出 一些相关实验\nAverage temporal characteristics like step or stride duration can be estimated from acceleration data (for example, by means of cross correlation functions or frequency analysis).\nfeasibility\n A study by Zijlstra and Hof [16] demonstrated that three-dimensional (3D) displacements of the lower trunk during walking are predicted well by an inverted pendulum model（倒立摆模型） of the body\u0026rsquo;s centre of mass (CoM) trajectory. In agreement with model predictions, the amplitude and timing of pelvic displacements depended on spatio-temporal parameters of the stride cycle. The inverted pendulum model also predicts a basic pattern of lower trunk acceleration during walking, and relationships between acceleration characteristics and spatio-temporal gait parameters. Hence, spatio-temporal gait parameters can possibly be determined from accelerations of the lower trunk. //倒立摆模型说明加速度和步态的时空参数有关联性  主要工作\n Therefore, the present paper investigates the feasibility of an analysis of spatio-temporal gait parameters based upon accelerometry. Specifically, it analyses the 3D-acceleration pattern of the lower trunk at different walking speeds, and it evaluates algorithms that were developed to determine the instant of foot contacts, to identify left and right foot contacts, and to estimate mean step length and walking speed.  Method step length = $2\\sqrt{2lh-h^2}$ //h重心偏移（本文中 向上加速度二重积分） l摆线长（腿长）\nTo avoid integration drift, position data were high-pass filtered (fourth-order zero-lag Butterworth filter at 0.1 Hz).\nFrom the same 20 steps, mean step duration was calculated. For each subject and each belt speed condition, mean step length divided by mean step duration was used to estimate walking speed.\nResult Accelerations of the lower trunk during treadmill walking Vertical accelerations are adjusted by subtracting the acceleration due to gravity (9.81 m/ s2). Solid lines represent mean patterns, and dashed lines represent +- 1 S.D. （标准差）The stride cycle starts (0%) and ends (100%) with a right foot contact, left foot contact is at 50%.\nCloser inspection of these acceleration signals in relation to the GRF data showed that the timing of an additional peak or indention corresponded to the beginning or end of swing phases, respectively. In the mean data presented in Fig. 1, such an indention can be observed just preceding the peak acceleration at 50% of the stride cycle. The indention preceding foot contact could cause a short period of negative values in forward acceleration.附加峰值或凹陷的时间分别对应于摆动阶段的开始或结束。在图1中所示的平均数据中，可以观察到这种锯齿状刚好出现在步幅周期50%的峰值加速度之前。\nFoot contact detection and duration of the stride cycle Data traces represent a sample of the data of a male subject walking at a treadmill speed of 1.25 m/s.\nThe upper figure shows antero-posterior acceleration data as a solid grey line.\nThe lower figure shows right and left vertical GRFs (L/R-GRFs) divided by body weight (BW). Right GRFs are shown as a solid black line, and left GRFs as a dashed line. Arrows in the lower figure indicate the starts (and ends) of stride cycles, as identified by right GRFs.\nArrows in the lower figure indicate the starts (and ends) of stride cycles, as identified by right GRFs. In both figures, asterisks indicate the instant of foot contact as detected from left or right GRFs. Foot contacts detected from acceleration data are indicated in the upper figure by downward slopes of the block signal shown in black (zero-crossing method), and the open circles around peak acceleration values (peak detection method).\nDiscrimination between left and right steps 3.An evaluation of measurement systems estimating gait speed during a loaded military march over graded terrain Gait speed can be estimated using a single IMU (located at wrist or arm pit).\nCorrecting for confounders such as body size, load and shoe type is necessary.\nUphill and downhill walking both change gait parameters and walk ratio.\nThe change in walk ratio causes an overestimation of the gait speed.\nAltimetry should be used to correct the estimation of gait speed in graded terrain.\nMethods Data processing EQ-02 data was processed using Matlab (R2017a, The Mathworks Inc, Natick, MA). A custom-made algorithm using peak detection functions was used to calculate the number of steps and counts (total and separate for the sagittal plane) from raw accelerometer output for each 200 m trial, and the trial time was derived from the EQ-02. From these parameters speed, cadence and counts per second were calculated.\nNLD模型 $$ Walking speed [m/s] = 0.301*(step/s)2 + 0.011*counts/s \\+ 0.687*height [m]− 0.003*body\\ weight[kg] \\+ 0.040*footwear_type [0\\ for\\ running\\ shoes,\\ 1\\ for\\ combat\\ boots] − 0.958 $$\n$ (n = 266; R^2 = 0.968; R^2_{adjusted}= 0.968; \\text{standard error of the estimate} = 0.082 m/s)$\n$$ Running speed [m/s] = 0.183*(step/s)2 + 0.028*counts/s \\− 0.228*footwear_type \\text{[0 for running shoes, 1 for combat boots]} \\+ 0.017*counts_{sagitalplane}/s – 1.226 $$ (n = 160; R2 = 0.746; R2adjusted = 0.740; standard error of the estimate = 0.325 m s−1)\n地形（上下坡）对步态的影响 数据校正(body size，负载和鞋子类型等)\n女性的步伐比男性慢，步幅较小，步频更快[ [21]，[22]，[23] ]。这些性别差异仅归因于身高的不同，例如身高和体重[ [22]，[24] ]。身高和腿长与首选的步行速度和步幅呈正相关，但体重和体重指数对步态参数没有影响[ 25 ]。\n坡度影响 在以前的研究中，受试者可以自由选择他们的步行速度，上坡步行导致速度，步长和步频降低[ [23]，[26] ]。这些发现与本研究2的结果相符，在本研究中，发现与水平行走相比，在6.5％的坡度上进行上坡行走时行走速度降低（从1.47降至1.22 m s -1）。这种下降是由较低的节奏和较小的步长引起的。此外，观察到水平步行和上坡步行之间的步行比率变化，导致两种算法的步行速度都被高估。在较早的研究中，下坡步行导致步长减少[ [17]，[23]，[26]，[27]]。节奏略有增加[ 17 ]或没有改变[ 23 ]。在研究2中，士兵们沿着5.5％的坡度行走。与水平步行相比，步行速度相同，步频更高，步长更短。步行率也发生了变化，导致两个模型的步行速度都被高估。\nTo mitigate the errors caused by walking uphill or downhill, a correction for grade should be implemented. This could be achieved by using barometer data to estimate the grade [28] or by using IMUs on the foot/shoe to estimate inclination for each step [19]. Given the location of the sensors, the algorithms discussed in this paper could be corrected using a barometer.\n-1.Others 特征工程参考 Machine learning algorithms can classify outdoor terrain types during running using accelerometry data 无关变量的影响 Detection of age and gender differences in walking using mobile wearable sensors 使用移动可穿戴传感器检测步行中的年龄和性别差异\nConclusion An interaction was present between gender and age group (p = 0.034) with the older females being younger than the older males (Female: 66.21 ± 5.29, Male: 71.00 ± 5.64) while there was no gender difference in age for the younger group (Female: 22.89 ± 3.14, Male: 21.64 ± 2.62). Gender had a significant impact on height and weight with men being taller (Male: 1.78 ± 0.07, Female: 1.68 ± 0.05, p \u0026lt; 0.001) and heavier (Male: 75.16 ± 9.47, Female: 67.79 ± 11.54, p = 0.009). The vGRF, LR and impulse **(**normalized to body weight, BW) for each condition along with the standard error of the mean, the Bland-Altman bias and LOA, and the ICC results are presented in Table 2. The ICC values for all variables for all conditions were classified as excellent. The Bland-Altman plots are shown in Fig. 1.\nA systematic review of gait analysis methods based on inertial sensors and adaptive algorithms inertial measurement units (IMUs) consisting of gyroscopes, accelerometers, and magnetometers or parts of it to determine kinematic data\n通过研究评估的方式证明了IMU系统可以获取步态运动学参数\nAdaptive method for real-time gait phase detection based on ground contact forces (Motion phases during walking are characterized by the gait phases, and each gait phase has a unique ground contact force (GCF) pattern .)\n","date":"2021-05-01T11:37:16+08:00","permalink":"https://K7288.github.io/posts/measurement%E5%8F%AF%E9%9D%A0%E6%80%A7%E6%96%B9%E6%B3%95%E6%AF%94%E8%BE%83%E5%A5%87%E6%80%AA%E6%88%96%E8%80%85%E6%B2%A1%E6%9C%89-%E6%AD%A5%E6%80%81%E5%8F%82%E6%95%B0%E6%8B%9F%E5%90%88/","title":"论文3篇泛读 1-\u003emeasurement可靠性(方法比较奇怪或者没有) 2/3-\u003e步态参数拟合"}]
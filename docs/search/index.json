[{"content":"Summary 用统计学方法分析了不同地形对选取的步态参数、步态参数的variability以及代谢耗能的影响\n 影响是否有统计学意义；正相关/负相关；一点点直观的原因解释 步态参数的相关性  步态参数及其variability与代谢耗能的相关性（线性回归、统计分析）\n步态参数预估代谢耗能 （principal components regression (PCR) ； partial least squares regression (PLSR)和单因素回归）\nResearch question how foot paths change with terrain, and how they relate to the energetic cost of walking.\n foot path refers to the foot’s translation in three dimensions during a single swing phase, starting from the previous stance phase and including the ending stance phase, when the foot is stationary.\n Introduction Effects of ground terrain: the elevation change over a step, average stride length and width, mid-swing(higher on the uneven terrain), foot placement for stabilizing adjustments $\\Rightarrow$ energy expenditure\nMethods 实验  Fig 1. Measurement of foot paths and energy expenditure on outdoor terrain. Subjects walked on different terrains while wearing a portable respirometry system, a global positioning system (GPS) device, and one inertial measurement unit (IMU) per foot. Sample data from one subject show traces for walking speed and elevation from GPS, rates of oxygen consumption and carbon dioxide production, and angular velocity and translational acceleration vs. time. Terrains included Sidewalk, Gravel, Grass, Woodchip, and Dirt, along with transitions between them (gray lines, not analyzed). Walking speed was loosely regulated via GPS (average speeds listed); terrain segments were selected to avoid large net changes in elevation during trials.\n 数据处理  last 3min / 8min的steady-state数据；为了reduce the amount of data只用左脚的数据 对IMU数据积分两次得到foot path（inertial drift reduced by correcting the velocities during stance to zero） normalization: body mass $M$, standing leg length $L$ (defined as floor to greater trochanter), and gravitational acceleration $g$ as base units. stride distances were normalized by $L$, and net metabolic power [28] by $Mg^{1.5}L^{0.5}$ (average 0.90 m, 1893 W across subjects repeated-measures ANOVA tests $\\Rightarrow$ terrain conditions affected energy expenditure and gait parameters linear regression for each variable individually. The latter included a separate offset constant for each individual, included in the fit, with overall goodness of fit therefore evaluated with an adjusted $R^2 \\Rightarrow$ correlation between energy expenditure and the gait parameter principal components analysis (PCA) and linear discriminant analysis (LDA) $\\Rightarrow$ reduction ofdimensionality within the data principal components regression (PCR) and partial least squares regression (PLSR) $\\Rightarrow$ using stride measures to predict metabolic rate  Results 各个参数差异不大但是有统计学意义\nWhile the average gait pattern changed little, variability in most of the gait measures examined showed high dependence on terrain.\n The most notable sensitivities were for variability in stride height, stride width, virtual clearance, and lateral swing motion. Variability could result directly from the unevenness of ground, or from controlled adjustments made to stabilize balance, which is thought to be passively unstable in the lateral direction [22,23]. Active stabilization is achieved in part through lateral foot placement [23,31–34]. Uneven ground appears to disrupt gait to a substantial degree, and would be expected to require substantial active stabilization. Aggregating these various contributions, the overall effect is that uneven ground leads to uneven foot motion and uneven steps.\n the preferred stride length vs. speed relationship remained fairly intact across different terrains.\nmore challenging terrain caused increases in virtual ground clearance and in the variability of most measures\nconsiderable interdependency among measures, as revealed by dimensionality reduction techniques\nLimits/Further Work Our foot path estimation relies on the foot being nearly stationary at some point during stance, which may not occur for every stride on softer terrains such as Woodchips. This\nThoughts/Comments   variability的差异也成了分析的因素，这点之前没想到\n但是不知道这个RMS是怎么算的，其中的均值是所有subject在这个地形的mean还是这个subject的？此处这个RMS的定义和传统的均方根（平方和除以加和样本数再开方）不太一样We report average and root-mean-square (RMS, equivalent to standard deviation) variability\n而且这样是不是基本也只能分析用了？或者走几步统计？不知道能不能在线\n  对inter-subject differences的处理\n做代谢线性回归的时候每个人有不同的offset\n那这样$\\text{Ind } R^2$是怎么算的？A：见$R^2$的定义，offset变了就是$f_i$变了，正常算就行\n  PCA怎么计算这个成分包含的all data variability？就是特征值除以特征值的和吗？A：是\n  补充知识\n  Coefficient of determination $R^2$\n ${\\displaystyle SS_{\\text{res}}=\\sum _{i}(y_{i}-f_{i})^{2}=\\sum _{i}e_{i}^{2},}$ ${\\displaystyle SS_{\\text{tot}}=\\sum _{i}(y_{i}-{\\bar {y}})^{2}}$ ${\\displaystyle R^{2}=1-{SS_{\\rm {res}} \\over SS_{\\rm {tot}}},}$    Adjusted $R^2$ (one common notation is ${\\displaystyle {\\bar {R}}^{2}}$, pronounced \u0026ldquo;R bar squared\u0026rdquo;; another is ${\\displaystyle R_{\\text{adj}}^{2}}$)\n${\\displaystyle {\\bar {R}}^{2}=1-(1-R^{2}){n-1 \\over n-p-1}}$, where $p$ is the total number of explanatory variables in the model (not including the constant term), and $n$ is the sample size.\n  ","date":"2021-08-31T00:00:00Z","permalink":"https://K7288.github.io/posts/human-walking-in-the-real-world-interactions-between-terrain-type-gait-parameters-and-energy-expenditure/","title":"Human walking in the real world Interactions between terrain type, gait parameters, and energy expenditure"},{"content":"单因素方差分析 One Way ANOVA 单因素方差分析SPSS教程 \n如果单因素方差分析显示差异具有统计学意义（P\u0026lt;0.05），表示不是所有组的总体均数均相等（至少有一组均数不同于另一组）。如果P\u0026gt;0.05，则表示各组间均数差异无统计学意义。\n2种适用的研究设计 1）判断3个及以上独立的组间均数是否存在差异；\n2）判断前后变化的差值是否存在差异。\n6个假设 假设1：因变量为连续变量；\n假设2：有一个包含2个及以上分类、且组别间相互独立的自变量；\n假设3：每组间和组内的观测值相互独立；\n假设4：每组内没有明显异常值；\n假设5：每组内因变量符合正态分布；\n假设6：进行方差齐性检验，观察每组的方差是否相等。\n整体流程 假设验证 假设4：每组内没有明显异常值   Boxplots\n如果存在多个异常值，应先把最极端的异常值去掉后，重新检查异常值情况。\n  异常值的处理方法： (1) 保留异常值：\n1）采用非参数Kruskal-Wallis H检验；\n2）用非最极端的值来代替极端异常值（如用第二大的值代替）；\n3）因变量转换成其他形式；\n4）将异常值纳入分析，并坚信其对结果不会产生实质影响。\n(2) 剔除异常值：\n直接删除异常值很简单，但却是没有办法的办法。当我们需要删掉异常值时，应报告异常值大小及其对结果的影响，最好分别报告删除异常值前后的结果。而且，应该考虑有异常值的个体是否符合研究的纳入标准。如果其不属于合格的研究对象，应将其剔除，否则会影响结果的推论。\n假设5：每组内因变量符合正态分布 Shapiro-Wilk正态性检验、偏度和峰度值、直方图等\n 如果样本量较小（\u0026lt;50），并且对正态Q-Q图或其他图形方法的结果诠释不够有把握，推荐采用Shapiro-Wilk检验。每组自变量都会有一个Shapiro-Wilk正态性检验结果；如果样本量大于50，推荐使用正态Q-Q图等图形方法进行正态判断，因为当样本量较大时，Shapiro-Wilk检验会把稍稍偏离正态分布的数据也标记为有统计学差异，即数据不服从正态分布。\nboxplot选择“带检验的正态图”\n 如果数据符合正态分布，显著性水平（蓝框中的Sig.）应该大于0.05。Shapiro-Wilk检验的无效假设是数据服从正态分布，备择假设是数据不服从正态分布。因此，如果拒绝无效假设（P\u0026lt;0.05），表示数据不服从正态分布；如果不能拒绝无效假设，则不能认为数据不服从正态分布。\n不服从正态分布的处理方法 (1) 数据转换：对转换后呈正态分布的数据进行单因素方差分析。当各组因变量的分布形状相同时，正态转换才有可能成功。对于一些常见的分布，有特定的转换形式，但是对于转换后数据的结果解释可能比较复杂。\n(2) 使用非参数检验：可以使用Kruskal-Wallis H检验等非参数检验方法，但是要注意Kruskal-Wallis H检验和单因素方差分析的无效假设和备择假设不太一致。\n(3) 直接进行分析：由于单因素方差分析对于偏离正态分布比较稳健，尤其是在各组样本量相等或近似相等的情况下，而且非正态分布实质上并不影响犯I型错误的概率。因此可以直接进行检验，但是结果中仍需报告对正态分布的偏离。\n(4) 检验结果的比较：将转换后和未转换的原始数据分别进行单因素方差分析，如果二者结论相同，则再对未转换的原始数据进行分析。\n假设6：进行方差齐性检验，观察每组的方差是否相等 SPSS操作 单因素方差分析（ONEWAY procedure）→事后两两比较（post hoc test） (1) 点击Analyze \u0026gt; Compare Means \u0026gt; One-Way ANOVA：\n出现One-Way ANOVA对话框：\n(2) 把因变量coping_stress送入Dependent List框中，自变量group送入Factor框中：\n(3) 点击Options，出现One-Way ANOVA: Options对话框：\n(4) 在Statistics模块勾选Descriptive，Homogeneity of variance test和Welch，同时勾选Means plot：\n(5) 点击Continue，返回One-Way ANOVA对话框。\n(6) 点击Post Hoc，出现One-Way ANOVA: Post Hoc Multiple Comparisons对话框：\n对话框根据方差齐性检验的假设是否满足，分为2个主要区域：\n(7) 在Equal Variances Assumed模块内勾选Tukey，在Equal Variances Not Assumed模块内勾选Games-Howell：\n(注) 在Equal Variances Assumed模块内SPSS提供了许多两两比较的方法。例如，LSD法为“最小显著差数法”，是在无校正的前提下，在不同组间进行多次两个独立样本t检验；Bonferroni法是比较流行的方法，同LSD法类似在多组间进行两个独立样本t检验，但是采用了Bonferroni法进行校正。\n(8) 可以在Significance level框中修改显著性水平的大小（系统默认为0.05，表示当P\u0026lt;0.05时差异具有统计学意义，可以将其数值修改为0.01）。\n(9) 点击Continue，返回One-Way ANOVA对话框。\n(10) 点击OK，输出结果。\n一般线性模型（GLM procedure）求效应量（偏η2） (1) 点击Analyze \u0026gt; General Linear Model \u0026gt; Univariate\u0026hellip;：\n出现Univariate对话框：\n(2) 把因变量coping_stress送入Dependent List框中，自变量group送入Fixed Factor(s)框中：\n(3) 点击Options\u0026hellip;，出现 Univariate: Options对话框：\n(4) 在Display模块内勾选Estimates of effect size：\n(5) 点击Continue，返回Univariate对话框。\n(6) 点击OK，输出结果。\n一般线性模型（GLM procedure）→自定义组间比较（custom contrasts） 如果只关心特定组别间的差异，你需要知道如何进行自定义比较（custom contrasts），以及如何对多重比较结果进行调整，这就要用到SPSS软件中的Syntax Editor窗口编写相应程序语句。当满足方差齐性条件时，推荐采用GLM程序进行自定义组间比较。\n前2步操作同“2. 一般线性模型（GLM procedure）求效应量（偏η2）”的前2步操作，这里不再赘述。接下来：\n(1) 点击Paste，出现IBM SPSS Statistics Syntax Editor窗口：\n(2) 在 /PRINT 和 /CRITERIA两行中间，输入 /LMATRIX = group -1 1 0 0：\n/LMATRIX= 旨在告诉SPSS我们要做一个自定义假设；group表示将要进行比较的自变量组别；-1 1 0 0表示要进行比较的系数，系数的顺序和SPSS里输入的组别顺序有关：这里从左到右（-1 1 0 0）分别对应着久坐组、“低”、“中”和“高”体力活动组，表示将“低”体力活动组与久坐组进行比较。\n**(注)**自定义比较包括了简单比较（simple contrasts）和复合比较（complex contrasts）。简单比较为只比较自变量某两个组别间的差异，需要建立线性比较函数（linear contrast，φ）。它包含一系列系数和每个组别对应的均数，系数取值只能为1，-1，0。我们把要比较的两组的系数分别赋值为1和-1，其他不比较的组别系数赋值为0。\n本例中久坐组系数为-1，“低”体力活动组系数为1，其他组别均为0，则是要比较久坐组和“低”体力活动组的CWWS得分差异，看二者的平均CWWS得分差值是否为0（用“低”体力活动组得分减去久坐组得分，即系数为1的组别减去系数为-1的组别，以系数为-1的组别为参照组，系数赋值的正负与研究设计和研究假设有关）。\n(3) 用/LMATRIX指令增加另外2种比较：\n/LMATRIX = group -1 1/3 1/3 1/3\n/LMATRIX = group -1/2 -1/2 1/2 1/2\n**(注)**复合比较为比较自变量超过2个组别的组合间的差异，如比较B组与C、D两组的组合间的差异，或C、D两组间的组合与A、D两组间组合的差异。同样采用线性比较函数的方法，某组合的系数赋值为1或-1除以组合内的组数，但是要保证要比较的组间组合与另一组（组合）的所有系数加起来为0，系数赋值的正负与研究设计和研究假设有关。\n本例中，/LMATRIX = group -1 1/3 1/3 1/3表示“低”、“中”和“高”体力活动组的组合整体与久坐组CWWS得分差异的比较，/LMATRIX = group -1/2 -1/2 1/2 1/2表示“中”和“高”体力活动组的组合与“低”体力活动组和久坐组组合的比较。\n(4) 多重比较的校正\n接下来，我们需要校正显著性水平（α），通常也可以校正每次比较的P值和可信区间，得到调整后P值和联合可信区间（simultaneous confidence intervals）。我们首先采用Bonferroni方法对显著性水平α进行校正，公式如下：\n调整后α=调整前α ÷ 比较的次数\n本例中我们需要进行3次比较，则调整后α=0.05÷3=0.01667。\n(5) 箭头标注处为SPSS软件默认的显著性水平α=0.05：\n/CRITERIA=ALPHA(.05)\n(6) 我们将其改为调整后的显著性水平α=0.1667：\n/CRITERIA=ALPHA(.01667)\n(7) 在菜单栏点击Run \u0026gt; All：\n单因素方差分析（ONEWAY procedure）→自定义组间比较（custom contrasts） 虽然ONEWAY程序有很多缺点，但却是不满足方差齐性条件时唯一可用的方法。前2步操作同“1. 单因素方差分析（ONEWAY procedure）→两两比较（post hoc test）”的前2步操作，这里不再赘述。接下来：\n(1) 点击Contrasts，出现 One-Way ANOVA: Contrasts对话框：\n(2) 在Coefficients模块中输入第一组比较（如-1 1 0 0）的第一个系数，点击Add：\n(3) 在Coefficients模块中输入第一组比较（如-1 1 0 0）的其他系数，点击Add：\n(4) 点击Next，输入新的自定义比较组，此时下图中红框区域内将变为 –Contrast 2 of 2–：\n(5) 按照之前的方式输入第二个比较组（如-1 1/3 1/3 1/3）：\n**注：**Coefficients模块中无法输入分数，最多只能输入3位小数的数值来代替。因此本例中输入0.333代替1/3，但是由于最后总和不等于1（0.333×3=0.999），因此我们将在后面的第（9）（10）步中进行调整。\n(6) 继续点击Next，输入新的自定义比较组，此时下图中红框区域内将变为 –Contrast 3 of 3–：\n(7) 按照之前的方式输入第三个比较组（如-1/2 -1/2 1/2 1/2）：\n(8) 点击Continue，返回One-Way ANOVA对话框。\n(9) 点击Paste，进入IBM SPSS Statistics Syntax Editor窗口：\n(10) 手动增加小数位数，如把小数位数从3位改为10位（0.333改为0.3333333333）：\n(11) 在菜单栏中点击Run \u0026gt; All：\n","date":"2021-08-25T00:52:44+08:00","permalink":"https://K7288.github.io/posts/%E6%96%B9%E5%B7%AE%E5%88%86%E6%9E%90anova/","title":"方差分析ANOVA"},{"content":"Lower limb exoskeleton systems-overview1    Category Control(mostly) Actuator(mostly) Wearer     Assistive High precision; Predefined trajectories triggered by the user’s moving intention\n($\\Rightarrow$ Intention Estimation + Trajectories Generating) DC motor patients permanently lose the ability to walk   Rehabilitation Predefined; Impedance control; Adjusting itself based on patient feedback. high-power density rehabilitating patients to regain mobility   Augmentation admittance/impedance control; positive feedback sensitivity amplification control, Inaccurate but high power/weight ratio actuators (series elastic actuators (SEA) and pneumatic actuators) healthy individuals    Assistive Intention Estimation ​   Direct\n estimation from biological signals  biological signals are often noisy and difficult to measure more accessible signals such as EMG not usable for the lost connection between the brain and the limbs.      Indirect\n  the center of mass (COM) velocity, posture(the torso angle; the center of pressure (COP)), etc.\n  Additional sensors such as IMU or GRF sensors\nno need of high sample frequency or filtering since they only provide a rough estimation of human intention.\n      Trajectories generating Generated trajectories may not be identical to a healthy subject’s motion profile, but they can still complete the task, e.g. unactuated or fixed ankle joints.\n  a finite state machine\ndividing the single full motion cycle into different phases. For each phase, the controller may have a different control scheme. ($\\Leftarrow$ different phases of walking present different dynamics.)\n  further research  sit-to-stand function flexible control(adding a compliant assisting mode to partially preserve users’ walking ability; variable stiffness actuator to further control the torque and stiffness at each joint) online calculation of motion profile relationship between different joints balance  extra support (support besides legs); estimating the XCoM (the position of the center of mass combined with momentum, during walking) properties of human limbs, such as center of mass, inertia, and link length need to be precisely measured    Rehabilitation  with weight support (on treadmills/body weight supported with overhead cables/harness)\n  constraints to assure correct gait patterns\n  orthoses to prevent possible injuries caused by incorrect leg configuration since lower limbs are redundant in the sagittal plane.\n  compliance: rehabilitation exoskeletons focus on human-exoskeleton contact and interaction with the user.\n simulating with control, i.e. impedance or admittance control (input/output relationship is position/force or force/position respectively)  In impedance control, a common scheme is to create a virtual environment and determine torque output by simulating the robot as interacting with a compliant material   adding an elastic component in the actuators    “assist as needed”\n   Safety\n  having the user use a walker\n  high-power density actuators for user weight supporting\nMe: 为什么气动属于high-power density？这个怎么判断\npower density 是功率密度，输出功率/质量\n  Control\n mostly through impedance control  Further\n functional electrical stimulation (FES) to cause the user to increase their effort $\\Rightarrow$ “hybrid exoskeletons”  Augmentation Assistance directly applied to tasks(that a normal human cannot) e.g. for loading/unloading the missiles of fighter jets on an aircraft carrier, or carrying extra load while hiking\nDisadvantages: often significantly increases the overall weight and reduces the range of motion of the human-exoskeleton system.\nControl\n Sensitivity amplification (the human and exoskeleton as one system)  short rise time and high overshoot eliminating the problem of donning and misplacement of the sensors balance problems if sensitivity increased   Position control  help to stabilize the system   EMG  only category of sensing that can estimate the user’s intention without a time delay limited efforts of EMG-based systems $\\Leftarrow$ the more assistance the user receives, the less bioelectrical signals he/she will generate   combining active and passive systems  Assistance applied to users Pros \u0026amp; cons: simple, light, and more comfortable; tasks will be limited by users’ physical capability since it will first interact with the user.\nGoal: to properly assist humans so that they can perform the same task with a lower metabolic cost\n energy efficiency  bipedal walking: Other than for overcoming friction, passive walkers do not need additional effort to walk humans: significant energy loss in the step-to-step transition;  The common explanation is smoothly switching the center of mass between steps is difficult for humans because the vertical projection of the COM (known as COP) has to move out of the supporting plane (feet), resulting in intentional falling and creating impact when the other leg touches the ground. This induces energy lost during the transition state and is often referred to as “heel strike,” which is the primary source of energy lost during ground level walking.      Researches\n  attempts to replace muscle activity with the exoskeleton’s assistance\n challenging to provide correct assistance assistance from the exoskeleton may cause unknown energy consumption if it is unnatural23    oscillator-based control require periodic motion(not fit for some tasks like squatting)\n  limited efficiency of systems driven by electric motors(most are servo motors) $\\Leftarrow$ fundamental difference between motors and human joints\n For example, the human knee joint angular position may range from 120 to 1110 degrees, and the angular velocity generally is less than 30 rpm but with high torque output. Alternatively, most motors operate in 360 degrees and have maximized efficiency and torque output at a specific rpm.\n  gear reduction \u0026amp; dilemma: a high gear ratio creates larger torque but reduces angular velocity in human joints. motor efficiency Alò et al.4 designed a transmission system containing a fly wheel with an infinitely variable transmission between the motors and the knee joint; yet the effect of the extra weight on the system is unknown.    harvest energy from human motion\n  Malcolm et al.5: applying assistive torque at a specific time (i.e., at the supporting leg, just before the heel strike of the swinging leg) without using energy recycled from the negative work inherent in bipedal walking\n  orthosis design6\n  Collins et al.: a passive device using a clutch and spring system to assist the ankle joint7\n ankle joints are the most energy-efficient joint, as they have the Achilles tendon to store negative work. Thus, the potential for improvements is not as high as for other joints.\n   knee: Rogers et al.8, a quasi-passive air spring to absorb the impulse; Yamada et al.9, a pneumatic walking assistive device that used the energy recycled from the knee joint during the beginning of the double support phase and reused it on the same joint later.\n  optimal design: to be apply energy recycled from the joints that produce the most negative work on those that require the most positive work\n CYBERLEGs Alpha-Prototype10 transfer the energy from knee to ankle; van den Bogert11 and Van Dijk12 connected multiple joints of their exoskeletons with artificial tendons. However, the metabolic costs were not reduced due to extra restrictions that affected human motion.      Actuation    Mainly types Pros Cons     electrical motors control precision\neasy access to the energy source\nsuperior efficiency poor power/weight ratio   pneumatic actuators balance between power outputs and weights\nconvenience to leak to and inhale back air imprecision\nlow control frequency\nvalves selection(proportional air valves for linear control are often expensive, inefficient, and heavy; solenoid valves13 14 work but still uncommon)   hydraulic actuators balance between power outputs and weights leakage issues   series elastic actuators      Future for lower limb exoskeletons  Operating time  Larger energy sources (e.g., batteries) with higher mass not ideal Energy harvesting and recycling systems   Human-exoskeleton interaction  dilemma: exoskeletons' motion profiles need to match the user (delay) vs interaction needed to “feel” the user’s intention (instability) To reduce undesired interaction (additional mass or less range of motion) $\\Rightarrow$ uncomfortable \u0026amp; larger metabolic cost  current improvements are mainly focusing on introducing compliance in the actuators (soft exoskeleton) and reducing weight yet of which the controllability and support are limited.      Appendix Some Assistive Exoskeletons Some Rehabilitation Exoskeletons Some Augmentation Exoskeletons References   Wearable Robotics: Systems and Applications\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n G.S. Sawicki, D.P. Ferris, Mechanics and energetics of level walking with powered ankle exoskeletons, J. Exp. Biol. 211 (2008) 1402-1413. Available from: https://doi.org/10.1242/jeb.009241.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n G.S. Sawicki, D.P. Ferris, Powered ankle exoskeletons reveal the metabolic cost of plantar flexor mechanical work during walking with longer steps at constant step frequency, J. Exp. Biol. 212 (2009) 21-31. Available from: https://doi.org/10.1242/jeb.017269.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n R. Alo, F. Bottiglione, G. Mantriota, Artificial knee joints actuators with energy recovery capabilities: a comparison of performance, J. Robot (2016). Available from: https://doi.org/10.1155/2016/4802474.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n P. Malcolm, W. Derave, S. Galle, D. DeClercq, A simple exoskeleton that assists plantarflexion can reduce the metabolic cost of human walking, PLoS. One 8 (2013) e56137. Available from: https://doi.org/10.1371/journal.pone.0056137.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n A.M. Oymagil, J.K. Hitt, T. Sugar, J. Fleeger, Control of a regenerative braking powered ankle foot orthosis, in: 2007 IEEE 10th Int. Conf. Rehabil. Robot., 2007, pp. 28-34. Available from: https://doi.org/10.1109/ICORR.2007.4428402.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n S.H. Collins, M.B. Wiggin, G.S. Sawicki, Reducing the energy cost of human walking using an unpowered exoskeleton, Nature 522 (2015) 212. Available from: https://doi.org/10.1038/nature14288.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n E. Rogers, P. Polygerinos, S. Allen, F.A. Panizzolo, C.J. Walsh, D.P. Holland, A quasi-passive knee exoskeleton to assist during descent, in: J. GonzalezVargas, J. Ibanez, J.L. Contreras Vidal, H. Van Der Kooij, J.L. Pons (Eds.), Wearable Robot. Challenges Trends, 2017, pp. 63\u000167. Available from: https:// doi.org/10.1007/978-3-319-46532-6_11.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Y. Yamada, G. Endo, E.F. Fukushima, Pneumatic walking assistive device for use over long period, Adv. Robot. 28 (2014) 1253-1264. Available from: https://doi.org/10.1080/01691864.2014.920722.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n L. Flynn, J. Geeroms, R. Jimenez-Fabian, B. Vanderborght, N. Vitiello, D. Lefeber, Ankle-knee prosthesis with active ankle and energy transfer: development of the CYBERLEGs Alpha-Prosthesis, Rob. Auton. Syst. 73 (2015) 4-15. Available from: https://doi.org/10.1016/j.robot.2014.12.013.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n A.J. van denBogert, Exotendons for assistance of human locomotion, Biomed. Eng. Online. 2 (2003) 17. Available from: https://doi.org/10.1186/1475-925X-2-17.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n W. vanDijk, H. VanderKooij, XPED2: a passive exoskeleton with artificial tendons, IEEE Robot. Autom. Mag. 21 (2014) 56-61. Available from: https://doi.org/10.1109/MRA.2014.2360309.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n G. Belforte, L. Gastaldi, M. Sorli, Pneumatic active gait orthosis, Mechatronics. 11 (2001) 301\u0001323. Available from: https://doi.org/10.1016/S0957-4158(00)00017-9.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n A. Messina, N.I. Giannoccaro, A. Gentile, Experimenting and modelling the dynamics of pneumatic actuators controlled by the pulse width modulation (PWM) technique, Mechatronics 15 (2005) 859\u0001881. Available from: https://doi.org/10.1016/J.MECHATRONICS.2005.01.003.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2021-08-17T00:00:00Z","permalink":"https://K7288.github.io/posts/%E5%A4%96%E9%AA%A8%E9%AA%BC%E7%BB%BC%E8%BF%B0/","title":"外骨骼综述"},{"content":"Yoshimura\nMiura-ori\ndiagnoal\n","date":"2021-08-06T00:00:00Z","permalink":"https://K7288.github.io/posts/origami-patterns/","title":"Origami patterns"},{"content":"   Author Title Sensor Terrain Method Online/Offline Accuracy Comments     Daniel B. Kowalsky, John R. Rebula, Lauro V. Ojeda Human walking in the real world: Interactions between terrain type, gait parameters, and energy expenditure a global positioning system (GPS) device, and one inertial measurement unit (IMU) per foot 5: Sidewalk, Dirt, Gravel, Grass, and Woodchips LDA\nfeatures: (mean, RMS)virtual clearance, stride height, stride length, lateral swing, speed; (RMS)stride width Offline 45/50 主要是统计学分析；用了variability的variability作为特征；涉及了一点降维    What Lies Beneath One’s Feet? Terrain Classification Using Inertial Data of Human Walk IMU (chest and lower back) 6: carpet, concrete floor, grass, asphalt, soil, and tile RF SVM\n94 tempo-spectral features, of which 110 features were computed from the time domain (T) and 84 features were computed from the frequency domain (F). Offline  就是提特征丢进分类器里              文献中的一些其他总结\n    Category Year Sensor Classifier     Anastrasirichai [11] Vision 2015 Camera SVM   Dornik [6] Vision 2017 Camera Random Forest   Ma et al. [9] Vision 2017 Camera SRC   Christie et al. [22] Acoustic 2016 Microphone SVM   Valada et al. [15] Acoustic 2018 Microphone Deep Learning   Ojeda [13] Robotics 2006 IMU, Motor ANN   Giguere et al. [4] Robotics 2011 Tactile ANN   Wu et al. [3] Robotics 2016 Tactile SVM   Manduchi et al. [1] Autonomous off-road driving 2005 Ladar \u0026amp; Camera Gaussian Process   Lu et al. [20] Autonomous off-road driving 2009 Laser PNN   Hu et al. [33] Human Gait 2018 IMU LSTM   Diaz et al. [34] Human Gait 2018 Camera, IMU BoW model    ","date":"2021-08-06T00:00:00Z","permalink":"https://K7288.github.io/posts/review-of-terrain-classification/","title":"Review of terrain classification"},{"content":"(Origami) Pneumatic Exoskeleton\nSummary of previous work    Author Origami pattern Joint Prototype 研究阶段     Bio-Robotics and Control (BiRC) Laboratory，UNIST, Korea Yoshimura pattern shoulder  1.设计 2.建模（输出力关于弯曲角度等的表达式）3. 实验验证对支撑能力/输出力矩的仿真结果   南方科技大学 刘思聪 王峥 Variated Yoshimura with trapezoid facets. wrist  1. 设计 2. 运动学建模 3. 级联控制（未详细阐述，使用之前合作的工作） 4. 实验验证控制性能以及不同负载下的运动范围   西北工业大学 Jing Fang*2 #1 #2 / (Accordion/Fan) knee  1. 设计 2. 建模（输出力矩的闭式表达式）3. 实验验证机械性能及辅助效果 4. 控制（满足对特定动作的支持）   Yang, Hee Doo / (Artificial muscle) elbow\nhip  1. 设计 2. 建模（输出力关于压强、体积的表达式）3. 实验验证模型以及辅助效果（未涉及控制，实验的加压阶段手动进行）    An Inflatable and Foldable Knee Exosuit Based on Intelligent Management of Biomechanical Energy Research object An inflatable, foldable and variable stiffness knee exosuit and an intelligent control profile for it\nIntroduction  Biomechanical energy harvesting: Humans are a rich source of energy. An average-sized person stores as much energy in fat as a 1000-kg battery  Methods  a large amount of negative power that is marked by K1, K2 and K3    Intelligent Energy Management Profile\n  quasi-stiffness to characterize the spring-like behavior of knee joint.\n  通过与膝关节平行增加一个变刚度弹簧，并根据图3这六个点上（根据步态周期划分）调整其刚度，可以收集和再利用人体的生物机械能，节省行走过程中消耗的体力。\n    DESIGN AND FABRICATION\n热塑性聚氨酯(TPU)\n  Novel Accordion-Inspired Foldable Pneumatic Actuators for Knee Assistive Devices Methods  Biomechanics and design requirements  ​\t能推出膝关节外骨骼需要提供的角度以及力矩（康复型的需要小一点）\n  设计 （同上篇）the geometry of FPBAs also ensures that their internal airflow is always unobstructed at any angle, which avoids the airflow restriction problem for single-chamber actuators at extreme bending angles.\n  虚功原理推出输出力矩（volume/angle relationships和内部压强的函数） $\\tau=\\left(\\frac{P_{0} \\cdot V_{0}\\left(\\theta_{0}\\right)}{V(\\theta)}-P_{a t m}\\right) \\cdot \\frac{\\mathrm{d} V(\\theta)}{\\mathrm{d} \\theta}$\n  控制：不同的辅助动作给不同的恒压\n  Limits/Further Work 只使用a miniature pump，后续可以采用innovative pneumatic supply sources, such as a passive pump mounted on shoes, a high- pressure air bottle, and a high-power compressor.\n目前只对指定动作\nOrigami-Structured Actuating Modules for Upper Limb Support Thoughts/Comments   怎么用充气实现弯曲？好像是结构自身的特点？是未充满气就是弯曲吗？\n不是的，直接把近体侧attached，他们不需要直线运动的功能\n  可以实现twist吗？看实验图片是有的（手向斜前侧伸出），但是介绍Yoshimura的时候没说twist这样会不会有问题？\n后来想了一下，这种不叫twist\n  A Compact Soft Robotic Wrist Brace With Origami Actuators SOA(soft origami actuator)\nMaterials   synergistic actuation approach 协同驱动\n     soft-on-soft\n锚点使得soft actuator的output linear deformation and force in axial direction重整为consecutive bending\n  Yoshimura pattern\n  small elastic constant in the axial direction;\n  simplicity of elementary facets\n  intrinsically high circumferential bending rigidity\n  The hexagon facets effectively eliminate the extruding vertices formed by the triangular facets of the standard Yoshimura pattern; thus, the potential stress concentration at the vertices was avoided.采用四边形facet，形成六边形切面，有效地消除了标准Yoshimura三角形切面所形成的挤压顶点;从而避免了顶点处潜在的应力集中。\n    Methods   整体简化成一个并联机构(a parallel mechanism with four soft actuators) 2-DOF的运动简化成绕x/y轴的转动，通过D-H方法可以得到末端位置\n不同load下的位移-压强关系可测定\n  A cascaded control strategy (a motion-control outer loop and multichannel pressure-control inner loops for each SOA)\n The outer loop, controlled by the high-level controller, used pressure feedback information (motion filter) from each actuator to obtain the overall device motion estimation and then compared with the desired motion mapped from the different control commands (flexion/extension, ulnar/radial deviation, and engagement signal). The resultant pressure commands from the high-level controller were then relayed to the low-level controllers, each regulating one soft origami actuator accordingly.\n 没有讲是怎么配合人的 其实讲了，因为是康复型不是增强型所以只要输入上层指令\n  According to Flores et al. (2014), the average maximal torque generated by the wrist of a healthy individual in radial/ulnar deviation is 1.3 Nm. As shown in Figure 7F, the force generated from proposed SR brace in radial/ulnar deviation was around 6 N; thus, considering the length of the 2-actuator unit of 128 mm, the torque generated by the SR brace reached up to 0.76 Nm, which is about 58% of the max torque of human wrist.\nModeling and Analysis of a High-Displacement Pneumatic Artificial Muscle With Integrated Sensing         A Soft Inflatable Wearable Robot for Hip Abductor Assistance: Design and Preliminary Assessment Actuation principles; A) a schematic figure of the hip abduction actuator (HAA). The angle ($\\alpha$) is the current actuator angle (deformed), and the angle ($\\theta$) is the pattern angle as the maximum unfolding angle (equilibrium). The actuator is folded when deflation ($\\alpha \\approx 0$) , and then the actuator exerts torque while attempting to inflate to the pattern angle due to force equilibrium when inflation; B) a theoretical torque profile related to the different actuator angle ($\\alpha$​​) ; C) a simplified diagram of the HAA, the support beams, and the pelvis system. The support beams react against the femur (fixed) to provide torque from the HAA to the pelvis.\n未涉及控制，实验的加压阶段手动进行\nAn Untethered Electro-Pneumatic Exosuit for Gait Assistance of People With Foot Drop 没看出来哪里origami；论文格式图片很糊，没有细看\n","date":"2021-08-05T00:00:00Z","permalink":"https://K7288.github.io/posts/origami-pnumatic-exoskeleton/","title":"(Origami) Pneumatic Exoskeleton"},{"content":"Detection of gait events using an F-Scan in-shoe pressure measurement system 比较了force-based detection (FD，软件自带)和area-based method (AD) ；kinetic detection(KT，使用force platforms的数据)作为validation\n对F-Scan® system准确性的讨论 Several studies have evaluated the accuracy and reliability of force and pressure measurements using the F-Scan® system and reached different conclusions. While some authors concluded that F-Scan demonstrated good to excellent reliability in measuring plantar pressures [11], others concluded that the system was not entirely suitable for accurate and repeatable absolute pressure measurements [12], [13], [14] or that the system could be used only in a sample large enough as to allow the detection of the real effect of the treatment [15]. Other studies suggested that errors could be greatly minimized by adequate preparation and use of the system [16], [17], [18], [19], [20]. These and similar studies show that the system could provide valuable information but care should be taken when measuring absolute values of force or pressure.\n[16], [17]建议subject先走10min保证温度+适应，所以可以先穿上鞋再贴IMU\nMethods \u0026amp; Results KT 10N threshold\nFD\n$\\text{force threshold}= \\text{minimum}+(\\text{maximum}-\\text{minimum})\\times \\frac{10}{100}$\n​AD\n$\\text {area threshold}=\\mathrm{ALS} \\mathrm{w}+(\\mathrm{ALSt}-\\mathrm{ALSw}) \\times \\frac{5}{100}$​​\n统计load area，出现频率最高的小面积($\u0026lt; 2000 \\text{mm}^2$​)就是$\\text{area loaded during swing (ALSw)}$​，($\u0026gt;2000 \\text{mm}^2$​​) 的up to the maximum area (b) was used to find the $\\text{area loaded during stance (ALSt)}$\n5 set by visually inspecting\nstatistical analysis\nA 2 (insoles sets: 1 and 2) × 2 (time differences with respect to the gold standard for methods FD and AD) mixed design analysis of variance (ANOVA) was used for the analysis, with time differences serving as the within subjects factor.\n  The results of the statistical test for IC showed that there was a significant effect for the methods factor, F (1, 8) = 348.5, p \u0026lt; 0.01. The effect of the insoles sets was not significant, F (1, 8) = 0.35, p \u0026gt; 0.05, and the interaction of insoles sets and methods was also not significant, F (1, 8) = 5.1, p \u0026gt; 0.05.\nFor FO, the statistical test also showed a significant effect for the detection methods, F (1, 8) = 600.2, p \u0026lt; 0.01. The effect of the insoles sets was not significant, F (1, 8) = 0.77, p \u0026gt; 0.05, and the interaction of insoles sets and methods was also not significant, F (1, 8) = 11.1, p \u0026gt; 0.05.\n KT的阈值选取 直接用阈值最好是使用测力板\u0026quot;gold standards\u0026quot;，但也可以用insole pressure sensor1\n IPSs are often considered as an alternative to force plates in validation studies due to several advantages including cost factor, wearability, and unconstrained movement that allows natural gait in both indoor and outdoor environments.\nDespite these advantages, there are some constraints to consider. IPSs are typically placed inside the shoe and are thus subject to pressure between it and the foot, which can lead to non-zero pressure readings even when the foot is in swing phase. Although IPSs are comparable to force plates when it comes to estimation of temporal features, using them for real-time ground reaction force estimation is not recommended since it takes a considerably longer time to reach the set value compared to a force plate.\n  Different thresholds algorithms proposed: a fixed threshold for both events of zero [24], 2.5 N [25] and 10 N [8], [9], [26], a combination of 10 N for IC and 5 N for FO [10], [27], a proportion of body weight [28] or a threshold equal to two standard deviations above the mean unloaded baseline [7]. GRF thresholds of 10 N, 15 N, and 2% of the maximum vertical GRF(high agreement between the different force thresholds (R2 value \u0026gt;0.99))2 three different thresholds, i.e., 5 N, 10 N, and 50 N 不同阈值之间有差别 IC and TO events were the 10 N and 25 N thresholds345 HO and TO: 30% of the maximum; 6 39% of the maximum FSR value (on a rising edge)7  一些验证指标 误差，误差分布 accuracy (precision, recall, F1-score) and timing agreement (Bland-Altman method)\n  Prasanth, H., Caban, M., Keller, U., Courtine, G., Ijspeert, A., Vallery, H., \u0026amp; von Zitzewitz, J. (2021). Wearable sensor-based real-time gait detection: A systematic review. Sensors, 21(8)\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Rosa M.S. Visscher, Sailee Sansgiri, Marie Freslier, Jaap Harlaar, Reinald Brunner, William R. Taylor, Navrag B. Singh, Towards validation and standardization of automatic gait event identification algorithms for use in paediatric pathological populations, Gait \u0026amp; Posture, Volume 86, 2021, Pages 64-69, ISSN 0966-6362, https://doi.org/10.1016/j.gaitpost.2021.02.031.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n J.P. Hunter, R.N. Marshall, P.J. McNair Relationships between ground reaction force impulse and kinematics of sprint-running acceleration Journal of Applied Biomechanics, 21 (1) (2005), pp. 31-43\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n E. Bergamini, P. Picerno, H. Pillet, F. Natta, P. Thoreux Estimation of temporal parameters during sprint running using a trunk-mounted inertial measurement unit J. Biomech., 45 (2012), pp. 1123-1126\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Mo, S.; Chow, D.H.K. Accuracy of Three Methods in Gait Event Detection during Overground Running. Gait Posture 2018, 59, 93–98.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n J. Figueiredo, P. Félix, L. Costa, J. C. Moreno and C. P. Santos, \u0026ldquo;Gait Event Detection in Controlled and Real-Life Situations: Repeated Measures From Healthy Subjects,\u0026rdquo; in IEEE Transactions on Neural Systems and Rehabilitation Engineering, vol. 26, no. 10, pp. 1945-1956, Oct. 2018, doi: 10.1109/TNSRE.2018.2868094.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Hanlon M and Anderson R 2009 Real-time gait event detection using wearable sensors Gait Posture 30 523–7\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2021-08-02T00:52:44+08:00","permalink":"https://K7288.github.io/posts/ips-for-validation/","title":"IPS for Validation"},{"content":"Strategy1 \u0026amp; Yield  Search Strategy\n  Scopus, Google Scholar, and PubMed databases were used to perform a literature search on the topic of gait phase partitioning.\n  The electronic search was conducted in September 2015.\n  Keywords included: gait events, gait phases, and their combinations with the words: partitioning, detection, classification, and recognition. In addition, wildcard symbols, such as hyphens or inverted commas, were used to consider all possible variations of root words.\n  To avoid missing some important studies, a cross referencing was applied from each article found during electronic search. A literature search was performed by Taborri.\n  Inclusion Criteria\n Articles obtained thorough these searches were evaluated using the title and abstract. The articles were included in this systematic review when they met the following criteria: (i) they were written in English; (ii) they were published from January 2000 to September 2015. We excluded conference proceedings when a journal article published by the same authors with the same contents was already included.  Data Extraction\n Publications included in this systematic review were downloaded into Mendeley for screening. In order to make the review readable and focused on the authors’ intention, as claimed in the Introduction section, a data extraction was conducted based on major themes: (i) the granularity of the gait cycle ; (ii) sensor placement; and, (iii) method and performance of gait phase classifications.  Quality Assessment\n A quality assessment of the found articles was provided in addition to the systematic review; in particular, publications were subject to seven criteria, as shown in Table 1, in accordance to Campos and colleagues [84]. Independently, Taborri, Palermo and Rossi used the seven criteria to assess the quality of the publications. Any discrepancy among two reports was adjudicated by the third one.   gait event detection 检索关键词: gait event detection，限定2015及以后123456\nWearable sensor-based real-time gait detection: A systematic review Rueterbories et al. [26] Review of sensor configurations and placements, and a brief review of gait detection methods\nPerez-Ibarra et al. [27] Brief review comparing gait event detection methods, sensors used, placement of sensors and subjects involved\nPanebianco et al. [18] Rule-based methods\ngait phase detection 检索Author Keywords \u0026ldquo;gait phase detection\u0026rdquo;\nevent detection 检索Author Keywords \u0026ldquo;event detection\u0026rdquo;\ngait event detection 检索Author Keywords \u0026ldquo;gait event detection\u0026rdquo;\nGait events \u0026amp; phases 见\u0026quot;J. Perry, J.M. Burnfield, Gait Analysis: Normal and Pathological Function(2nd ed.), SLACK Incorporated (2010)\u0026ldquo;以及\u0026quot;Michael W. Whittle, An Introduction to Gait Analysis, 4th Ed. (2007)\u0026rdquo; （之前的笔记）\n此外，一些工作里有不同的划分方式\n   Taborri, J., Palermo, E., Rossi, S., \u0026amp; Cappa, P. (2016). Gait partitioning methods: A systematic review. Sensors (Switzerland), 16(1). https://doi.org/10.3390/s16010066\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Caldas, R., Mundt, M., Potthast, W., Buarque de Lima Neto, F., \u0026amp; Markert, B. (2017). A systematic review of gait analysis methods based on inertial sensors and adaptive algorithms. Gait and Posture, 57, 204–210. https://doi.org/10.1016/j.gaitpost.2017.06.019\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Pacini Panebianco, G., Bisi, M. C., Stagni, R., \u0026amp; Fantozzi, S. (2018). Analysis of the performance of 17 algorithms from a systematic review: Influence of sensor position, analysed variable and computational approach in gait timing estimation from IMU measurements. Gait and Posture, 66, 76–82. https://doi.org/10.1016/j.gaitpost.2018.08.025B\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n enson, L. C., Clermont, C. A., Bošnjak, E., \u0026amp; Ferber, R. (2018). The use of wearable devices for walking and running gait analysis outside of the lab: A systematic review. Gait \u0026amp; Posture, 63, 124–138. https://doi.org/10.1016/J.GAITPOST.2018.04.047P\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n rasanth, H., Caban, M., Keller, U., Courtine, G., Ijspeert, A., Vallery, H., \u0026amp; von Zitzewitz, J. (2021). Wearable sensor-based real-time gait detection: A systematic review. Sensors, 21(8). https://doi.org/10.3390/s21082727\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Celik, Y., Stuart, S., Woo, W. L., \u0026amp; Godfrey, A. (2021). Gait analysis in neurological populations: Progression in the use of wearables. Medical Engineering \u0026amp; Physics, 87, 9–29. https://doi.org/10.1016/J.MEDENGPHY.2020.11.005\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2021-08-02T00:52:44+08:00","permalink":"https://K7288.github.io/posts/reviews-of-gait-eventphase-detection-methods/","title":"Reviews of Gait Event/Phase Detection Methods"},{"content":"Studies using phase portraits    Authors and year Axes Task     Holgate et al. 2009 Tibia angle \u0026amp; tibia scaled angular velocity Continuous gait phase estimation   Villarreal et al.,2017 Thigh angle \u0026amp; its derivative(estimated thigh velocity) Continuous gait phase estimation   Quintero et al.,2017 Thigh angle \u0026amp; its derivative(estimated thigh velocity) Continuous gait phase estimation; gait speed estimation(as a byproduct)   Quintero et al. 2018 Thigh angle \u0026amp; its integral Continuous gait phase estimation    Holgate et al.,2009 Holgate et al.1: The polar angle between the tibia angle and its scaled angular velocity has an invertible relationship with the gait phase and is not subject-dependent.\nTibia angular velocity multiplied by a scaling factor versus tibia angle. The closer the curve is to the origin, the shorter the stride length. Polar angle $\\Phi$ represents the progression around the curve based on gait percent. $r$ is the polar radius and is related to the stride length of the particular curve.\nTibia angle profile for able bodied human gait. Each curve represents a different stride length. The closer the curve is to the zero degree axis, the shorter the stride length.\nVillarreal et al.,2017 The phase portrait was scaled by a factor estimated by the ratio of difference in maximum phase angle and minimum phase angle to the difference in the first derivative of the same, so as to improve the monotonicity and linearity. These properties were further improved by filtering, at the expense of some delay. 2\nQuintero et al.,2017  The raw thigh orbit (raw) compared to the interpolated filtered, shifted/scaled thigh orbit (interp + shift/scale) in the phase plane for 20 continuous strides at 3 mph. Applying the shift and scale algorithm produces a circular orbit shape, in contrast to the raw non-circular orbit.3\n  The phase portrait of $\\dot\\theta_y(t)$ vs. $θ_x(t)$ across various treadmill speeds (1–9 mph) each having 20 consecutive gait strides. The polar radius $r$ can be correlated to the subject\u0026rsquo;s gait speed. speeds \u0026lt; 4mph produced a circular orbit from 0 to 2$\\pi$ (i.e., 0% to 100% gait cycle). At 5 mph, the subject transitioned from fast walking to running, where more forceful ground impacts can be observed in the IMU measurements due to the flight phase. this produced a non-circular form after impact with intersection of other orbits at different speeds, as shown in the first quadrant for 5–6 mph.\n Quintero et al.,2018 Quintero et al.4: thigh angular position and its corresponding integral to form a well-defined thigh orbit.\nA phase angle $ \\vartheta (t) $ is computed by utilizing thigh angular position $\\phi(t)$ and its integral $\\Phi(t)=\\int ^t_0\\phi(τ)dτ $in the following way: $$ \\vartheta (t) =\\mathrm{atan2}((\\Phi (t) + \\Gamma)z, (\\phi (t) +\\gamma)) $$ where the scale factor z, the thigh angle shift γ, and the thigh integral shift Γ are given by $$ z= \\frac{|\\phi _{\\rm max} - \\phi _{\\rm min}|}{|\\Phi _{\\rm max} - \\Phi _{\\rm min}|}, \\gamma = -(\\frac{\\phi _{\\rm max} + \\phi _{\\rm min}}{2}), \\ \\ \\Gamma = -(\\frac{\\Phi _{\\rm max} + \\Phi _{\\rm min}}{2}). $$\n Phase plane of the thigh angle ϕ(t) vs. its integral Φ(t) during prosthetic leg experiments (see Section IV). The phase plane has been scaled by z and shifted by (γ,Γ) to achieve a circular orbit across the stride, which improves the linearity of the phase variable ϑ(t).\n   M. A. Holgate, T. G. Sugar, and A. W. Bohler, “A novel control algorithm for wearable robotics using phase plane invariants,” in 2009 IEEE International Conference on Robotics and Automation, pp. 3845–3850, Kobe, Japan, 2009.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n D. J. Villarreal, H. A. Poonawala and R. D. Gregg, \u0026ldquo;A Robust Parameterization of Human Gait Patterns Across Phase-Shifting Perturbations,\u0026rdquo; in IEEE Transactions on Neural Systems and Rehabilitation Engineering, vol. 25, no. 3, pp. 265-278, March 2017, doi: 10.1109/TNSRE.2016.2569019.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n D. Quintero, D. J. Lambert, D. J. Villarreal and R. D. Gregg, \u0026ldquo;Real-Time continuous gait phase and speed estimation from a single sensor,\u0026rdquo; 2017 IEEE Conference on Control Technology and Applications (CCTA), 2017, pp. 847-852, doi: 10.1109/CCTA.2017.8062565.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n D. Quintero, D. J. Villarreal, D. J. Lambert, S. Kapp, and R. D. Gregg, “Continuous-phase control of a powered knee-ankle prosthesis: amputee experiments across speeds and inclines,” IEEE Transactions on Robotics, vol. 34, no. 3, pp. 686–701, 2018.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2021-07-16T00:00:00Z","permalink":"https://K7288.github.io/posts/phase-portrait/","title":"Phase Portraits"},{"content":"Sensors for Gait Analysis  Sensors for Gait Analysis  Sensors  Inertial Measurement Units  Sensor placement  Preference in literature (inter- and intra=) Segments to choose   Filter Application   Insole pressure sensors      Sensors    Distribution of studies based on the type of wearable sensors used Distribution of studies based on the type of sensors used for ground-truth validation of IMU-based gait analysis. Absolute number of studies in each category is listed within parentheses.          IMU—inertial measurement unit, IPS—insole pressure sensor, EMG—electromyography sensor.\n Only 11% of studies using a rule-based method required the placement of more than one IMU per leg, in contrast to 53% of machine learning approaches. This means applications using the rule-based methods typically require a less complex sensor setup, which would be preferable to the end-user. Furthermore, in 84% of studies using rule-based methods, the approach could be used independently for one leg or the other, compared to 47% for machine learning.\n \rInertial Measurement Units Sensor placement Preference in literature  Number of studies using inertial measurement units (IMUs) that placed the sensor(s) on specific anatomical locations. Single placement contains studies where sensor(s) were placed only in one anatomical location. Placement combinations’ columns indicate studies where sensor(s) were placed in more than one location. Each relevant location is marked by a shaded cell and the number of studies using this combination is indicated at the bottom of the column. The total indicates the sum of studies where the sensor(s) were placed on that given anatomical location.\n (inter- and intra=) Segments to choose Foot\n Li et al., 20161: compared IMU signals from the thigh, the shank and the foot, based on the stability of “energy of acceleration” which is the norm of raw acceleration minus gravity Jasiewicz et al., 20062: significantly more accuracy in gait event detection methods Taborri et al., 20143: better accuracy of a HMM-based classifier for gait event detection when using data of the foot. Wenger, N. et al., 20154: neuro-behavioral experiments suggesting that limb endpoints are the primary variables used to coordinate locomotion in animals and humans  Shank\n Bejarano et al., 20135: the root mean square error between each cycle (as well as the average)  Irrelevant (in some tasks)\n Mazilu et al., 20126: in the context of freezing of gait  Intra-segment\n​\tmount/socket; Anwary et al.7: the medial arch followed by the Achilles tendon(also the centre point of foot length; location 1 🔽); based on accuracy of extracted features: Number of Strides, Distance, Speed, Stride Length, Stride Period, Stance Length, Stance Period, Swing Length, Swing Period and ratio of stance and swing\nFilter  39 out of 69 studies at least used a preprocessing filter, 31 of which used a low-pass filter among which 15 used the Butterworth low-pass filter. Note that preprocessing filters add to the latency in data processing, which is undesirable in a real-time system.\n Application \nInsole pressure sensors Only six out of 28 studies related to IPS used any sort of preprocessing/filtering. Instead, these studies relied directly on the raw signal from the IPS, likely contributing to shorter latency, an advantage when it comes to real-time systems.\n  Li, F.; Liu, G.; Liu, J.; Chen, X.; Ma, X. 3D Tracking via Shoe Sensing. Sensors 2016, 16, 1809. [Google Scholar] [CrossRef]\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Jasiewicz, J.M.; Allum, J.H.; Middleton, J.W.; Barriskill, A.; Condie, P.; Purcell, B.; Li, R.C.T. Gait event detection using linear accelerometers or angular velocity transducers in able-bodied and spinal-cord injured individuals. Gait Posture 2006, 24, 502–509. [Google Scholar] [CrossRef]\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Taborri, J.; Rossi, S.; Palermo, E.; Patanè, F.; Cappa, P. A novel HMM distributed classifier for the detection of gait phases by means of a wearable inertial sensor network. Sensors 2014, 14, 16212–16234. [Google Scholar] [CrossRef]\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Wenger, N.; Moraud, E.M.; Raspopovic, S.; Bonizzato, M.; DiGiovanna, J.; Musienko, P.; Morari, M.; Micera, S.; Courtine, G. Closed-loop neuromodulation of spinal sensorimotor circuits controls refined locomotion after complete spinal cord injury. Sci. Transl. Med. 2014, 6, 255ra133. [Google Scholar] [CrossRef]\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Bejarano, N.C.; Ambrosini, E.; Pedrocchi, A.; Ferrigno, G.; Monticone, M.; Ferrante, S. An adaptive real-time algorithm to detect gait events using inertial sensors. In Proceedings of the XIII Mediterranean Conference on Medical and Biological Engineering and Computing 2013, Seville, Spain, 25–28 September 2013; pp. 1799–1802. [Google Scholar] [CrossRef]\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Mazilu, S.; Hardegger, M.; Zhu, Z.; Roggen, D.; Troster, G.; Plotnik, M.; Hausdorff, J.M. Online detection of freezing of gait with smartphones and machine learning techniques. In Proceedings of the 2012 6th International Conference on Pervasive Computing Technologies for Healthcare (PervasiveHealth), San Diego, CA, USA, 21–24 May 2012; pp. 123–130. [Google Scholar]\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Anwary, A.R.; Yu, H.; Vassallo, M. Optimal foot location for placing wearable IMU sensors and automatic feature extraction for gait analysis. IEEE Sens. J. 2017, 18, 2555–2567. [Google Scholar] [CrossRef]\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2021-07-16T00:00:00Z","permalink":"https://K7288.github.io/posts/sensors-for-gait-analysis/","title":"Sensors for Gait Analysis"},{"content":"FScan: Before Taking A Recording * means \u0026ldquo;optinal\u0026rdquo;; 此处的定义和步骤均参考Tekscan的F-Scan User Manual\nPreparing the Patient trim the sensor; set up the testing area; set up the system hardware; weigh the patient; outfit the patient.\n*Zeroing the Sensor 当整个实验过程中鞋垫上始终有额外压力时使用；类似称重的去皮；\n*Equilibration 在鞋垫上放置均匀重物；\nCalibration Point Calibration 校准时间取决于实际行走过程，快的人1s，慢的2s\n先抬起待校准脚，放下同时重量全部集中在该脚上，放下后很快（间隔1s）实验人员点击校准（实测这样不行，还是要稍微稳定一下再开始标定。）\n可以用手指在竖直墙面上轻点辅助稳定。（实测+官方文档）\n稳定后传感器压力持续上升，可以只看前n秒来判断标定是否正确。(n=5~10)\nExtended Calibration 是点校准的延伸；默认开启；在两个均采用点校准的sensor测量完成后基于体重调整两sensor的校准（by an equal amount）to correct for the differing \u0026ldquo;drift\u0026rdquo; times that occur between your calibration and the actual test.\n进行此校准要求两脚均必须满3steps $\\Rightarrow$ 不然会提示“步态扩展不足”打✔️开启Step Calibration To initiate Step calibration, initially, the subject stands entirely on the foot to be off-loaded. The user clicks the Start button, and a timer appears in the calibration window. After a second or two, the computer directs the subject to rapidly shift their weight onto the foot to be calibrated and keep their weight applied for five to ten seconds.\nIt is important that the subject be “steady” during the calibration process. For example, the subject should be encouraged to touch a vertical surface at about the height of their ear with a finger or two. In many labs there is a wall or pillar that provides a good vertical surface. This steadies the subject without changing the vertical force. If the subject wobbles or shifts their weight on the calibration foot, the computer will reject the trial and provide a message to the user.\nFor most research, Step calibration is expected to be the most accurate technique. Step calibration has both a factor for rapid dynamic changes and compensates for time related changes in sensor output.\nVerify your calibration(Point/Step) Have your subject walk in place for a few steps while you take a recording. Select Show Panes and select New Graph. The force curves for each window should be roughly the same amplitude and duration. Additionally, output numbers of the calibrated window should be +/- 10% of the patient’s body weight. Note: You may have to rotate the Real-time Window to see the \u0026ldquo;Force\u0026rdquo; display.\nWalk Calibration Walk calibration functions automatically, without the requirement for an additional maneuver by the subject. Walk calibration is accomplished for the left and right foot together. Walk calibration is done automatically after the trial of interest is recorded.\n每一次movie都生成一个相应的校准\n要求subject步行，不能慢跑或跳跃；也需要在摆动相全部体重集中在一只脚上\nWalk calibration is expected to be most effective clinically, where most subjects are walking at a normal pace. Because the calibration is automatic, Walk calibration is quicker, increasing the number of subjects that can be seen in an hour, or increasing the number of trials that can be performed. Walk calibration can be used with subjects who cannot stand on one foot for ten seconds. It is not expected to be as accurate as step calibration.\n","date":"2021-07-09T22:00:09+08:00","permalink":"https://K7288.github.io/posts/before-taking-a-recording/","title":"FScan: Before Taking A Recording"},{"content":"A Real-Time Stability Control Method Through sEMG Interface for Lower Extremity Rehabilitation Exoskeletons\nintention定义: walk/stride across/stop state\nResearch question  analysis of gait planning based on a human kinematics model and real-time motion stability based on the zero-moment point (ZMP). a neural interface based on sEMG to achieve motion intention recognition and muscle fatigue estimation. to verify the stability of human–exoskeleton system and ergonomic effects of the proposed gait switching method by organized experiments.  Introduction   一些商用外骨骼\nExoskeleton robots require the human interface to provide walking stability so that it may function as a flexible assistant. Such robots have been developed by commercial companies including Rewalk (Talaty et al., 2013), Ekso Bionics (Baunsgaard et al., 2018), Ailegs (Chen et al., 2018), and MaiBu BEAR H1. Exoskeleton robots especially require the walking stability as far as possible so as to provide flexible assistant. The Hybrid Assistive Limb (HAL) (Shimizu et al., 2019), which takes advantage of sEMG in control strategy, was designed by the robotics company Cyberdyne (Yilmaz et al., 2018).\n  研究机构和大学的外骨骼\nSogang University in Korea developed a exoskeleton namely SUBAR (Chen et al., 2013; Hwang and Jeon, 2018), which could estimate the muscular torque of its wearer. Singapore’s Nanyang Technological University (Mertz, 2012) and Harvard University (Abe et al., 2018) have also made solid progress in the development of assisted exoskeletons. The Chinese University of Science and Technology designed an exoskeleton robot driven by a servo motor (Li et al., 2019) and developed a fuzzy algorithm for lower extremity exoskeleton (Huang et al., 2016a). The exoskeleton team of H. C. from University of Electronic Science and Technology of China have developed exoskeletons for paraplegia (Huang et al., 2018), hemiplegia patients (Peng et al., 2020), and human-power augmentation (Huang et al., 2016b, 2019). The exoskeleton group at the Shenzhen Institutes of Advanced Technology of the Chinese Academy of Sciences has developed the fourth generation of the SIAT exoskeleton robot. With four degrees of freedom (DoFs), this exoskeleton robot has successfully enabled persons with disabilities to stand up and walk independently (Liu et al., 2017; Wang et al., 2018a).\n  While investigating the existing exoskeleton control methods, we found very few studies that have examined the minimum force requirements into the control scheme by the wearer. We also found scarce consideration for the state of the wearer while operating a lower limb exoskeleton.\n  Methods Gait Planning We initially treat these two joints as two points and draw the trajectories of these points during the walking process to determine the trajectory approximating the sine function (Chen et al., 2019)\nMotion Intention Recognition Muscle Fatigue Estimation the wavelet packet energy entropy (WPEE)\nResults Thoughts/Comments 这个虽然用到了COP/ZMP，但是因为是康复外骨骼有俩拐杖应该不能直接用它这个公式，但是计算方法可以看一下\n这通篇读下来也没看出来哪里control了啊，就三个模式检测出来直接上对应的机器状态，不愧是康复型\n","date":"2021-07-08T14:29:01+08:00","permalink":"https://K7288.github.io/posts/a-real-time-stability-control-method-through-semg-interface-for-lower-extremity-rehabilitation-exoskeletons/","title":"A Real-Time Stability Control Method Through sEMG Interface for Lower Extremity Rehabilitation Exoskeletons"},{"content":"A novel motion intention recognition approach for soft exoskeleton via IMU\nintention定义: the classic five kinds of terrains(including walking on flat ground, going up and downstairs, and up and down slopes) \u0026amp; transformed terrains\n   Abbreviation Definition Abbreviation Definition     IMU Inertial measurement unit SA Stair ascent   DDLMI DNN-based deep locomotion mode identification SD Stair decent   ISR Identification success rate RA Ramp ascent   LW Level-ground walking RD Ramp decent    Research question to propose a recognition method with historical information based on neural network to recognize different terrain and add the pattern transformation recognition, trying to predict the next motion mode in advance.\nIntroduction   前人的一些工作\nThe recognition of locomotion patterns in different terrains is a base for soft exoskeleton to achieve precise control. Several motion recognition methods have been proposed for different types of signals [6]. Electromyography (EMG) is one of the most important signals in motor pattern recognition [6,7]. Based on the EMG signal controller, Michael et al. [8] proposed a recognition method for walking on flat ground, ramps up and downhill. Joshi et al. [6] present a classification method to recognize walking on ground, ascending stairs and the transition between these motions using the spectrogram of EMG signal. Another accessible signal is ground reaction force (GRF), usually collected by a plantar pressure sensor on insole [9–11]. Duc Nguyen et al. [12] extracted plantar pressure data as input features, and proposed five classical motion pattern recognition methods by using the K-nearest neighbor (KNN) classification method. Chen et al. [13] identified different motion patterns through wearable capacitance sensors without requiring real-time gait conversion. Li et al. [14] used the threshold method based on inertial measurement unit (IMU) to identify horizontal ground, staircase rise/fall and slope rise/fall, which required only a few sensors and low computation. However, there is a phase delay in the transition to identification. Multi-sensor fusion, which is able to enhance system performance and robustness, has been widely used in recent years [15–17]. In [18], a neural muscle mechanical fusion motion pattern recognition algorithm combining EMG and GRF is proposed, which involves installing seven or more electrodes in the extremities and an insole with a pressure sensor at the foot of a healthy limb. Ma et al. [19] proposed a kernel recursive least-squares method (KRLS) to show the model generalization abilities. \u0026hellip;\u0026hellip;\n  其他sensor的缺点\n EMG is often used to recognize biological signals of motion patterns. However, the electrode of the EMG signal must stick to the surface of the human skin. Once the human body perspires, the wire will fall off, which brings a lot of trouble to practical application [22]. GRF is ineffective on uneven ground where the swing phase and the pressure sensor are not in full contact, even though it is readily available.    The Structure of Exoskeleton and Analysis of Motion Characteristics Methods Gait Data Process   mean filter with a window length of three $$ \\begin{cases}\\begin{array}{l} \\theta_{i}(t-j)^{\\prime}=\\frac{1}{3} \\Sigma_{1}^{-1} \\theta_{i}(t-j),\\\\ a_{i}(t-j)^{\\prime}=\\frac{1}{3} \\sum_{1}^{-1} a_{i}(t-j), i=\\{r h,l h, r k, l k\\}\\\\w_{i}(t-j)^{\\prime}=\\frac{1}{3} \\Sigma_{1}^{-1} w_{i}(t-j)\\end{array}\\end{cases} $$ where $ \\theta $ is the joint angle at time t before filtering and $ \\theta^{\\prime} $ is the corresponding joint angle after filtering. In the same way, $ a, a^{\\prime}, w, w^{\\prime} $. Here, $ i $ denotes one of the six joints, and $ j $ is the tag of a window.\nTherefore, the characteristics of the DDLMI model are characterized according to Equation (2):\n$x=[\\theta_{i}, a_{i}, w_{i}]^{T}, i=\\{r h, l h, r k, l k\\}\\Rightarrow$ input: joint angle, angular acceleration and angular velocity(an axis angle (x), two axes (XY) acceleration and two axes (YZ) angular velocity)\n  max-min normalization\nstandardize the input vector elements to the range of [−1, 1]\n  a sliding window\nEach window sequence is a training sample. In this paper, the window size is set to 100, and the step size is 50. 单位是啥❓\n  Locomotion Mode Identification Performance Evaluation Steady Locomotion Period: the identification success rate $\\text{ISR}=\\frac{N_{\\text{correct}}}{N_{\\text{total}}}$; the confusion matrix\nLocomotion Transition Period: to judge whether the conversion pattern recognition is timely; $D_{I}=\\frac{T_{i}-T_{c}}{T} * 100 \\%$ where $ T_{i} $ is the moment when locomotion transition is identified, $ T_{c} $ is the critical moment, the moment when the user starts to change the current locomotion mode, and $ T $ is the average time of a gait cycle.\nResults Highlights sensors用得少；识别及预测transition\nThoughts/Comments   TODO这个intro部分涉及的还挺全面的，之后看一下\n  TODO 回头看一下基于interaction force具体是怎么做的\n  TODO 对IMU数据的处理\u0026amp;可靠性验证\nThe angle information used in this paper is directly output by IMU, and there is a 90-degree difference with the actual hip posture angle. Therefore, 90 degrees should be subtracted from the original angle information when compared with the attitude angle obtained by Vicon system dynamic capture in [25]. One-way ANOVA showed that there was no significant difference in F value at the level of a = 0.01. Therefore, the inertial measurement system used in this paper is reliable.\n  也用到了滑窗法增强数据\n  ","date":"2021-07-08T09:05:01+08:00","permalink":"https://K7288.github.io/posts/a-novel-motion-intention-recognition-approach-for-soft-exoskeleton-via-imu/","title":"A novel motion intention recognition approach for soft exoskeleton via IMU"},{"content":"Daily Locomotion Recognition and Prediction: A Kinematic Data-Based Machine Learning Approach\nintention定义: locomotion modes (LMs; walking direction, level-ground walking, ascend and descend stairs, and ascend and descend ramps) and respective locomotion mode transitions(LMTs).\nResearch question to propose an automatic, user-independent recognition and prediction tool using easily wearable kinematic motion sensors for innovatively classifying several LMs (walking direction, level-ground walking, ascend and descend stairs, and ascend and descend ramps) and respective LMTs.\nIntroduction  EMG的一些drawback 之前的一些人的分类工作 它说预测的少，而且很少有达到“预”测 一些工作规定被试用a predefined limb进行transition a set of challenges 总之就是说这个工作前面做的人少而且有challenges并且没人只用kinematic data  Methods Sensors: 7 IMUs\n 数据滤波: 1st order low- pass filter (exponential smoothing) with 0.5 as the smoothing factor and a cut-off of 10 Hz [13]. 一阶低通滤波器(指数平滑)，平滑因子为0.5，截止频率为10hz  feature calculation  feature是一个窗口的；也探究window size的影响 feature两腿都有；两种方式：左腿右腿；前腿后腿the leading and opposite legs  pre-processing  normalization: compared different normalization techniques, namely centering, z-score standardization, and min-max scaling filter feature selection: minimum-redundancy maximum-relevancy (mRMR) algorithm to rank features in descending order according to their relevance [19]. Then, we used the ANOVA, starting on the highest-ranked feature, to assess which classes are distinguishable for the feature considering the feature’s mean and variance per class. This procedure was done until there are a set of features that distinguish between all classes. mRMR找强关联项; ANOVA去除冗余特征 feature extraction: principal component analysis (PCA) considering the Horn’s Parallel Analysis as a cut-off criterium  data labeling model building  wrapper methods: mRMR排序，由高到低依次检验，如果有提升则加到feature set里; ‘‘forward selection plus backward selection’’,类似剪枝 hyperparameter  实验 Mathew’s correlation coefficient (MCC) for both comparison and reporting of model’s performances due to its good representative properties of unbalanced classes\nResults The most effective machine learning configuration includes min-max scaling in [−1;1] interval and ‘‘mRMR plus forward selection algorithm’’ for feature normalization and dimensionality reduction, respectively, and Gaussian SVM classifier.\nFEATURE CALCULATION ANALYSIS 识别: 使用左/右方法的全步幅最优；预测: leading/opposite approach and 1/4 fraction of gait stride yielded the best results\nthe interval from 1/4 stride’s fraction to the toe-off event (likely from terminal stance phase to preswing phase) contains relevant information for the user’s motion prediction.\nFEATURE NORMALIZATION ANALYSIS min-max scaling with the interval [−1;1] yielded the best results for recognition and prediction.\nFEATURE SELECTION AND EXTRACTION ANALYSIS  performed better in recognition than in the prediction an adequate dimensionality reduction method improved the effectiveness of the classifier com- pared to the inclusion of the entire dataset. mRMR was faster and more effective than the ‘‘forward selection’’ and ‘‘backward selection’’ methods the ANOVA was less effective due to the low number of selected features (2 to 3 features) to discern between the classes dimensionality reduction methods that depend on the built model outperformed the ones (as ANOV A and PCA) that consider neither the classification model nor the classification goal.  model building analysis SVM classifier with a Gaussian kernel is an effective classifier to yield a benchmark tool for both recognition and prediction purposes, despite the higher computational burden than other classifiers.\nThoughts/Comments  EMG sensors present some drawbacks when compared to kinematic sensors, such as the lengthy and expert-based installation, difficulty for keeping them attached during the user’s daily locomotion, and the shifting electrodes may change EMG patterns and degrade the classification over time [2], [4], [6].\n 确实！👎\n这种控制变量的形式应该之后也要用\n","date":"2021-07-07T17:00:00+08:00","permalink":"https://K7288.github.io/posts/daily-locomotion-recognition-and-prediction-a-kinematic-data-based-machine-learning-approach/","title":"Daily Locomotion Recognition and Prediction: A Kinematic Data-Based Machine Learning Approach"},{"content":"Motion control for a walking companion robot with a novel human–robot interface\nResearch question A walking companion robot is presented for rehabilitation from dyskinesia of lower limbs and its motion control algorithms.\nA new human– robot interface (HRI) adopts one-axis force sensor and potentiometer connector to detect the motion of the user with the common motions classified into two elemental motion states.\nmathematical model-based control method and force control method $\\Leftarrow$ distinction of motion states\nIntroduction   sensors\nThe design of human–robot interface involves two difficulties: the selected variables of body should fully reflect the motion state of the user and the sensors adopt to effectively measure the selected variables.\n介绍了信息充分性和成本之间的trade-off\n  control\nAdmittance control algorithm and variant of admittance-based control algorithm are widely used in the walker robot. $ { }^{4,7,8,10,11,13} $ Fuzzy control is also widely used. $ ^{12,15,18,22} $Other control algorithms such as learning algorithm,$ ^{23} $ smooth control,$ { }^{24} $ and Bayesian Networks mode$ { }^{16} $ are also adopted to the walker robot.\nThe precise motion control highly depends on the design of HRI.\n  Methods Recognition of elemental motion state 因为是辅助病人的，所以涉及的运动模式很有限，这篇文章只针对直行和转体两种。\nA rule-based method with fuzzy threshold rules\nRule set (rule-based method) If $ \\Delta F_{Y F}\u0026gt;0 $ and $ \\Delta F_{Y F} \\leq 0 $ and $ F_{Y B}\u0026gt;F_{Y F} $, then $ \\Delta d y_{\\text {user }}\u0026gt;0, \\Delta angle _{\\text {user }}=0 $\nIf $ \\Delta F_{Y B}\u0026gt;0 $ and $ \\Delta F_{Y F}\u0026gt;0 $ and $ F_{Y B} \\approx F_{Y F} $ and $ P_{F}\u0026gt; P_{M_{F}} $ and $ P_{B}\u0026gt;P_{M_{B}} $, then $ \\Delta d y_{\\text {user }}\u0026gt;0, \\Delta angle _{\\text {user }}\u0026gt;0 $\nIf $ \\Delta F_{Y B}\u0026gt;0 $ and $ \\Delta F_{Y F}\u0026gt;0 $ and $ F_{Y B} \\approx F_{Y F} $ and $ P_{F}\u0026lt;P_{M_{F}} $ and $ P_{B}\u0026lt;P_{M_{B}} $, then $ \\Delta d y_{\\text {user }}\u0026gt;0, \\Delta angle _{\\text {user }}\u0026lt;0 $\nMathematical model-based control method Motion Ⅰ\nMotion Ⅱ 类似\nFC method The force sensor data serve as the feedback of the control system rather than the input of control system.\nThe FC basic concept is: when the real-time force sensor data equals to the initial state force sensor data, it indicates that robot moves at the same pace or rotate at the same angle with user. The robot is seen as a stable system and the motion of user is seen as the disturbance, the initial output of the force sensor is seen as the reference input. The control objective is to make the real- time output of force sensors equal to the initial one-axis force sensor data by adjust the motion of robot.\nStability analysis MMBC: close- loop transfer function; the characteristic equation of the system; roots of characteristic equation\nFC: the open-loop transfer function; the characteristic polynomial; poles of the system\nThoughts/Comments  TODO 项目相关：所以从这方面来看也能体现我这个工作的意义，选择显著相关的variable就可能降低对传感器的要求 TODO 数据处理相关 the six- axis force/torque sensors or 3-D force sensors are required to remove noise (Kalman filters and G-h filters)  ","date":"2021-07-07T14:00:00+08:00","permalink":"https://K7288.github.io/posts/motion-control-for-a-walking-companion-robot-with-a-novel-humanrobot-interface/","title":"Motion control for a walking companion robot with a novel human–robot interface"},{"content":"Intention Detection and Gait Recognition (IDGR) System for Gait Assessment: A Pilot Study\nintention定义: standing still(stationary), walking or ascending the stairs\nHardware sensors: ADXL345 (an accelerometer; in pelvis unit) and four FSRs (two in each foot for heel and toe respectively)\nAlgorithm   gait adaptation: detect in which phase of the gait cycle the subject is\n  adaptive frequency oscillators (AFO) $\\Leftarrow$ Since the human gait cycle is periodic, the acceleration signals obtained from the pelvis unit is also periodic in nature.\n $\\epsilon$: the coupling strength $\\nu$: amplitude-learning factor $f_{\\min }$: initial frequency value a set of three oscillators ($\\mathrm{M}=3$) to generate a learning signal, $\\hat{\\theta} $, with the vertical acceleration of ADXL345 as the teaching signal, $\\theta_{d}$ . The Y matrix of order ($2 \\mathrm{M}+2 \\times 1$) describes the state of the oscillator at any given instant of time. $ \\phi_{i}$ and $\\alpha_{i} $ are the phase and amplitude of the $i^{t h}$ oscillator, respectively. $ \\omega$ is the fundamental angular frequency of the oscillator $ \\beta $ sets the offset of the learned signal. $ \\dot{\\theta} $: estimated rate of change of learning signal, which plays a significant role in the classification of gait patterns.      gait event detection (GED): detect the heel strike (HS) and toe-offs (TO) of each foot.\n1️⃣ calibration(store maximum \u0026amp; minimum);2️⃣ max-min normalization;3️⃣ the previous normalized value of the heel FSR less than a specified upper limit (UL) and the current normalized value is greater than UL $\\Rightarrow$ a heel strike (normalized value of the toe FSR greater than a specified lower limit (LL) and the current normalized value is less than LL $\\Rightarrow$ a toe off)\nA good estimate for gait event detection is obtained when the UL and LL is taken to be 80% and 20%.\nWith the knowledge of HS, TO and $\\phi_{1}$ of the first oscillator, we calculate the phase, $\\phi_{G C}$, of the gait cycle of each foot **in percentage**. When $ \\phi_{G C} $ is plotted with other temporal data of the gait cycle, it gives us the information about the subject\u0026rsquo;s state at each gait phase. The **stance time** of the gait cycle is calculated as the time duration from the HS of one foot to the TO of the same foot whereas the **swing time** is the time between the TO of one foot to the HS of the same foot.\n  gait pattern classification: without machine learning techniques: rule-based\n$a c c_{c a l i b}$和 $diff_{\\text {calib }}$通过1分钟的校准得到\n  Results There is an offset between the heel strikes detected by the IDGR and VICON system which is carried forward throughout the plot, see fig. 4. This offset occurs because the gait events detected in IDGR and the motion capture system is due to the kinetics at the FSR and kinematics of the heel and toe trajectories with respect to the sacrum, respectively. Therefore, the heel strike detected by the VICON system occurs before those of the IDGR system.\nThoughts/Comments   校准，通过力传感器检测步态event，确定stance time和swing time\n  TODO Several works have classified gait pattern using machine learning methods like the random forest [25], support vector machines (SVM) [26] or using spectral feature analysis like the Gaussian Mixture Model [27].\n[25] Casale, P., Pujol, O., \u0026amp; Radeva, P. (2011, June). Human activity recognition from accelerometer data using a wearable device. In Iberian Conference on Pattern Recognition and Image Analysis (pp. 289-296). Springer, Berlin, Heidelberg. [26] Prasertsung, P., \u0026amp; Horanont, T. (2016, December). A classification of accelerometer data to differentiate pedestrian state. In 2016 International Computer Science and Engineering Conference (ICSEC) (pp. 1-5). IEEE. [27] Ibrahim, R. K., Ambikairajah, E., Celler, B., Lovell, N. H., \u0026amp; Kilmartin, L. (2008). Gait patterns classification using spectral features.\n  ","date":"2021-07-06T22:52:44+08:00","permalink":"https://K7288.github.io/posts/intention-detection-and-gait-recognition_idgr_system-for-gait-assessment-a-pilot-study/","title":"Intention Detection and Gait Recognition (IDGR) System for Gait Assessment: A Pilot Study"},{"content":"A lower limb exoskeleton based on recognition of lower limb walking intention\nintention定义: step initiation $\\Leftarrow$ intersection event, continuous walking (normal step velocity $\\Leftarrow$ push-off impulse time), acceleration, deceleration, and step termination\nIntroduction   Key technologies in lower limb exoskeletons are actuator, mechanical design, control, sensor, recognition of the driver’s intention, and human–robot interface.\n  three representative lower limb exoskeletons: Berkeley Lower Extremity Exoskeleton (BLEEX), Hybrid Assistive Leg (HAL), and ReWalk.\n BLEEX  intention定义: step initiation, step velocity, and step termination sensors: more than 40; including encoders, linear accelerometers, force sensors, and an inclinometer actuators: hydraulic actuators intention recognition the driver by using foot switch sensors, encoders, and force sensors to monitor toe-off movement, joint movement, or force variability   HAL  sensors: potentiometers, floor reaction force sensors, accelerometers, a gyroscope, and electromyography (EMG) sensors actuators: DC motors with a harmonic drive directly placed on the hip and knee joints intention recognition: faster than BLEEX, using bio-signals from EMG sensors   ReWalk  intention recognition: with forearm crutches, installing buttons, and torso angles; slower than recognition of walking intention in real time using sensors      specifications   Sensors: insole-type FSRs(force sensing resistors) and three axis F/T sensors\n  actuators: four DC motors (two at each hip and each knee)\n  system\n  Control Flowchart of control strategy\n step initiation: using the insole-type FSRs with two particular GRF events before visible movement occurs, such as heel off, toe off, or knee flexion after step initiation: reference torque(reference torque for each hip and each knee were calculated from gait pattern analysis using the inverse dynamics model.) $\\rightarrow$ motion controller push-off impulse time $\\Leftarrow$ three axis F/T sensors.  We found that push-off impulse time depends on step velocity, using gait analysis based on force plates. shorter at faster step velocity, longer at slower step velocity, and rapidly minimized at step termination. measured from heel strike time to push-off time by the trailing leg.    Intention Recognition Moore Automation for Robot Behavior(MARB) (Konig et al. 2009).\nThoughts/Comments   TODO gait analysis $\\Rightarrow$ push-off impulse time depends on step velocity\n 这个结果还是通过基于force plates的gait analysis得来的，可能有借鉴意义  最开始看的那篇生物统计的也用到了impulse但是现在不太记得具体内容了XD    TODO 这个里面因为速度和push-off impulse time统计相关所以用push-off impulse time估计速度，用的方式是最直观的将速度划分成区间\n The mean push-off impulse time of normal step velocity from three axis F/T sensors was 0.45 s (SD 0.05), of faster step velocity was 0.225 s (SD 0.05), and of slower step velocity was 0.75 s (SD 0.01). The mean push-off impulse time of normal step velocity from force plates was 0.35 s (SD 0.05), of faster step velocity was 0.15 s (SD 0.05), and of slower step velocity was 0.67 s (SD 0.01). The results clearly indicate that UTRCEXO recognized the walking intentions of drivers for acceleration, deceleration, and step termination with different push-off impulse times of drivers at three different velocities and step termination.\n   为什么佩戴者wearer被描述成pilot driver❓ 都这么用吗\n  TODO EMG数据处理：高通滤波(二阶巴特沃思，20hz截止频率)，整流，然后低通滤波(二阶巴特沃思，3hz截止频率)。然后采用方差分析(ANOVA)比较安装UTRCEXO与未安装UTRCEXO的肌肉活动，采用SPSS 19.0软件对肌肉活动进行归一化处理，显著性水平为0.05。\n Electrodes were placed on the anatomical locations of the rectus femoris muscle, gastrocnemius muscle, and abdominal muscle, based on guidelines from previous research (Gallagher et al. 2011). The EMG sensor had a 1 KHz sampling rate and 8–500 Hz band- width, and was low-pass filtered at 500 Hz by the EMG recording system. The EMG signals were collected and used to record muscle activity during stance phase and swing phase. The EMG signal was high-pass filtered (second-order Butterworth, 20 Hz cut-off frequency), rectified, and then low-pass filtered (second-order Butterworth, 3 Hz cut-off frequency). Then ANOVA was conducted to compare the muscle activity of drivers equipped and not equipped with UTRCEXO, normalizing muscle activity using SPSS version 19.0 software based on a significance level of0.05. The ANOVA results are shown in Table 6.\n   他们用的这个MARB讲得也太不清楚了，没太看懂\n  ","date":"2021-07-06T16:52:44+08:00","permalink":"https://K7288.github.io/posts/a-lower-limb-exoskeleton-based-on-recognition-of-lower-limb-walking-intention/","title":"A lower limb exoskeleton based on recognition of lower limb walking intention"},{"content":"Intention Recgonition for Exoskeleton\nintention定义: walk/stand\nassistance exoskeleton system   支持4种state: L swing, R swing, Double stance(L), Double stance(R)\n  control\n  Methods online SVM; features: ZMP(Zero Moment Point), IMU\n  ZMP\n  concept: The distributed floor reaction force can be replaced by a single force R acts on ZMP.\n  ZMP can be obtained from ground reaction force (GRF) measurement or inverse dynamics of system.\n  calculation\n$r=[\\delta\\ \\varepsilon\\ 0]$ is a vector on the ground and $ \\rho(\\delta, \\varepsilon) $ is the vertical force acted on unit area at point $ r$. So the sum of vertical force is like $f_{z}=\\int_{s} \\rho(\\delta, \\varepsilon) d S$\ntorque at $p=\\left[p_{x}\\ p_{y}\\ 0\\right]$ is $\\tau_{n}(p) $.\n$\\begin{aligned} \\tau_{nx} \u0026amp;=\\int_{S}(\\delta-p_{x}) \\rho(\\delta, \\varepsilon) d S \\\\ \\tau_{ny} \u0026amp;=\\int_{S}(\\varepsilon-p_{y}) \\rho(\\delta, \\varepsilon) d S \\\\ \\tau_{nz} \u0026amp;=0 \\end{aligned}$\nAt ZMP $\\tau_{n x}=0, \\tau_{n y}=0$ , we can get\n$\\begin{aligned} p_{x} \u0026amp;=\\frac{\\int_{S} \\delta \\rho(\\delta, \\varepsilon)}{\\int_{S} \\rho(\\delta, \\varepsilon)}\\\\p_{y} \u0026amp;=\\frac{\\int_{S} \\varepsilon \\rho(\\delta, \\varepsilon)}{\\int_{S}\\rho(\\delta, \\varepsilon)}\\end{aligned}$\n  As $\\rho(\\delta, \\varepsilon) $ is the distribution of reaction force on foot, ZMP p is also the center of pressure(COP).\n       ZMP for one foot ZMP of system     $P_{l x} =\\frac{\\sum_{i=1}^{7} p_{i}^{x} f_{i}}{\\sum_{i=1}^{7} f_{i}}$\n$ P_{l y} =\\frac{\\sum_{i=1}^{7} p_{i}^{y} f_{i}}{\\sum_{i=1}^{7} f_{i}}$\n$F_{l} =\\sum_{i=1}^{7} f_{i}$ $Z M P_{x} =\\frac{P_{l x} F_{l}+P_{r x} F_{r}}{F_{l}+F_{R}}$$Z M P_{y} =\\frac{P_{l y} F_{l}+P_{r y} F_{r}}{F_{l}+F_{R}}$      SVM\npolynomial kernel; Gaussian kernel\n  Thoughts/Comments  TODO ZMP之后应该用得上，这个推导可以看一眼  ","date":"2021-07-06T13:52:44+08:00","permalink":"https://K7288.github.io/posts/intention-recognition-for-exoskeleton/","title":"Intention Recgonition for Exoskeleton"},{"content":"这是一段文字，我想跳转到这里。\n⏬\n⏬\n⏬\n我实现了跳转。\n\u0026lt;a id=\u0026#34;series\u0026#34;\u0026gt;\u0026lt;/a\u0026gt;这是一段文字，我想跳转到这里。 ⏬ ⏬ ⏬ \u0026lt;a class=\u0026#34;link\u0026#34; href=\u0026#34;#series\u0026#34;\u0026gt;我实现了跳转。\u0026lt;/a\u0026gt; ","date":"2021-07-05T16:52:26+08:00","permalink":"https://K7288.github.io/posts/%E9%A1%B5%E5%86%85%E8%B7%B3%E8%BD%AC/","title":"页内跳转"},{"content":"A Classification Method for User-Independent Intent Recognition for Transfemoral Amputees Using Powered Lower Limb Prostheses\nintention定义—locomotion modes: level walking, ramp ascent, ramp descent, stair ascent, and stair descent\nResearch question to develop a user-independent intent recognition system capable of recognizing level-ground walking, slopes, and stairs and to compare this system with a user-dependent intent recognition system.\nIntroduction  Prior studies in which pattern recognition algorithms: current methods to initiate transitions between modes, such as visual, audio, or compensatory movement commands, are unintuitive and impose a cognitive burden. An inherent disadvantage of pattern recognition-based intent recognition systems is that a considerable amount of training data must be collected. previous able-bodied gait studies with accelerometer data: by pooling data from a large subject group(e.g. n = 52), high accuracies (~96% ) of gait mode identification for a novel subject can be obtained for level-ground walking, slopes, and stairs. In addition, to obtain these high accuracies for novel subjects, group gait features were normalized to the novel subject’s level-ground walking data.  Methods   Experimental testing factors\n  training and testing: A group of eight transfemoral amputees walked over different terrains using a powered knee and ankle prosthesis. We created a pooled classifier using data from all subjects except one: data from this single subject was withheld from the pool and used to test how well the pooled classifier generalized to that subject in an offline analysis.\n  the partially-dependent classification system: including data from some of the novel subject’s steady-state level-ground walking in the training pool, to determine whether generalization to that subject improved.\n  mode-specific: having a separate classifier active for each locomotion mode. The previous locomotion mode determines the classifier model used for predicting the next stop. Each “mode specific” classifier was trained using the steady-state locomotion mode, and only the relevant transitions leaving the current locomotion mode. This enabled each transition to be statistically classified as a separate class, and to only be considered at the appropriate times.\n  DBN: dynamic Bayesian network\n  LDA: linear discriminant analysis (LDA)\n     Experimental Protocol Signal Processing  Sensors: potentiometers and encoders at the knee and ankle, an axial load cell, and a six-axis IMU on the shank; Sensor signals were generated for knee and ankle positions, velocity and torque, axial force, and shank three-directional accelerations and rotational velocities. normalization; 数据迁移到另一侧截肢的被试 划窗 segmented into analysis windows of 300ms at eight different points for each stride 特征提取 From each analysis window, six features were extracted: the signal mean and standard deviation, the minimum and maximum signal values over the window, and the starting and ending signal values   Signal Classification Strategies  Baseline Configuration: LDA Time History Configuration: DBN to integrate information over the gait cycle to include time history (TH) information. Mode-Specific Configuration Mode Specific + Time History Configuration   Classification Procedure Performance Evaluation  intent recognition error rate, averaged across all steps for each subject, as our primary performance metric. statistical analyses  two-way ANOVAs transitional and steady-state errors with subject as a random factor. Classification condition (user-independent, partially dependent, and user-dependent) and classifier configuration were included as fixed factors. a post hoc Bonferronni test on significant factors to determine specific differences ($\\alpha$=0.05).      Results For both user-dependent and user-independent classification, mode-specific classification reduced error (p \u0026lt; 0.05) on transitional steps by 50 without affecting steady-state classification. Incorporating sensor time history and level-ground walking data from the novel subject into the training data resulted in decreasing errors (p \u0026lt; 0.05) on steady-state classification by over 60% without affecting transitional error.\nThoughts/Comments  为什么partially-dependent 可以判断generalization to that subject是否improve  ","date":"2021-07-05T00:00:00Z","permalink":"https://K7288.github.io/posts/a-classification-method-for-user-independent-intent-recognition-for-transfemoral-amputees-using-powered-lower-limb-prostheses/","title":"A Classification Method for User-Independent Intent Recognition for Transfemoral Amputees Using Powered Lower Limb Prostheses"},{"content":"Multi-sensor based human motion intention recognition algorithm for walking-aid robot\nintention定义：velocity; 这里表征为一个自定概念IM\nResearch question A multi-sensor(force sensors and LRF; for both lower and upper limbs) based human motion intention recognition algorithm for walking-aid robot.\nIntroduction  assistive rehabilitation robots: PAMM, Walking Helper, HAL, Omni RT Walker-II (ORTW-II) 简略说了一些human motion estimation methods  Methods  Sensors: push-pull force sensors and LRF(Laser Range Finder)    LRF: Range Segmentation, Identification of Circle, Leg detection, Intention detection\n  using the center position of line segment which consists of two legs position to estimate human motion intention:\n{h} and {r} are local coordinate systems, which are fixed on the human and robot respectively.\n   Define intentional motion (IM) to describe the human walking intention during using the walking-aid robot\n$S_{I M}(n)= \\{\\dot{\\theta}_{I M}(n), \\rho_{I M}(n), v_{I M}(n)\\}$（角速度、线速度）\n  Multi-sensor fusion: Kalman filter\n$^h \\mathbf{V}_{H} $ $^h \\mathbf{V}_{L}$: human intent motion velocities estimated by force sensors and laser ranger finder respectively; input of Kalman filter\n$\\mathbf{V}_{R}=[\\dot{x}_{R}\\ \\dot{y}_{R} ]^{T} $: output of Kalman filter; filtered human motion intention\n  Online Estimation of the IM: different dimension of conventional Kalman filter\n  ","date":"2021-07-04T00:00:00Z","permalink":"https://K7288.github.io/posts/multi-sensor-based-human-motion-intention-recognition-algorithm-for-walking-aid-robot/","title":"Multi-sensor based human motion intention recognition algorithm for walking-aid robot"},{"content":"   Terms Definition     inertia matrix    damping matrix    stiffness matrix    centripetal and Coriolis matrix    Cartesian coordinate    mass-damper-spring model    impedance control    admittance control 导纳控制    push-off impulse time    transition function    adaptive frequency oscillators    one-way ANOVA    two-way ANOVA    a neural interface    linear discriminant analysis    drift(signal/integral/zero/integral/temperature drift)    a rigid body 刚体    time-varying, adaptive compensation term, manifold, coarse/fine-grained level granularity, an inertial frame, oscillator, denominator,\nKinematic Kinetic\n   Difference Between Kinetics and Kinematics      Kinetics Kinematics   Studies the cause for the motions of the object Studies the position, acceleration, speed of an object   The mass of the object is taken into consideration The mass of the object is not taken into consideration   Its application lies in the design of automobiles It is applied to study the movement of celestial bodies   Force is considered Force is not considered   It does not involve any mathematical expressions It involves mathematical expressions    nominal torque: Nominal (rated) torque is the torque at which the motor can run continuously without overheating.\npower density\n","date":"2021-07-01T00:00:00Z","permalink":"https://K7288.github.io/posts/terms/","title":"Terms"},{"content":"prior studies/research\nExperimental Protocol\nRepresentative diagram\nthe integrated design\ncognitive effort\nmethodology\nprototype\nSensory Information\none representative subject\nenergy per unit distance and weight\nacross-subject means\n Bars denote across-subject means; error bars denote standard deviation across subjects (N= 10).\n 个体差异 within-trial variations; inter-subject differences\n拟合 For goodness of fit, the top four correlates were xxx,xxx\n统计学分析 Participants also expended varying amounts of energy as a function of terrain (Fig 4, top). Net metabolic rate E_ met varied with terrain type for groupwise (repeated measures ANOVA, P = 7.1e-11) and for most pair-wise comparisons (post hoc paired t-tests, P \u0026lt; 0.05), with the greatest difference (27%) found between Woodchips and Sidewalk. The only non-significant comparisons were Dirt vs. Sidewalk, Gravel vs. Dirt, and Grass vs. Gravel (P \u0026lt; 0.05).\n","date":"2021-07-01T00:00:00Z","permalink":"https://K7288.github.io/posts/%E8%A1%8C%E6%96%87%E5%B8%B8%E8%A7%81%E8%AF%B4%E6%B3%95/","title":"行文常见说法"},{"content":"A review of human activity recognition methods\nRecognizing human activities from video sequences or still images\nintention定义: activity; 一个描述性词\nUsually, the terms “activity” and “behavior” are used interchangeably in the literature (Castellano et al., 2007; Song et al., 2012a). In this survey, we differentiate between these two terms in the sense that the term “activity” is used to describe a sequence of actions that correspond to specific body motion. On the other hand, the term “behavior” is used to characterize both activities and events that are associated with gestures, emotional states, facial expressions, and auditory cues of a single person. Some\nDecomposition of human activities (depending on complexity) Summary of previous surveys Proposed hierarchical categorization of human activity recognition methods Unimodal methods represent human activities from data of a single modality, such as images.\n其实是一个纯CV问题，应该用不到，后面一半就没看了\n","date":"2021-07-01T00:52:44+08:00","permalink":"https://K7288.github.io/posts/a-review-of-human-activity-recognition-methods/","title":"A review of human activity recognition methods"},{"content":"Intention Recognition in Physical Human-Robot Interaction Based on Radial Basis Function Neural Network\nintention定义：velocity+trajectory; 只涉及到一个接触点\nResearch question a method based on radial basis function neural network (RBFNN) model is presented to identify the motion intention of collaborator.\nHere, the human intention is defined as the desired velocity in human limb model, of which the estimation is obtained in real time based on interaction force and the contact point movement characteristics (current position and velocity of the robot) by the trained RBFNN model.\nIntroduction   Kazuhiro Kosuge and Norihide Kazamura proposed several algorithms to generate the motion based on the intentional force and experimentally compare them, including method of force augmentation type, method of position control type, and method of velocity control type [8].\n  Dylan P. Losey et al. provided a unifying view of human and robot sharing task execution. They defined three key themes that emerge in shared control scenarios, namely, intent detection, arbitration, and feedback [9].\n  Definition of intent in this paper: In many physical human-robot interaction (pHRI) applications, the intent can be defined in a binary way. It is often ascertained from a brain-machine interface (BMI), as seen in[10]. In other applications, user intent is defined in terms of a velocity or position trajectory, the predicted forward path of the user and/or robot.\n  human intention recognition based on myographic signals 肌电信号\n  pattern recognition\nThe pattern recognition approach is to map patterns of any number of signal features to desired prosthesis poses, grasps, or functions. The way in which control algorithms learn this mapping varies, but common approaches are LDA, SVMs, and artificial neural networks (ANNs) [11, 12, 15].\n  mapping to continuous effort.\ncontrol systems that learn the mapping between EMG signals and user’s desired joint torque, e.g. relationship between the root-mean square (RMS) of measured EMG signals and the estimated user’s desired torques [16].\n    human intention recognition based on interaction force\n dynamics model  Pehlivanet al. use an inverse dynamics model of the robot to estimate the user force applied to the robot from the robot encoder measurements [17]. In [20–22], human intentions are predicted by establishing a dynamic model of collaborator. Passenberg C. uses human models and jerk models to recognize human intention with extended Kalman filtering method [23]. These estimation methods based on the human body model are very difficult because the impedance parameters of the human body are variable and can be hardly obtained [24].   NN method  the motion intention of the human partner is defined as the desired trajectory in the employed human limb model; difficult to obtain in practice.   Hidden Markov Model  very complex and difficult to establish a model of intention recognition. C. Lee uses the Baum-Welch algorithm to train Hidden Markov Model, which predicts the collaborator\u0026rsquo;s intention by learning the meaning of the collaborators’ gestures. However, this method does not really realize the purpose of identifying partner intention [19].   In addition, the measured interaction force can be used to estimate other forms of motion intention. For example, the interaction forces measured in the handles to predict possible walking modes or the walker’s forward path in [25, 26].    Methods assumption: the end effector of robot physically interacts with the human hand and there is only one interaction point.\nsensor: Six-Dimensional Force Sensor\n  in order to obtain training data and test data of neural network, the adaptive impedance control method is used to collect sample data.\n  basis neural network model is established after mapping sample data.\n  data matching\n  K-means method used to define the number of the hidden layer nodes. Weighted mean value (Wmv) parameter (as follows) of cluster radius to determine K value.\n      the intention of the collaborator is identified through online prediction.\n  In order to verify the validity of the RBFNN method in this paper, the robot’s contact point speed and interaction force are analyzed by comparing with the corresponding experimental parameters values from the adaptive impedance control algorithm.   Thoughts/Comments   K-means是怎么用在hidden layer nodes数量的确定上的？？(p5)\n 先有鸡还是现有蛋    有时间看一下\n 这个自适应方法是怎么得出的   质量-弹簧-阻尼器系统等（Dr. F毕业论文那里好像有张图）    ","date":"2021-06-29T20:52:44+08:00","permalink":"https://K7288.github.io/posts/intention-recognition-in-physical-human-robot-interaction-based-on-radial-basis-function-neural-network/","title":"Intention Recognition in Physical Human-Robot Interaction Based on Radial Basis Function Neural Network"},{"content":"The Gaits of Bipedal and Quadrupedal Animals Alexander R. The gaits of bipedal and quadrupedal animals. The International Journal of Robotics Research. 1984;\nmammals of different sizes tend to move in dynamically similar fashion whenever their Froude numbers $u^2 /gh$ are equal: here u is speed, g is the acceleration of free fall, and h is the height of the hip joint from the ground.\nResearch Problem description of the gaits of two- and four-legged animals and some of the important optimization criteria(e.g. cost, reliability, and maneuverability).\nHypothesis dynamic similarity is possible only if the motions have equal Froude numbers $u^2 /gh$ (Duncan1953).\nThe dynamic similarity hypothesis\nResult 四足哺乳动物之间、两足与四足哺乳动物之间、鸟类和两足哺乳动物之间 相似的运动状态和相似的Froude number对应\nHumans, geometric similarity and the Froude number: is ‘‘reasonably close’’ really close enough? William Froude developed the Froude number in the context of his simulation of ships with the goal of creating similar wave patterns (Vaughan and O\u0026rsquo;Malley, 2005) with drag as the feature of importance (Langhaar, 1951), but his concept has been extended to other mechanical phenomena that are driven by gravity and inertia (Duncan, 1953)1.\nConclusion （针对不同物种）size does not affect mass-specific mechanical cost of transport (Alexander and Jayes, 1983). The known shape differences among modern humans are, however, sufficiently large to account for much of the observed variation in metabolic energy expenditure and we expect this to be the case for any group that is of similar size but different shape. Unfortunately, we currently do not have a simple method to control or adjust for size–shape differences in individuals that are not geometrically similar. Musculoskeletal modeling is the only method that accounts for both size and shape. Those shape differences that are “reasonably close” at the mouse-to-elephant level may become “grossly different” for within-species energetic comparisons.目前尚没有一种简单的方法来控制或调整几何上不相似的个体的大小-形状差异。\nThe energetics of human walking: Is Froude number (Fr) useful for meta- bolic comparisons? Kramer PA, Sarton-Miller I. The energetics of human walking: Is Froude number (Fr) useful for meta- bolic comparisons? Gait \u0026amp; Posture. 2008; 27(2):209–215. https://doi.org/10.1016/j.gaitpost.2007.03.009 PMID: 17459708\n回归分析，速度、速度平方、Fr或LiMb的预测能力没有显著差异，所以Fr和LiMb都不能补偿腿长的影响。腿的长度确实影响行走的人的能量消耗\n  Duncan W. J. (1953). Physical Similarity And Dimensional Analysis: An Elementary Treatise London: Edward Arnold and Company.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2021-05-22T00:00:00Z","permalink":"https://K7288.github.io/posts/froude-numbers/","title":"Froude Numbers"},{"content":"Details 采样频率：$50\\text{Hz}$\n测力点尺寸：$5.1\\times5.1(\\text{mm})$\n翻译问题：\n 力度 $\\Rightarrow$ 力 压力 $\\Rightarrow$ 压强  测力片无所谓正反\n流程 裁剪（只要不剪断横向线路即可）\n部署（信号采集/通信装置用魔力贴固定在小腿，插上测力片）\n校准（需要被试单脚站立各5s）\n在fsx窗口右键“单位”选择单位和精度\n录制\n数据导出 1.完整数据：选中相应fsx窗口在“文件”中导出\n格式：每一帧的全部测力点所测压强（包括灰色边界\u0026quot;B\u0026quot;和剪去的测力点）\n单位：自选，会在导出的csv文件头列出\n写了计算每一帧总压力的代码，也可用采样区选中整个区域得到总压力\n2.取样区\n所在窗格右键“对象”导出 或者直接在生成的图线上ctrl+c粘贴到excel\n格式：不保留每个采样点信息，只有整体数据（这一个区域的总压力/压强等）\n在右键\u0026quot;属性\u0026quot;中可以更改采样区显示的信息\n","date":"2021-05-18T14:21:37+08:00","permalink":"https://K7288.github.io/posts/f-scan/","title":"F-Scan"},{"content":"  原生html支持\nhugo采用goldmark作为默认渲染器，需要在config中开启\n  markup: goldmark: renderer: unsafe: true html 图片需要绝对路径，形式如下：  \u0026lt;img src=\u0026#34;/assets/image-20210416142714352.png\u0026#34; alt=\u0026#34;image-20210416142714352\u0026#34; style=\u0026#34;zoom:33%;\u0026#34; /\u0026gt; 而不能是src=\u0026quot;assets\\ 所以也不太支持网络图片\u0026hellip;\u0026hellip;\n****好像不能出现。  ","date":"2021-05-18T11:23:29+08:00","permalink":"https://K7288.github.io/posts/hugo-html-tips/","title":"Hugo HTML Tips"},{"content":"参考书目 Digital Image Processing by Rafael C. Gonzalez, Richard E. Woods, 3rd Edition\n\r第一章 数字图像的采集方式以及特性 1.1 图像概述 图像是一个二维亮度函数；\n模拟图像：一幅活动、彩色、立体的图像——$I=f(x,y,z,λ,t)$，三维空间+波谱上+时间上连续，想象中的虚拟图像\n数字图像：数字图像是由模拟图象数字化得到的，以像素为基本元素、可以用数字计算机或数字电路存储和处理的图像。\n把一幅图画分割成如图所示的一个个小区域（像素），并将各小区域灰度用整数来表示，形成一幅点阵式的数字图像。它包括采样和量化两个过程。像素的位置和灰度就是像素的属性。\n图像数字化 图像数字化:将模拟图像经过离散化之后，得到用数字表示的图像。\n一幅模拟图像的坐标及幅度都是连续的，为了把它转换为数字形式，必须对坐标和幅度都作离散化操作。数字化坐标值称为采样，它确定了图像的空间分辨率；数字化幅度值称为量化，它确定了图像的幅度分辨率。\n1.2.1图像数字化——采样 （1）图像的采样：将在空间上连续的图像转换成离散的采样点（即像素）集的操作\nz=f(x,y), x∈[0,a], y∈[0,b], z∈[0,c] $\\rightarrow$ z=f(x,y), x=0,1,…,N-1,y=0,1,…,M-1, z=0,1,…,L-1\n采样间隔太小，则增大数据量；太大，则会发生信息的混叠，导致细节无法辨认。\n一维连续信号的采样 在工程中的许多信号，实际上都是连续信号，或者称为连续时间函数，记为x(t)，t的取值是从$-\\infty$ 连续变化到$+ \\infty $ 。但是，用计算机处理这些信号，必须首先对连续信号进行采样，即按一定的时间间隔Ts进行取值： $$ 𝑥_𝑑 (𝑛)=𝑥(𝑛𝑇_𝑠) , 𝑛=…−1,0,1… $$ $T_s$为采样间隔，$ x_d (n)$为离散信号或时间序列\n连续信号x(t)和频谱X(f)的具体关系为： $$ X(f)=\\int _{−\\infty}^\\infty x(t)e^{−j2\\pi ft} dt\\\\\\\\x(t)=\\int _{−\\infty}^\\infty X(f)e^{j2\\pi ft} df $$\n一维空间采样的Nyquist条件：$X(f)$有截频$ f_c$，即当$|f|≥ f_c$时, $X(f)=0$；$T_s≤\\frac{1}{2f_c}$ 或$2f_c≤f_s$\n如果信号不是有限带宽信号，采样频率或采样间隔不满足Nyquist条件，就会产生混叠现象。\n在满足Nyquist条件下，从离散信号$x(nT_s)$可恢复连续信号$x(t)$ $$ x(t)=\\Sigma_{n=−\\infty}^{+\\infty}x(nT_s)sinc(\\frac{\\pi}{T_s} (t-nT_s)) $$\n$sinc(x)=\\frac{sinx}{x}$二维连续图像信号的采样 设图像f(x,y)是一连续二维信号，其空间频谱$F(f_x,f_y )$在x方向具有截止频率$f_xc$ ，在y方向具有截止频率$f_yc$ 。所谓采样是对f(x,y)乘以空间采样函数： $$ s(x,y)=\\Sigma_{i=−\\infty }^{+\\infty }∑_{j=−\\infty }^{+\\infty }\\delta(x−i\\Delta x,y−i\\Delta y) $$ 式中Δx和Δy为x、y两个方向的采样间隔，上式为脉冲函数δ(x,y)沿x、y两个方向的展开。\n//脉冲函数：经过采样以后所得的信号为： $$ f_s (x,y)=f(x,y)∙ s(x,y)\\\\=∑_{i=−\\infty }^{+\\infty }∑_{j=−\\infty }^{+\\infty }f(i\\Delta x,j\\Delta y)\\sigma(x−i\\Delta x,y−j\\Delta y) $$\n二维Nyquist条件 为使采样以后的信号$f_s (x,y)$能完全恢复原来连续信号f(x,y) ，采样间隔Δx和Δy就必须满足$∆x≤1/(2f_{xc} ) ,∆y≤1/(2f_{yc})$，即在x和y方向的采样频率必须大于图像在x和y方向最高频率的两倍\n二维信号重建\n亚采样 （1）降低采样频率\n（2）将按采样定理获得的图像再抽样，即每隔K个像素，保留1个像素，其余的丢掉，重构时用内插法恢复丢失的数据。256×256每隔2个像素，保留1个像素-\u0026gt;128×128\n1.2.2图像数字化——量化 L在3bit以下的量化，会出现伪轮廓现象（画面平场区域出现明显的类似于等高线的不连续过渡带，从而对于画面感观质量造成影响的现象）。\n均匀量化：简单地在灰度范围内等间隔量化。\n非均匀量化：对像素出现频度少的部分量化间隔取大，而对频度大的量化间隔取小。\n1.3 数字图像基本要素 1.3.1基本要素 像素是数字图像最小的单位\n图像尺寸——一幅数字图像矩阵的大小\n像素坐标系——对图像分布进行二维空间采样\n像数值—对单个像素灰度值进行数字化采样（k bits/pixel）\n1.3.2图像质量 灰度：表示图像像素明暗程度的数值\n灰度级——表明图象中不同灰度的最大数量\n对比度=最大灰度值/最小灰度值 ——反映一幅图像中灰度方差的大小\n1.3.3图像颜色：红、绿、蓝三基色 1.3.4图像的描述：灰度/黑白/彩色图像、链表、拓扑结构、距离 灰度图像\n 图像中每个像素的信息由一个量化的灰度级来描述，没有彩色信息。 当一幅图像有2k灰度级时，通常称该图像是k比特图像。 灰度图像像素的灰度级通常为8 Bits，即0~255。“0”表示纯黑色，“255”表示纯白色。  黑白图像（二值图像）\n 像素值为0、1。二值图像通常用于文字、线条图的扫描识别(OCR)和掩模图像的存储。  彩色图像\n 三维矩阵，可用M×N×3表示，M、N分别表示图像的行、列数，三个M×N的二维矩阵分别表示各个像素的R、G、B三个颜色分量。每个颜色分量的数据类型一般为8位无符号整型。  链表—描述目标物体的边界\n拓扑结构——描述一组图形及其相互关系\n距离—描述图像中像素之间的接近程度\n欧氏、曼哈顿（城区）（坐标差绝对值相加）、棋盘（坐标差绝对值最大的那个）\n1.3.5图像的矩阵特性：距离、邻域、临接、连通 邻域—描述与像素相邻的其他像素\n邻接\n像素间邻接的两个必要条件：①一个像素在另一个像素的邻域中；②两个像素的灰度值满足特定的相似准则。\n令V表示关于邻接的灰度值集合(相似准则)。\n①4-邻接 像素p和q的灰度值都属于V，且q在p的4-邻域集合**$N_4(p)$**中，则称像素*p*和*q*是4-邻接的。\n②8-邻接 像素p和q的灰度值都属于V，且q在集合$N_8(p)$中，则称像素p和q是8-邻接的。\n③m-邻接 像素p和q的灰度值都属于V，若满足下列条件之一：\n•q在集合$N_4(p)$中；\n•q在集合$N_D(p)$中（对角邻域）,且集合$N_4(p)\\cap N_4(q)$中的像素的灰度值不属于V。\n则称像素p和q是m-邻接的。\n像素间的通路\n从坐标为$(x_0,y_0 )$的像素p到坐标为$(x_n,y_n )$的像素q的一条通路由像素序列组成对应坐标序列为:\n$ (x_0,y_0 ) ,(x_1,y_1 ), ⋯,(x_i,y_i ) ⋯,(x_n,y_n ) $，这里$(x_i,y_i )$与$(x_{i-1},y_{i-1} )$相邻接，n为通路长度。\n若$(x_0,y_0 )=(x_n,y_n )$则该通路是闭合通路。根据不同的邻接类型，可以得到不同的通路，如4-通路，8-通路和m-通路。\n连通\n若像素p和q之间存在着一条通路，则称p和q是连通的，即像素间的连通。反之，若两个像素间是连通的，那么至少存在一条通路，也可能存在多条通路。根据通路的类型，像素间的连通可分为4-连通，8-连通和m-连通。\n1.3.6图像文件格式 每一种图像文件均有一个文件头，在文件头之后是图像数据。文件头的内容一般包括文件类型、版本号、文件大小等内容。各种图像文件的制作还涉及到图像文件的压缩方式和存储效率等。常用的图像文件存储格式主要有：BMP格式、JPEG格式、GIF格式、TIFF格式等。\nBMP(bitmap)图像文件也称位图文件，其文件结构如下：\na) BITMAPFILEHEADER：BMP文件头或表头；b) BITMAPINFOHEADER：BMP文件信息头；\nc) RGBQUAD：BMP文件调色板或位图信息；d) BITMAP DATA：BMP文件数据或位图阵列；\n位图文件头长度为固定的54个字节，给出了文件的类型、大小和位图阵列的起始位置等信息。位图文件信息头基本上包含图像的所有信息，包括宽度、高度、每像素的位数、压缩方法、目标设备的水平和垂直分辨率等信息。位图文件调色板是BMP所包含的颜色表，接在BITMAPINFOHEADER结构之后含有位图中每种颜色的RGB信息。BMP文件数据是以连续行的形式存储的。\nJPEG (Joint Photographic Experts Group)的文件后辍名为“.jpg”或“.jpeg”。有损压缩格式，支持24位颜色，并保留照片和其他连续色调图像中存在的亮度和色相的显著和细微的变化。\nGIF (Graphics Interchange Format)的文件后缀名为“.gif”。GIF格式的特点是其在一个GIF文件中可以存多幅彩色图像，如果把存于一个文件中的多幅图像数据逐幅读出并显示到屏幕上，就可构成一种最简单的动画。\nTIFF (Tag Image File Format)的文件后缀名为“.tif”或“.tiff”。TIFF文件一般可分为文件头、参数指针表、参数数据表的偏移。参数指针表由一系列参数块构成，它们描写图像的压缩种类、长度、彩色数、扫描分辨率等许多参数。参数数据表中存放的是实际参数数据。最后一部分是图像数据。\n1.4 数字图像处理意义及内容 数字图像处理\n（1）利用计算机对数字图像进行各种目的的处理\n（2）将一幅图像变为另一幅经过加工的图像，图像到图像的过程\n（3）将一幅图像转化为一种非图像的表示，分析、识别与理解的过程\n目的\n1.提高图像视觉质量，提供人眼主观满意或较满意的效果；2.提取目标某些特征，以便于后续分析或识别；3.图像压缩，便于存储和传输庞大的图像和视频信息。4.信息的可视化，以便于人们观察、分析、研究、理解大规模数据和许多复杂现象5.信息安全需要，如数字图像水印和图像信息隐藏\n•数字图像处理是利用计算机的计算，实现与光学系统模拟处理相同效果的过程。\n特点\n(1)再现性好。数字化，存储，传输或复制不会退化图像质量.(2)处理精度高。灰度等级量化为16位(3)适用面宽。多种信息源：可见光，波谱（X射线，R射线，超声或红外）客观实体尺度：电子显微、航空、遥感、天文图像(4)灵活性高。线性处理，非线性处理。凡是可以用数学公式或逻辑关系来表示的一切运算均可用数字图像处理实现。\n主要内容\n（1）几何处理：坐标变换、图像放大、缩小、旋转、移动；多个图像的配准、全景畸变校正、扭曲校正；计算周长、面积、体积\n（2）算数处理：对图像进行加减乘除运算，与、或等逻辑运算；主要针对像素医学图像的减影处理\n（3）图像增强：突出图像中感兴趣的信息，去掉或削弱不感兴趣的信息，使其在特定的应用中更便于解释和识别提高图像质量（去除噪声、提高图像的清晰度）；方法：灰度修正、平滑、几何校正、图像锐化、频域增强、维纳滤波、卡尔曼滤波…\n（4）图像复原：去掉干扰和污染，恢复图像的本来面目；1)图像噪声：随机点、相干噪声(网纹干扰)2)模糊：透镜散光、相对运动3)遥感：大气流、云层遮挡；主要方法：维纳滤波、卡尔曼滤波、逆滤波、同态滤波等\n（5）图像重建：从数据到图像的过程，CT、x-ray、NMR（核磁共振）、超声CT、ECT；•成像方法：代数法、迭代法、傅立叶反投影法、卷积三维重建-用于虚拟现实、科学可视化技术\n（6）图像编码：运用图像信号的统计特性以及视觉的生理学和心理学特性实现高效编码 ；目的：I.减少数据存储空间II.降低数据率、减少传输带宽III.压缩信息、提取特征，以便识别\n（7）图像识别：方法：统计识别（特征）、句法结构（结构基元）、模糊识别(模糊学习、人的思维方法)\n（8）图像理解：利用客观世界的知识，使计算机进行联想、思考、推论，从而理解图像表现的内容（景物理解）\n（9）图像分割：提取出感兴趣的对象，为进一步理解识别做准备；灰度阀值分割、基于纹理的分割、区域生长法\n1.5 数字图像处理系统及应用 1.5.1数字图像特性：图像/显示分辨率/打印机分辨率 像素深度 位面数量 图像分别率：指组成一幅图像的像素密度，即图幅参数。单位：像素*像素\ne.g.数码相机指标：640*480=307200,30万像素\n显示分辨率:指显示屏上能够显示出的像素数目。例如，显示分辨率为640x480表示显示屏分成480行，每行显示640个像素。整个显示屏就含有307200个显像点。\n打印机、扫描仪分辨率：dpi（display pixels/incj）每英寸显示的线数\n像素深度：存储每个像素所用的位数，它也是用来度量图像的分辨率\n位面数量：组成图像的像素矩阵维数。\n1.5.2数字图像处理系统 图像采集系统将模拟图像转换成适合数字计算机处理的数字图像，包括1.数码摄像机：它通过接口电路与计算机连接，在有关软件的控制下将图像数据输入计算机2.数码照相机：与数码摄像机的区别在于没有连续获取图像的能力3.扫描仪：它可以将胶片上的摄影图像或纸质载体上的文字、图形、表格扫描成数字信息直接载入计算机\n计算机执行数字图像处理；•安装有各种图像处理软件，如Ps，Matlab中的图像处理工具箱; 图像处理软件接受来自图像采集系统的数字图像并执行所需的操作，如图像增强、图像复原、图像压缩编码、图像分析等操作，最后输出处理结果\n图像输出设备主要指喷墨打印机、激光打印机、图像监视器、视频拷贝仪等，它们的发展趋势是高速、真彩色\n\r第二章 数字图像预处理方法 主要目的：\n•消除图像中无关的信息，恢复有用的真实信息。\n•增强有关信息的可检测性、最大限度地简化数据，从而改进特征提取、图像分割、匹配和识别的可靠性。\n步骤：1.灰度化 2.去噪声\n2.1 灰度化 图像灰度化的原理就是在RGB模型中，假定三个通道的值相等，然后用统一的灰度值表征该点的色彩信息，灰度值的范围是0到255。\n像素点矩阵中的每一个像素点都满足下面的关系：R=G=B，此时的这个值叫做灰度值。\n2.1.1灰度化主要方法 1）分量法：将彩色图像中的三分量RGB的亮度作为三个灰度图像的灰度值，可根据应用需要选取三种中的一种灰度图像。\n2）最大值法：将彩色图像中的三分量亮度的最大值作为灰度图的灰度值。\n3）平均值法：将彩色图像中的三分量亮度求平均得到一个灰度图。\n4）加权平均法：根据重要性及其它指标，将三个分量以不同的权值进行加权平均。\n由于人眼对绿色的敏感最高，对蓝色敏感最低。Gray=0.11B+0.59G+0.3R；OpenCV开放库所采用的灰度权值 Gray=0.072169B+0.715160G+0.212671R\n2.1.2图像二值化 p二值化通用方法：选择某个阈值T，将原始图像变为二值图像：\n当f(x,y)≥T时， f(x,y)=1\n当f(x,y) ≤T时， f(x,y)=0\n如同其他图像分割算法一样，没有一个现有方法对各种各样的图像都能得到令人满意的结果。\n几种阈值确定办法：\n1.全局二值化 目的：从多值的数字图像中直接提取出目标物体）设定一个全局的阈值T，用T将图像的数据分成两部分：大于T的像素群和小于T的像素群。将大于T的像素群的像素值设定为白色（或者黑色），小于T的像素群的像素值设定为黑色（或者白色）。\na) 取阀值为127（相当于0~255的中数），让灰度值小于等于127的变 为0（黑色），灰度值大于127的变为255（白色），这样做的好处是计算量小速度快，但是缺点也是很明显的，因为这个阀值在不同的图片中均为127，但是不同的图片，他们的颜色分布差别很大，所以用127做阀值，白菜萝卜一刀切，效果肯定是不好的。\nb)计算像素点矩阵中的所有像素点的灰度值的平均值K。然后让每一个像素点与K一 一比较，小于等于K的像素点就为0（黑色）大于K的 像素点为255（白色），这样做比方法1好一些。但是使用平均值作为二值化阈值同样有个致命的缺点，可能导致部分对象像素或者背景像素丢失。二值化结果不能真实反映源图像信息。\nc)使用直方图方法（也叫双峰法）来寻找二值化阀值直方图是图像的重要特质。直方图方法认为图像由前景和背景组成，在灰度直方图上，前景和背景都形成高峰，在双峰之间的最低，谷处就是阀值所在。取到阀值之后再一 一比较就可以了\n直方图：表示数字图像中每一灰度级像素出现的频次（该灰度级的像素数目）。\n$p(k)=n_{k }$或 $p(k)=\\frac{n_{k }}{n}$ $n_{k}$:\u0026ldquo;图像中第k个灰度级的像素总数 \u0026ldquo;，$n$:图像的像素总数\n直方图性质：1.无空间信息；2.直方图与图像一对多关系；3.可叠加性（全图与子图像）\n直方图反映了图像清晰程度。直方图均匀分布时，图像最清晰。判断一幅图像是否清晰，查看是否合理的利用了全部被允许的灰度级 一幅图像应该尽可能利用全部可能的灰度级。\n直方图也反映图像对比度和亮度。\n直方图分为四个基本类型：RGB直方图、通道直方图、明度直方图和颜色直方图。\n通道直方图：R G B通道分别画直方图。RGB直方图就是通道直方图的叠加。\n明度直方图是复合计算单个像素之后绘制的直方图，相对RGB更能反映一张照片的亮度分布趋势。\n•只有当一个像素中的R、G、B值同时为0 的时候，明度直方图的最左端才有凸起，而RGB直方图只要有任意一个像素中的任意一个R、G、B值为0，它的最左端就有凸起。\n颜色直方图，可以理解为加了颜色的RGB直方图。\nd)一种使用近似一维Means方法寻找二值化阈值：\n①初始化一个阈值T，可以自己设置或者根据随机方法生成。\n②根据阈值图将每个像素数据P(n,m)分为对象像素数据G1与背景像素数据G2。(n为行，m为列)\n③G1的平均值是m1, G2的平均值是m2\n④一个新的阈值T^′=(m1+m2)/2\n⑤回到第二步，用新的阈值继续分像素数据为对象与背景像素数据，继续2～4步，\n⑥直到计算出来的新阈值等于上一次阈值。\n2.局部二值化 全局二值化在表现图像细节方面存在很大缺陷。为了弥补这个缺陷，出现了局部二值化方法。\n•局部二值化的方法就是按照一定的规则将整幅图像**划分为N个窗口，对这N个窗口中的每一个窗口再按照一个统一的阈值$T_i$**将该窗口内的像素划分为两部分，进行二值化处理。\n3.局部自适应二值化\n局部二值化值是没有经过合理的运算得来，一般是取该窗口的平局值。这就导致在每一个窗口内仍然出现的是全局二值化的缺陷。为了解决这个问题，就出现了局部自适应二值化方法。\n•局部自适应二值化的阈值是通过对该窗口像素的平均值E，像素之间的差平方P，像素之间的均方根值Q等各种局部特征，设定一个参数方程进行阈值的计算，例如：T=a*E+b*P+c*Q，其中a,b,c是自由参数。这样得出来的二值化图像就更能表现出二值化图像中的细节。\n2.2图像噪声 •图像噪声是指存在于图像数据中的不必要的或多余的干扰信息。 图像中各种妨碍人们对其信息接受的因素即可称为图像噪声 。\n•噪声在图像上常表现为一引起较强视觉效果的孤立像素点或像素块。是图像信息或者像素亮度的随机变化。一般，噪声信号与要研究的对象不相关，它以无用的信息形式出现，扰乱图像的可观测信息。通俗的说就是噪声让图像不清楚\n来源1.图像获取过程中，图像传感器CCD和CMOS采集图像过程中受传感器材料属性、工作环境、电子元器件和电路结构等影响，会引入各种噪声2.图像信号传输过程中，传输介质和记录设备等的不完善，数字图像在其传输记录过程中往往会受到多种噪声的污染。\n影响•对于数字图像信号，噪声表为或大或小的极值，这些极值通过加减作用于图像像素的真实灰度值上，对图像造成亮、暗点干扰，极大降低了图像质量，影响图像复原、分割、特征提取、图像识别等后继工作的进行。\n脉冲噪声模型\n2.2.1分类 基于产生原因：外部噪声，即指系统外部干扰以电磁波或经电源串进系统内部而引起的噪声。如外部电气设备产生的电磁波干扰、天体放电产生的脉冲干扰等。由系统电气设备内部引起的噪声为内部噪声，如内部电路的相互干扰。内部噪声一般又可分为以下四种：(1)由光和电的基本性质所引起的噪声。(2)电器的机械运动产生的噪声。(3)器材材料本身引起的噪声。(4)系统内部设备电路所引起的噪声。\n基于噪声与信号的关系\na)加性噪声g=f+n：加性噪声和图像信号强度是不相关的和\nb)乘性嗓声g=f+fn：乘性嗓声和图像信号是相关的，往往随图像信号的变化而变化，载送每一个象素信息的载体的变化而产生的噪声受信息本身调制。在某些情况下，如信号变化很小，噪声也不大。为了分析处理方便，常常将乘性噪声近似认为是加性噪声，而且总是假定信号和噪声是互相统计独立。\n基于统计后的概率密度函数：比较重要；引入数学模型，就有助于运用数学手段去除噪声。在不同场景下噪声的施加方式都不同，由于在外界的某种条件下，噪声下图像-原图像（没有噪声时）的概率密度函数（统计结果）服从某种分布函数，就把它归类为相应的噪声。\n2.2.1.1基于统计后的概率密度函数的噪声分类及其消除方式 高斯噪声是指它的概率密度函数服从高斯分布（即正态分布）的一类噪声。如果一个噪声的幅度分布服从高斯分布，而它的功率谱密度又是均匀分布的，则称它为高斯白噪声。高斯白噪声的二阶矩不相关，一阶矩为常数，是指先后信号在时间上的相关性。\n其中x表示灰度值，μ表示x的平均值或期望值，σ表示x的标准差。\n•产生原因：a)电路各元器图像传感器在拍摄时市场不够明亮、亮度不够均匀；b)件自身噪声和相互影响；\nc)图像传感器长期工作，温度过高。\n•噪声对原图像的影响是随机的，直方图呈现的分布形式是基于统计的结果。直方图表示了（归一化后）灰度值的概率密度分布，因此可以使用直方图来表示灰度值的概率密度。\n瑞利噪声伽马（爱尔兰）噪声，其中 α称为形状参数（shape parameter），主要决定了分布曲线的形状，而 β称为 rate parameter（或叫 inverse scale parameter， 1/β称为scale parameter），主要决定曲线有多陡。\n脉冲（椒盐）噪声 一种随机出现的白点或者黑点，可能是亮的区域有黑色像素或是在暗的区域有白色像素（或是两者皆有）。成因可能是影像讯号受到突如其来的强烈干扰而产生、类比数位转换器或位元传输错误等。例如失效的感应器导致像素值为最小值，饱和的感应器导致像素值为最大值。\n如果b\u0026gt;a，灰度值b在图像中将显示为一个亮点，相反，a的值将显示为一个暗点。若Pa或Pb为零，则脉冲噪声称为单极脉冲。如果Pa和Pb均不可能为零，尤其是它们近似相等时，脉冲噪声值将类似于随机分布在图像上的胡椒和盐粉微粒。由于这个原因，双极脉冲噪声也称为椒盐噪声。同时，它们有时也称为散粒和尖峰噪声。\n椒盐噪声是惟一一种引起退化的视觉可见的噪声类型。其他的虽然直方图相似但也很难看出区别。\n直方图和概率密度函数有对应关系。\n2.2.2图像过滤噪声 空间域滤波 频率域滤波 形态学运算 空间域滤波是指直接通过原图像中像素点的灰度值进行数据运算去除噪声的方法,常见的空间域滤波方法主要有均值滤波、中值滤波、高斯低通滤波等；\n//线性 非线性 fo(x,y)= T[ fi(x,y) ]，T是线性/非线性算子\n中值滤波器 非线性平滑滤波器，将图像中以某像素点为中心的窗口范围内的所有像素点的灰度值(包括该中心像素点)进行排序,然后将灰度序列的中间值赋给该中心像素点。\n其他线性滤波考量每个像素，中值滤波会忽略那些相对邻域(此处设为n*n窗口)内大部分像素点而言,亮度偏暗或偏亮,且所占区域小于总像素点一半(即n/2)的像素点的影响,从而有效滤除孤立的噪声点。\n中值滤波法对于某些类型的随机噪声，如图像扫描噪声等等，具有良好的去噪效果，特别是在滤除噪声的同时，能够保护信号的边缘，使之不被模糊。这些优良特性是线性滤波方法所不具有的。中值滤波的算法比较简单，也易于用硬件实现。\n超限中值滤波法 相对中值滤波保留图像细节\n•基于个数的中值滤波法：通过设定阈值T限制邻域内像素点与中心像素点灰度差绝对值的范围，从而将含噪图像中的像素点的属性划分为平坦区域、图像边缘、噪点三类。\n均值滤波/邻域平均法 线性滤波算法，它是指在图像上对目标像素给一个模板，该模板包括了其周围的临近像素（以目标象素为中心的周围8个像素，构成一个滤波模板，即去掉目标像素本身），再用模板中的全体像素的平均值来代替原来像素值。\n对噪声图像特别是有大的孤立点的图像非常敏感，即使有极少数量点存在较大差异也会导致平均值的明显波动。不能很好地保护图像细节，在图像去噪的同时也破坏了图像的细节部分，从而使图像变得模糊，模糊程度与邻域半径成正比不能很好地去除噪声点。特别是椒盐噪声。\n超限邻域平均法 如果某个像素的灰度值大于其邻域像素的平均值，且达到了一定水平，则判断该像素为噪声，继而用邻域像素的均值取代这一像素值\n一般的,“超限邻域平均法”比一般邻域平均法的效果要好\n在操作中对窗口的大小及门限的选择要慎重，T太小，噪声消除不干净；T太大，易使图像模糊\n在实际应用中一般选用3×3窗口加权均值滤波器\n高斯滤波 1、定义 线性滤波器，适用于消除高斯噪声，广泛应用于图像处理的减噪过程。\n2、作用原理 和均值滤波器类似，用一个模板（或称卷积、掩模）扫描图像中的每一个像素，用模板确定的邻域内像素的加权平均灰度值去替代模板中心像素点的值。\n3、系数特征 均值滤波器的模板系数都是1；而高斯滤波器的模板系数，则随着距离模板中心的增大而系数减小（高斯分布）。所以，高斯滤波器相比于均值滤波器对图像个模糊程度较小。\n卷积核：高斯核 理论上，高斯分布在所有定义域上都有非负值，这就需要一个无限大的卷积核。实际上，仅需要取均值周围3倍标准差内的值，以外部份直接去掉即可。\n4、真实图像在空间内的像素是缓慢变化的，因此临近点的像素变化不会很明显，所以高斯滤波在保留信号的条件下减少噪声。这种方法在接近边缘处无效，因此高斯滤波会破平边缘。但是，高斯平滑滤波器对于抑制服从正态分布的噪声仍非常有效。\n5、性质 （1）二维高斯函数具有旋转对称性，即滤波器在各个方向上的平滑程度相同一般来说，一幅图像的边缘方向是事先不知道的，因此，在滤波前是无法确定一个方向上比另一方向上需要更多的平滑．旋转对称性意味着高斯平滑滤波器在后续边缘检测中不会偏向任一方向（2）高斯函数是单值函数，高斯滤波器用像素邻域的加权均值来代替该点的像素值，而每一邻域像素点权值是随该点与中心点的距离单调增减的（3）高斯函数的傅立叶变换频谱是单瓣的；既能保留低频分量，又能保留高频分量，因此能比较好地保留图像的低频和高频信息，并在保留图像信息和滤出噪声之间找到一个平衡点。（4）高斯滤波器宽度(决定着平滑程度)是由参数σ表征的。σ越大，高斯滤波器的频带就越宽，平滑程度就越好。通过调节平滑程度参数σ，可在图像特征过分模糊(过平滑)与平滑图像中由于噪声和细纹理所引起的过多的不希望突变量(欠平滑)之间取得折衷（5）由于高斯函数的可分离性，较大尺寸的高斯滤波器可以得以有效地实现．二维高斯函数卷积可以分两步来进行，首先将图像与一维高斯函数进行卷积，然后将卷积结果与方向垂直的相同一维高斯函数卷积．因此，二维高斯滤波的计算量随滤波模板宽度成线性增长而不是成平方增长．\n6、特征\n1)一个高斯函数跟另外一个高斯函数的卷积仍然是一个高斯函数，A*B=C C的标准差的平方是A和B的标准差的平方和，也就是说卷积后的高斯函数更宽，模糊的效果更明显（直观上看，连续做高斯模糊运算，图像会越来越模糊） 2)高斯函数的傅立叶变换仍然是一个高斯函数，如果原来的高斯函数越宽（标准差越大），变换后的高斯函数就越窄（标准差越小），也就是说一个越宽的高斯函数，低通（高阻）滤波的效果越明显，处理后的图像的细节就越不清楚（更模糊）\n\r第三章 图像增强 3.1 图像增强概述 3.1.1 定义 图像增强(Image enhancement)是图像处理的基本内容之一。图像增强是指按特定的需要突出一幅图像中的某些信息，同时，削弱(weaken)或去除(eliminate)某些不需要的信息。这类处理是为了某种应用目的去改善图像质量，处理的结果更适合于人的视觉特性或机器识别系统。增强处理并不能增加原始图像的信息，而只能增强对某种信息的辨识能力，并且这种处理有可能损失一些其它信息。\n3.1.2 应用 第一类是改善图像的视觉效果；第二是突出图像的特征，便于计算机处理\n图像在生成、获取、传输等过程中,往往会发生质量的损伤，造成图像质量的损坏的因素有： 图像传输等过程中,由于信道带宽的限制所造成的图像模糊；图像中的噪声干扰 信号减弱，对比度下降；成象条件的欠缺，获取图像的清晰度偏低\n图像质量退化的原因 对比度问题：对比度局部或全部偏低,影响图像视觉 噪声干扰问题：使图像蒙受干扰和破坏 清晰度下降问题,使图像模糊不清,甚至严重失真\n图像增强并不去估计图像实际退化的过程和实际退化的因素而加以矫正，而只考虑图像退化的一般性质，加以修正，以求得一般的或平均地图像质量的改进。例如，边缘锐化去模糊、平滑去噪声、直方图修正对比度增强等\n3.2 图像增强方法 3.3 灰度变换/点运算 空间域处理 $g(x,y)=T[f(x,y)]$\n当每次处理只基于一点 $s=T(r)$，$s,r$为该点像素值——点运算\n应用场景：曝光不足或过度，或由于成像设备的非线性和图像记录设备动态范围太窄等因素，会产生对比度不足的弊病，使图像中的细节分辨不清可以使用灰度变换方法解决这些问题\n灰度变换定义：将一个灰度区间映射到另一个灰度区间的变换称为灰度变换\n在图像增强方面的作用：使图像动态范围加大，图像对比度扩展，图像清晰，特征明显\n灰度级变换的应用：亮度调整——加亮、减暗图像；对比度拉伸——提高、降低对比度；灰度级切片，主要用于突出某个特定的灰度范围，从而增强某个专门的特征\n3.3.1线性灰度变换 加常数 作用：压缩动态范围，降低对比度\n图像反转（反色） 灰度级范围为$[0,L-1]$的图像：$s=L-1-r$\n乘常数 动态范围压缩/扩展\n一般形式 3.3.2 分段线性灰度变换 对比度拉伸/拓展 将感兴趣的灰度范围线性拓展，相对抑制不感兴趣的灰度区域。\n削波 削波(cliping)可以看做是对比度拓展的一个特例。\n阈值化 阈值化（thresholding）可以看作是削波的一个特例。\n得到二值黑白图像\n灰度级分层/灰度窗口变换/灰度切分 将某一区间的灰度级和其它部分（背景）分开。\n将兴趣区域显示为一个值，其他区域另一个值；或背景不变，兴趣区域灰度变亮/变暗。\n位图切割/比特平面分层 高比特平面包含视觉上重要的大多数数据；低比特平面贡献更精细的灰度细节。\n分层方式：灰度信息由n个比特位存储的图像，根据每个二进制位的取值(0/1)得到n个层；其实就是将比特深度将图像矩阵“切开”\n3.3.3 非线性灰度变换 指数函数变换 对数函数变换 通用形式：$s=clog(1+r)$\n图中对数变换：将输入中范围较窄的低灰度值映射为输出中较宽范围的灰度值；扩展暗像素，压缩高灰度值的动态范围。\n应用：标定傅立叶频谱（图像显示系统一般显示不出来动态范围大的图像）\n幂函数变换/伽马变换 通用形式：$s=cr^{\\gamma}$ 用于压缩和扩展灰度值范围\nlookup table (LUT) 查找表 灰度级变换定义了输入像素值与输出像素之间的映射关系，通常通过查表实现。可用户自定义转换（一般功能包括直方图均衡化,伽马校正,对数修正,指数修正）\n3.4 基于直方图的图像增强 3.4.1 灰度直方图（简称直方图） 定义：对一幅数字图像，若对应于每一灰度值，统计出具有该灰度值的象素数，并据此绘出象素数-灰度值图形。有时直方图亦采用某一灰度值的象素数占全图总象素数的百分比作为纵坐标。\n性质：1. 直方图只包含概率，丢失了位置信息。 2.图像与直方图是多对一的映射关系。3. 一幅图像各子区的直方图之和就等于该图全图的直方图。\n直方图修正：通过灰度映射函数，$G_{new}=T(G_{old})$将原灰度直方图改造成所希望的直方图。\n3.4.2 直方图均衡化 给定图像的分布$\\Rightarrow$均匀直方图分布；均衡化后，图像直方图是平直的，即各灰度级具有相同的出现频次，或各灰度级具有均匀的概率分布。图像看起来就更清晰了（图像对比度增强）。\n直方图均衡化灰度变换函数的条件 $$ s=T(r),0\\leq r \\leq L-1 $$\n(a) $T(r)$在区间$0\\leq r \\leq L-1$严格递增$\\Rightarrow$ 1️⃣保证输出灰度值不少于输入2️⃣保证反函数存在，即s到r的反映射一一对应，消除二义性\n(b)$0\\leq r \\leq L-1$时 $0\\leq T(r) \\leq L-1$ 灰度变换不影响像素的位置分布，也不会增减像素数目：\n直方图均衡化步骤 1.求出原图f的灰度直方图h\n2.求出图像f的总体像素个数，$N_f=n×m$\n3.计算每个灰度$r_k$的像素个数在整个图像中出现的概率 $p (r_k),k=0,1…L-1$\n4.理论灰度变换函数\n\\\\连续情况：$s=T(r)=(L-1)\\int_0^r p(w)dw $\n离散：$s_k=T(r_k)=(L-1)\\Sigma_{j=0}^kp(r_j),k=0,1,2,\u0026hellip;,L-1$\n5.将s近似到最接近的整数\nN.B. $r_k$可能被归一化为$r_k/(L-1)$，此时s近似到最近的$r_k$，在实际计算中请注意。\n缺点 1.不能用于交互方式的图像增强应用，因为直方图均衡化只能产生唯一一个结果，恒定值直方图近似\n2.并不总是能产生希望的结果。尤其当原始图像的直方图十分集中时，直方图均衡后将可能产生假边沿或区域，同时增强图像的条纹或斑点\n3.4.3 直方图匹配/规定化 令$r_k$为原始图像的灰度密度函数，$ z_k$是期望通过匹配的图像灰度密度函数\n目标：找到一个灰度变换H $z=H(r)$\n使得经过H对原图像进行灰度变换后，结果图像z具有期望的直方图\n算法设计 连续灰度级情况 1.直方图均衡化2.$z=G^{-1}(u)$\n3.根据均衡化概念，s, u的直方图都是常量，由此可用s替代u进行上述逆变换：$z=G^{-1}(s)=G^{-1}(T(r))\\Rightarrow H$\n离散灰度级情况 1.直方图均衡化；可计算得到两张映射表：r→s；u→z\n2.从s, u中选取最接近的一对$s_j,u_k$，使$u_k \\approx s_j$\n3.在从两张表中查得对应的$r_j, z_k$\n4.由此建立从r到z的映射关系r→z，实现数字图像的直方图匹配\n3.4.4 基于直方图统计特性的增强/局部增强 直方图统计特性 令$p(r) $为原始图象的灰度密度函数\n统计特性：均值m；n阶中心矩$\\mu_n(r)=\\Sigma_{i=0}^{L-1}(r_i-m)^np(r_i)$\nm平均灰度； 方差$\\sigma^2$平均对比度\n局部增强 利用均值、方差的前述特性，通过对图像局部区域亮度、对比度的判断，实现有选择性地增强\n1️⃣在当前像素r(x,y)周围，确定一个邻域范围S(x,y) $\\rightarrow$ 2️⃣统计该局部区域的统计特性 p m $\\sigma^2$ $\\rightarrow$ 3️⃣ 确定算法$M_G$：整幅图像的灰度平均值； $D_G$ ：整幅图像的灰度级方差 $k0, k1, k2$：局部增强加权因子，用以确定是否对当前像素f(x,y)进行增强\n3.5 彩色图像增强 3.5.1 彩色模型（颜色空间） RGB CCD技术直接感知R,G,B三个分量；是图像成像、显示、打印等设备的基础\nHSI (色调、饱和度、亮度） I分量与图像的彩色信息无关，H和S分量与人感受颜色的方式是紧密相连的\n将亮度(I)与色调（H）和饱和度（S）分开，避免颜色受到光照明暗(I)等条件的干扰，仅仅分析反映色彩本质的色调和饱和度\n广泛用于计算机视觉、图像检索和视频检索\nYUV Y指亮度(Brightness),即灰度值；U和V指色调\nY分量可提供黑白电视机的所有影像信息；用于彩色电视广播，被欧洲的电视系统所采用（属于PAL系统）\nYCbCr Y指亮度,与YUV的Y相同；Cb和Cr由U和V调整得到；JPEG采用的彩色空间\n彩色空间转换 RGB $\\rightarrow$ HSI\nHSI $\\rightarrow$ RGB\nRGB $\\rightarrow$ YUV\nRGB $\\rightarrow$ YCbCr\n3.5.2 颜色平衡 灰度平衡：使RGB彩色设备的彩色分量混合后，颜色失去色调和饱和度产生灰色，这种颜色混合效果被称为灰度平衡，一般情况下，等量的RGB产生灰色。\n彩色平衡：纠正偏色的过程；通过调整灰平衡，使偏色区域恢复成灰色实现；当灰色的亮度达到一定程度时，显现为白色，因此有时亦称之为白平衡调整\n判断偏色：1️⃣ 检查图像的灰平衡（白平衡）情况，即检查在现实中应该是灰色（白色）的物体，在图像中是否是灰色（白色）；2️⃣ 检查高饱和度的颜色是否正常，即检查在现实中应该是纯色的物体，在图像中是否有偏色\ne.g.某黑色区域的平均取值是：R = 0 ，G = 12，B = 7说明有青色色偏\n彩色平衡实现的算法\n选择两个颜色分量(如RB)，去匹配第三个(如G)\n1.在图像中选取两个浅灰或深灰区域（这些区域也许已经不是灰色）\n2.计算这两个域的RGB平均值，设为$F_1=(R_1,G_1,B_1)\\quad F_2=(R_2,G_2,B_2)$\n3.以G分量为基准，修改R和B分量使之等于G，可有对应关系： $$ F_1=(R_1,G_1,B_1)\\Rightarrow F_1^\\star=(R_1^{\\star},G_1,B_1^{\\star})=(G_1,G_1,G_1) $$ $F_2和F_2^\\star$同理。\n4.构造线性变换\n5.分别对R、G、B图像实施变换\n3.5.3 伪彩色增强 人类可以分辨比灰度层次更多的颜色种类,伪彩色图像处理就是根据一定的准则对灰度值赋以彩色的处理。方法：伪彩色变换，密度分割\n独立映射表变换法\n对灰度图像f(x, y)，建立颜色映射表：$I_R=T_R(I),I_G=T_G(I),I_B=T_B(I)$\n形成RGB图像各分量：\n$R(x,y)=T_R(f(x,y)),G(x,y)=T_G(f(x,y)),B(x,y)=T_B(f(x,y))$\n经典变换函数（映射表）\n  分段线性映射表\n  彩虹映射表：其效果类似彩虹；按照灰度值增加对应于波长增加进行映射（低灰度→蓝色，中灰度→绿色，高灰度→红色\n  正弦函数变换表：移动函数值范围以适应实际图像像素值范围\n  3.6 空域滤波 3.6.1 线性系统响应：卷积理论 卷积的离散表达式，基本上可以理解为模板运算的数学表达方式 $g(x,y)=f*h=\\sum \\limits_{m=0}^{M-1} \\sum \\limits_{n=0}^{N-1} f(m,n)h(x-m,y-n)$\n卷积的冲击响应函数h(x,y)，称为空域卷积模板\n3.6.2 空域滤波及滤波器 使用空域模板进行的图像处理，被称为空域滤波。模板本身被称为空域滤波器\n输出图像中的每一点，为输入图像中某个相关区域象素集的映射\n分类\n线性滤波器 定义：$R=\\sum \\limits_{i}^{n}w_iz_i$，其中$w_i$是模板的系数， $z_i$是被计算像素及其邻域像素的值。\n分类：低通滤波器（平滑图像，去除噪声）；高通滤波器（边缘增强，边缘提取）；带通滤波器（删除特定频率，增强中很少用）\n非线性滤波器 中值滤波（平滑图像，去除噪声）$R=mid{z_k|k=1,2,\u0026hellip;,9}$\n最大值滤波（寻找最亮点）$R=max{z_k|k=1,2,\u0026hellip;,9}$\n最小值滤波（寻找最暗点）$R=min{z_k|k=1,2,\u0026hellip;,9}$\n3.6.3 平滑/低通滤波器 1.应用：对大图像处理前，删去无用的细小细节；连接中断的线段和曲线；降低噪音；平滑处理，恢复过分锐化的图像；图像创艺（阴影、软边、朦胧效果）\n2.滤波器模板系数的设计 根据空域中低通冲激响应函数的图形设计模板的系数 设计模板系数的原则 （1）大于0 （2）很多情况：都选1，或中间选1，周围选0.5 （3）最后通过求均值，解决超出灰度范围问题 例如：均值滤波器；加权平均滤波器\n3.模板尺寸越大，图像越模糊，细节丢失越多\n4.低通空域滤波：（缺点）处理噪音的同时也平滑了边和尖锐的细节；（特征）某些情况下，对图像的低通滤波具有增强大尺度特征的作用\n3.6.4 中值滤波器 优点：抑制噪声；在去除噪音的同时，可以比较好地保留边缘轮廓信息和图像的细节\n3.6.5 锐化/高通滤波器 1.应用：加强图像中景物的边缘和轮廓；印刷中的细微层次强调。弥补扫描、 挂网对图像的平滑；超声 探测 成 象 ， 分辨率低 ， 边 缘 模糊 ， 通 过 锐 化 来 改善；图 像 识 别 中 ， 分 割 前 的 边缘 提取；锐 化 处 理 恢复 过 度 平 滑 、 暴 光 不 足 的 图 像；图 像 创 艺 (只 剩 下 边界 的 特殊 图 像 )；尖端 武器 的 目标 识别 、 定 位\n2.滤波器模板系数的设计 ​\t根据空域中高通冲激响应函数的图形设计模板的系数 ​\t1）中心系数为正值，外围为负值。2）系数之和为0\n3.滤波器效果  常数或变化平缓的区域，结果为0或很小，图像很暗，亮度被降低了 在暗的背景上边缘被增强了 图像的整体对比度降低了 计算时会出现负值，归0处理为常见 高通滤波在增强了边的同时，丢失了图像的层次和亮度 在某些情况下，高通滤波增强小尺度特征  4.高增益滤波 (a)作用：高通滤波可看作为：高通= 原图–低通;高增益滤波弥补高通滤波的缺陷，在增强边和细节的同时，不丢失原图像的低频成分。\n(b)定义：\n在上式原图上乘一个扩大因子A，有高增益滤波：高增益= A*原图–低通\n高增益= A原图–低通 = (A – 1)原图+ （原图–低通） = (A – 1)原图+ 高通 当A = 1时，高增益就是高通滤波， 当A \u0026gt;1 时，原图像的一部分被加到高通中\n(c)滤波器扩大因子及模板系数设计：\n对于3x3的模板，设w = 9A – 1；（高通时w = 8）A的值决定了滤波器的特性当A = 1.1时，意味着把0.1个原图像加到基本高通上。当A = 1.2时，结果处在上限的边缘\n理论上，高通和高增益的模板尺寸可为任意尺寸。例如：模板取7x7，高通权值为48，其它均为-1，规整化系数为1/49\n根据经验，高通滤波模板很少大于3x3\n(d)效果分析：\n增强了边，又保留了层次；高增益增强了边的同时也增强了噪音。\n5.微分滤波器 数字函数的微分、梯度、拉普拉斯算子 均值平滑，均值类似积分$\\Rightarrow$ 微分锐化？ ☑️\n 数字函数的微分、梯度、拉普拉斯算子\n一阶微分 $\\frac{\\partial f}{\\partial x}=f(x+1)-f(x)$\n二阶微分 $\\frac{\\partial^2 f}{\\partial x^2}=f(x+1)+f(x-1)-2f(x)$\n梯度 $\\nabla f\\equiv grad(f)=[g_x,g_y]^T=[ \\frac {\\partial f}{\\partial x} \\frac {\\partial f}{\\partial y}]^T$\n拉普拉斯算子\n$\\nabla^2 F(x,y)= \\frac {\\partial^2 F}{\\partial x^2} +\\frac{\\partial^2 F}{\\partial y^2} $ （连续函数）\n$G(x,y)=4F(x,y)-F(x+1,y)-F(x-1,y)-F(x,y+1)-F(x,y-1)$\n幅度 $M(x,y)=mag(\\nabla f)=\\sqrt{g_x^2+g_y^2}$\n $M(x,y)\\approx |g_x|+|g_y|$ 点$z_5$ $g_x \\approx z_5-z_6,g_y \\approx z_5-z_8$ 交叉差：点$z_5$ $g_x \\approx z_5-z_9,g_y \\approx z_6-z_8 $     Roberts交叉梯度算子 $mag(\\nabla f)\\approx |z_5-z_9|+| z_6-z_8|$\n 梯度计算由两个模板组成，第一个求得梯度的第一项，第二个求得梯度的第二项，然后求和，得到梯度的幅度。 两个模板称为Roberts 交叉梯度算子    Prewitt梯度算子——3x3的梯度模板\n$mag(\\nabla f)\\approx |(z_7+z_8+z_9)-(z_1+z_2+z_3)|+| (z_3+z_6+z_9)-(z_1+z_4+z_7)|$\n  Sobel梯度算子——3x3的梯度模板\n$mag(\\nabla f)\\approx |(z_7+2z_8+z_9)-(z_1+2z_2+z_3)|+| (z_3+2z_6+z_9)-(z_1+2z_4+z_7)|$\n  拉普拉斯算子—二阶微分算法\n标准拉普拉斯算子：先平滑后增强：与高增益滤波技术相结合（A\u0026gt;1）：\n  微分滤波器的两种特殊应用：\n1）梯度\u0026gt;25的赋最大值255，否则赋原值。边被突出，背景保留\n2）梯度\u0026gt;25的赋最大值255，否则赋0。边被突出，图被二值化\n3.7 频域增强 3.7.1 频域增强原理 频域增强步骤 F(u,v)—待增强图像f(x,y)的傅立叶变换；定义了待增强图像f(x,y)分解为一系列基图像后的变换系数\nH(u,v)—对应于空域线性系统单位冲击响应函数的傅立叶变换，称之为传递函数或滤波器函数\n通过H(u,v)对f(x,y)分解为基图像后加权系数的修改，从而实现图像的增强——图像的频域滤波增强\n理论上，任何变换只要具有正交性与完备性，均可定义类似的运算方式，但只有傅立叶变换具有严格的卷积定理证明\n相对空域滤波的优势 在傅立叶变换域，变换系数反映了图像在空域难以定义的某些特征\n 频谱的直流低频分量对应于图像的平滑区域 频谱的高频分量对应于图像的边沿或变化剧烈区域 外界叠加噪声对应于频谱中频率较高的部分 恒定的干扰条纹对应于频谱中的某些特征点  构造一个滤波器，刻意地提升某些频率分量、压低或去除另一些分量，从而达到图像增强的目的\n空域滤波基本上借助于模板运算实现，难于实现真正意义上的线性系统滤波；在实际应用中空域模板的尺寸难以扩大，使滤波增强所需信息局限在较小的局部区域，难以获得更为理想的结果和处理较为复杂的杂波去除、多特征增强等\n3.7.2 同态滤波器 原理 成像过程：图像的灰度函数f (x, y)看作为入射光分量和反射光分量两部分组成$f(x,y)=i(x,y)r(x,y)$\n  $i(x,y)$ 入射光（明度分量），较均匀，随空间位置变化较小$\\rightarrow$占据低频段\n  $r(x,y)$ 反射光（反射分量），由于物体性质和结构特点不同而反射强弱很不相同的光，随空间位置变化较剧烈；物体亮度特征主要取决于反射光$\\rightarrow$占据高频段比较宽的范围\n  成像中的问题：当入射光不均匀时，反射光构成的图像将难以表现物体的全貌\n解决思路：将入射光和反射光分别处理，在增强物体对比度的同时，适当压缩入射光形成的灰度值范围\n算法  图像 $f(x,y)=i(x,y)r(x,y)$ 取对数 $z(x,y)=\\ln f(x,y)=\\ln i(x,y)+\\ln r(x,y)$ 傅立叶 $Z(u,v)=F[z(x,y)]=F[\\ln i(x,y)]+F[\\ln r(x,y)]=I(u,v)+R(u,v)$ 滤波处理 $S(u,v) = H(u,v)Z(u,v)$ 傅立叶反变换得到$s(x,y)$ 滤波结果$g(x,y)=e^{s(x,y)}$  关键点：将明度和反射分量用对数进行分离；同态滤波器函数H(u,v)能够分别对这两部分进行操作，必须能够压缩i (x,y)的动态范围，同时增强r(x,y) 的对比度\n同态滤波器函数H(u,v)\n此特性的滤波器可满足前述要求上述滤波器特性曲线可以通过基本滤波器改造得出，例如3.7.3低通滤波 以牺牲图像清晰度为代价来减少干扰效果的修饰过程\n理想圆形低通滤波ILPF 理论上，半径内的频率分量无损通过，而圆外的频率成分被滤除\n截止频率的设计\n  总的信号能量$P_T=\\sum \\limits_{u=0}^{N-1}\\sum \\limits_{v=0}^{N-1} P(u,v)$\n能量模$P(u,v)=|F(u,v)|^2=R(u,v)^2+I(u,v)^2$\n  将变换作中心平移，则一个以频域中心为原点，r为半径的圆就包含了百分之β的能量$\\beta=100[\\sum \\limits_{u}\\sum \\limits_{v}P(u,v)/P_T]$\n  $r=D_0$\n  作用\n D0半径内的频率分量无损通过 园外的频率分量会被滤除 若滤除的高频分量中含有大量的边缘信息，会发生图像边缘模糊现象  特性\n 整个能量的90%被一个半径为8的小圆周包含,大部分尖锐的细节信息都存在于被去掉的10%的能量中 小的边界和其它尖锐细节信息被包含在频谱的至多0.5%的能量中 被平滑的图像被一种非常严重的振铃效果——理想低通滤波器的一种特性所影响  Butterworth低通滤波器 BLPF 一个截止频率在与原点距离为D0的n阶Butterworth低通滤波器（BLPF）的变换函数：三维透视图、幅频谱图与截面图\n空域响应\n截止频率设计 变换函数中不存在一个不连续点作为一个通过的和被滤波掉的截止频率的明显划分 通常把使得H(u,v)开始小于其最大值的一定比例的点当作其截止频率点$D_0$，通常H(u,v)=0.5或H(u,v)=$\\frac{1}{\\sqrt{2}}$ 特性分析 没有明显的振铃效果 ，这是滤波器在低频和高频之间平滑过渡的结果\n和ILPF相比 无明显跳跃；模糊程度减少；尾部有较多高频，对噪声的平滑效果不如ILPF\n指数低通滤波器(ELPF) 特性分析\n有更加平滑的过渡带，平滑后的图象没有跳跃现象\n与BLPF相比，衰减更快，经过ELPF滤波的图象比BLPF处理的图象更模糊一些\n一般的，2阶指数低通滤波具有较好的特性\n高斯低通滤波器(GLPF) 梯形低通滤波器(TLPF) 其中D0 \u0026lt; D1，一般情况下，定义D0为截止频率\n特性分析 结果图像的清晰度优于ILBF，噪声滤波好于BLBF9振铃效应好于ILBF，差于BLBF\n3.7.4高通滤波 基本形式 $H_{hp}(u,v)=1-H_{lp}(u,v)$\n三类基本高通滤波器\n3.7.5从频域规范产生空域模板 用空域模板来模拟一个给定频域滤波器\n  频域的滤波器操作基于等式$G(u,v)=H(u,v)F(u,v)$\n  频域的滤波器操作可以由空域上的卷积公式实现 $g(x,y)=\\sum \\limits_{i=0}^{N-1}\\sum \\limits_{j=0}^{N-1}h(x-i,y-k)f(i,k)$\n  h通常称作空域卷积模板，可理解为H(u,v)的逆傅立叶变换。假定已找到了H与h的关系 $h(x,y)=H^{-1}(u,v)\\quad x,y=0,1,2,\u0026hellip;,N-1$\n但直接通过傅立叶反变换得到的h(x,y)其理论范围N太大，不是实用模板\n  假设h(x, y)在x\u0026gt;n 且y\u0026gt;n 时值均为0，其中n\u0026lt;N；可创建一个n×n大小的用傅立叶变换H(u,v)得到的卷积模板\n  对$\\hat{h}$进行傅立叶变换 $\\hat{H}=C\\hat{h}$\n  确定$\\hat{h}(x,y)$的系数，目标函数：误差$e^2=\\sum \\limits_{u=0}^{N-1}\\sum \\limits_{v=0}^{N-1}|\\hat H(u,v)-H(u,v)|^2$\n  对$e^2$函数通过取空域的导数求极小值，最终可推导出公式$\\hat{h}=(C^*C)^{-1}C^*H=C^{\\star}H$\n  频域滤波器与空域滤波器的对应关系\n\r第四章 图像变换 4.1 空域变换 4.1.1 图像像素级运算 点运算 线性点运算 非线性点运算 C\u0026gt;0,增强中间部分亮度；C\u0026lt;0,减小中间部分亮度\n代数运算 （针对两幅图像） 加法 $C(x,y)=A(x,y)+B(x,y)$\n  去除“叠加性”噪音\n定理：对M幅加性噪声图像进行平均，可以使图像的平方信噪比提高M倍。\n  图像叠加效果\n  减法 $C(x,y)=A(x,y)-B(x,y)$\n 应用：去除不需要的叠加性图案（A前景背景混合图像；B背景）；检测同一场景两幅图像之间的变化；计算物体边界的梯度  乘法 $C(x,y)=A(x,y)\\times B(x,y)$\n 应用：二值模板图像乘原图像  逻辑运算 求反 定义：$h(x,y)=DN-f(x,y)$ $DN$为$f(x,y)$的灰度级\n主要应用：获得图像的负像；获得子图像的补图像；绘制区别于背景的、可恢复的图像\n与 定义：$h(x,y)=f(x,y)\\wedge g(x,y)$\n主要应用：求两子图像的相交子图\n4.1.2 几何变换 几何失真一般分为系统失真和非系统失真。系统失真是有规律的、能预测的；非系统失真则是随机的。\n几何变换可以改变图像中物体之间的空间关系。\n基本方式：多项式变换、透视变换 平移变换 $a(x,y)=x+x_0;b(x,y)=y+y_0;$\n$g(x^′,y^′)=f(x+x_0,y+y_0)$\n镜像变换：水平镜像、垂直镜像 水平：$x^′=-x,y^′=y$\n垂直：$x^′=x,y^′=-y$\n拉伸/缩放变换 旋转变换 【注意】\n 图像旋转之前，为了避免信息的丢失，一定有平移坐标。 图像旋转之后，会出现许多的空洞点，对这些空洞点必须进行填充处理，否则画面效果不好，称这种处理为差值处理。  错切变换 错切后原图像像素排列方向改变；与旋转的不同：x方向与y方向独立变化\n伪仿射变换——双线性几何变换 任意变形变换——非线性几何变换 在二维平面上，实现图像几何形状的任意变换\n在二维平面上，校正图像的几何失真图像的空域变换—几何变换\n特征：一般的，原始图像与目标图像之间，存在一一对应的特征点（tiepoints，GCPs）\n模型：一般的，原始图像与目标图像之间的坐标变换函数为非线性函数，需用高阶多项式进行近似描述\n通过原始图像与目标图像之间多个对应特征点（GCP点），可以确定上述多项式中的未知参数\n基本几何变换的特征 坐标空间变换：范围发生变化，大小发生变化\n像素值的变化：位置变化不引起像素值变化，旋转、缩放、变形变换像素值发生变化\n离散几何变换的计算问题 空间坐标：向前映射法，向后映射法\n 向前映射计算法$g(x^′,y^′)=f(a(x,y),b(x,y))$ 从原图像坐标计算出目标图像坐标，镜像、平移变换使用这种计算方法 向后映射计算法$g(a^′ (x,y),b^′ (x,y))=f(x,y)$ 从结果图像的坐标计算原图像的坐标,旋转、缩放、变形可以使用  像素值计算——灰度插值(重采样)：最邻近插值法，双线性内插法(一阶插值)，高阶插值\n4.1.2 灰度插值 最近邻插值法 选择最临近点像素灰度值 $(x^′,y^′ )$点像素的灰度值为原图像中(x,y)点的像素值\n特点：简单快速、灰度保真性好、误差较大、视觉特性较差、马赛克效应\n双线性插值法 线性插值\n线性函数 $\\frac{y-y_0}{x-x_0}=\\frac{y_1-y_0}{x_1-x_0} \\Rightarrow y=\\frac{x_1-x}{x_1-x_0}y_0+\\frac{x-x_0}{x_1-x_0}y_1$\n双线性插值\nx方向插值\n$R_1:f(R_1)=\\frac{x_1-x^′}{x_1-x_0}f(R(x,y))+\\frac{x^′-x_0}{x_1-x_0}f(R(x+1,y))$\n$R_2:f(R_2)=\\frac{x_1-x}{x_1-x_0}f(R(x,y+1))+\\frac{x-x_0}{x_1-x_0}f(R(x+1,y+1))$\ny方向插值\n$f(R(x^′,y^′))=\\frac{y_1-y^′}{y_1-y_0}f(R_1)+\\frac{y^′-y_0}{y_1-y_0}f(R_2)$\n简化计算方法\n双线性插值法（一阶插值） 最佳插值函数 高阶插值 简化计算，仅取原点周围有限范围点\n并利用三次多项式来近似理论上的最佳插值函数sinc(x)：\n由此形成常用的三次卷积插值算法，又称三次内插法，两次立方法(Cubic)。CC插值法等\n三次卷积插值算法 其中$I_i$是$i$点亮度值\n特点\n为满足二维Nyquist条件下，最佳重构公式的近似\n只有图像满足特定的条件，三次卷积插值算法才可获得最佳结果\n可使待求点的灰度值更好地模拟实际可能值\n可取得更好的视觉效果\n三次卷积内插突出的优点是高频信息损失少，可将噪声平滑\n4×4时，像元均值和标准差信息损失小\n计算量大为增加\n内插方法选择 内插方法的选择除了考虑图像的现实要求及计算量，还要考虑内插结果对分析的影响\n当纹理信息为主要信息时，最邻近采样将严重改变原图像的纹理信息\n但灰度信息为主要信息时，双线性内插及三次卷积插值将减少图像异质性，增加图像同质性，其中，双线性内插方法使这种变化更明显\n4.2 频域变换 意义：（1）利用频率成分和图像外表之间的对应关系，一些在空间 域表述困难的增强任务，在频率域中变得非常普通 （2）图像的变换过程可类比于数学上去相关处理，在空域相 互交叉难以描述的特征，在频域往往得到更为直观的表 达、分离甚至集中（3）图像的滤波在频率域更为直观，它可以解释空间域滤波 难以解释的某些性质（4）理论上可以在频率域指定滤波器，通过反变换，以其空 域响应作为构建空间域滤波器的指导（5）一旦通过频率域试验选择了空间滤波，具体实施可在空间域进行\n4.2.1 频域变换概述 卷积 对于一个线性系统的输入f(t)和输出y(t)，其间必定存在关系（卷积积分）：h(t) 称为线性系统的单位冲激响应函数，其含 义为：当线性系统输入f(t)为单位脉冲函数时， 线性系统的输出响应\n相关函数 正交变换 连续函数几何的正交性\n正交函数集合的完备性\n正交函数集合完备性的物理意义\n任何数量的奇函数累加仍为奇函数，任何数量的偶函数累加仍为偶函数\n因此，为了能用累加展开式来表示一个任意函数，就要求这个函数集合中既有奇函数又有偶函数（e.g. a 完备 b 不完备）\n正交函数的离散情况\n一维正交变换\n可进行图像变换的基本条件：正交、完备 常用的几种变换 : 傅立叶变换 、WALSH 变 换 、哈达玛变换 、Haar 变 换 、SLANT 变 换 、K-L 变换以 及 特定 条 件下的CONSINE 变换 、SINE变换等，都满足正交 性和完备性两个条件\n4.2.2 傅立叶变换 调谐信号(欧拉公式) $$ f(t)=e^{j\\omega t}=\\cos⁡(\\omega t)+j\\sin(\\omega t), j^2=−1 $$\n傅立叶积分 $$ H(f)=\\int\\limits_{-\\infty}^{+\\infty}h(t)e^{−j2\\pi ft} dt $$\n一维傅立叶变换 指数形式\n一维离散傅立叶变换 二维傅立叶变换 二维离散傅立叶变换 傅立叶变换的性质 1. 线性性质（加法定理） 2. 比例性质（相似性定理）： 3. 可分离性： 一个二维傅立叶变换可分解为两步进行，其中每一步都是一个一维傅立叶变换。 先对f(x,y)按行进行傅立叶变换得到F(x,v)，再对F(x,v)按列进行傅立叶变换，便可得到f(x,y)的傅立叶变换结果F(u,v) 。显然先列再行也可行。\n4. 空间位移性 上式N代表图像为NxN\n若为MxN，则：\n5. 频移性 6. 周期性 7. 共轭对称性 4.2.3 快速傅立叶变换 见复印件 4.2.4 离散余弦变换 4.2.5 沃尔什—哈达玛变换 4.2.6 小波变换 第五章 图像压缩 见复印件 5.1 图像压缩概述 5.2 无损压缩 熵编码 霍夫曼编码 (Huffman 熵编码 算术编码：哈夫曼编码的改进 基于字典的编码 (dictionary 行程编码 Run Length Encoding LZW 编码方式 5.3 有损压缩 预测编码 DPCM (Differential Pulse Code Modulation) 编码 DM Delta Modulation 编码 变换编码 DCT 变换编码 变换编码 小波变换编码 6.5 图像分割——基于边缘检测的方法 背景知识 见复印件 边缘检测 见复印件 原理 见复印件 边缘检测算子 见复印件 霍夫变换 见复印件 基本原理 见复印件 算法实现 见复印件 \r第六章 图像分割 6.1 图像分割基本介绍  图像处理过程  图像分割的方法：   基于边缘检测的方法（基于灰度值的不连续性）  先找出局部特性的不连续性，再将它们连成边界，边界将图像分成不同区域（通过连通边界进行区域分割）。\n如：边缘检测分割法、Hough变换等。\n 基于区域生成的方法（基于灰度值的相似性）  将像素分成不同的区域（通过同质性基元的聚类进行区域分割）\n如：阈值分割法，区域生长、分裂合并、形态学分割等。\n6.2 边缘检测 1、滤波 边缘检测的算法主要是基于图像强度的一阶和二阶导数，导数对噪声很敏感，因此必须采用滤波器来改善。主要有高斯滤波，采用离散化的高斯函数产生一组归一化的高斯核，然后基于高斯核函数对图像灰度矩阵的每一个点进行加权求和。 2、增强 增强边缘的基础是确定图像各点邻域强度的变化值。增强算法可以将图像灰度点邻域强度值有显著变化的点凸显出来，通过计算梯度幅值来确定 。通常我们用小区域模板进行卷积来计算，有 Sobel 算子、 Roberts 算子、 Prewitt 算子等。 3、检测 经过增强的图像，往往邻域中有很多点的梯度值比较大，所以采用某种方法对这些点进行取舍， 常\n6.3 阈值分割法 阈值分割是直接对灰度图进行计算的分割方法。\n6.3.1 阈值分割原理   通式$g(x,y)=\\begin{cases} \u0026amp;Z_E ,\\ f(x,y)∈Z\\ \u0026amp; Z_B, \\ else \\end{cases}$\t$Z_E=f(x,y)\\rightarrow$半阈值化\n  类间最大方差原则：取最佳阈值时，两部分之间的差别最大，此时错分概率最小\n  如图所示，若物体暗，背景亮。门限选双峰间的凹谷\n 分类     阈值类型 适用情况     全局阈值 图像中目标和背景有明显差别，而且这种差别在图像中的任何位置都几乎相同。   局部阈值 目标和背景的对比度随着位置的不同可能有较大变化(比如光照不均)。   单阈值 图像中只有单个目标和单个背景的情况，或者只对图像进行简单的划分。   多阈值 图像中存在多个目标或多个背景的情形，或者对图像进行多个层次的划分。   直接阈值 对比度较大的图像，图像中在区域内部灰度基本一致，而不同区域之间灰度有较大的差异。   间接阈值 图像中的目标和背景差别不是很大，如果不作处理直接选取阈值的话，用这个阈值不能很好地分割图像。    6.3.2 阈值处理 6.3.2.1 基本全局阈值处理 1、为全局阈值T选取一个初始估计值\n2、分割图像。产生两组像素G1和G2\n3、对G1和G2中的像素分别计算平均灰度值（均值）m1和m2\n4、在m1和m2之间计算新的阈值 $T=\\frac{1}{2}(m_1+m_2)$\n5、重复2-4，直到连续迭代中的两个T的差小于预定义的ΔT\n6.3.2.2 Otus方法的全局阈值处理/类间最大方差法 基本思想：经过适当的阈值化的两个类，就其像素灰度值而言，应当是截然不同的。同理，就其灰度值而言，给出最佳类间分离的阈值将是最佳的阈值。\n求解过程不需要人为设定其他参数，完全由计算机自动选取。它不仅适用于两个区域的分割，也可以推广到多个区域的情形。\nOtus算法实现流程  计算输入图像（大小MxN，有L个不同灰度级[0, 1, 2, \u0026hellip;, L-1]）的归一化直方图，使用$p_i$表示直方图各个分量，其中$i=0,1,2,\u0026hellip;,L-1$ 计算全局灰度均值$m_G$ 计算累积和$P_1(k)=\\sum\\limits_{i=0}^kp_i,k=0,1,2,\u0026hellip;,L-1$ 计算累积均值$m(k)=\\sum\\limits_{i=0}^kip_i,k=0,1,2,\u0026hellip;,L-1$ 计算类间方差$\\sigma^2_B(k)=\\frac{m_GP_1(k)-m(k)}{P_1(1-P_1)}$ Otus阈值$k^*=\\max\\limits_{0\\leq k\\leq L-1} \\sigma^2_B(k)$ 若最大值不唯一，用对应的各个$k$的均值作为$k^*$ *计算可分性度量$\\eta^*=\\frac{\\sigma^2_B(k)}{\\sigma^2_G}$,其中$\\sigma^2_G=\\sum\\limits_{i=0}^{L-1}(i-m_G)^2p_i$  由于$P_1(k),m(k),\\sigma^2_G$均为累加值，可以在遍历各个灰度级的同时进行递推计算，即$P_1(k)=P_1(k-1)+p_{k},k=0,1,2,\u0026hellip;,L-1$，其中$P_1(-1)$记为0。\nOtus方法类间方差公式推导 其中$m_1(k)=\\frac{1}{P_1(k)}\\sum\\limits_{i=0}^kip_i,k=0,1,2,\u0026hellip;,L-1$\n1、2、6.3.3 改进 a 图像平滑改进 噪声会将简单的阈值处理问题变得不可解决，当噪声不能在源头减少，并且需要用阈值处理分割图像时，通常在阈值处理之前平滑图像，以增强阈值处理的性能。\nb 边缘改进 边界明显，但是整体灰度值相近：求梯度，根据梯度幅度图像得到的模板图像P，原图像和P相乘得到的结果进行处理\nc 可变阈值处理 (i) 基于局部图像性质 在图像的每个点(x,y)，根据坐标的一个邻域的一条或多条规定性质计算阈值。\n$T_{xy}=aσ_{xy}+bm_{xy}=aσ_{xy}+bm_G$，其中a、b大于0\n(ii) 基于移动平均 一维数组 序列信息 沿一幅图像的扫描行计算平均\nz形扫描$(m_{ij})_{n\\times n}$ 得到 $[m_{11},m_{12},\u0026hellip;,m_{1n},m_{2n},m_{2n-1}]$\n第$k+1$次扫描遇到的点的灰度：\n阈值$T_{xy}=c\\times m_{xy}$\n6.4 区域分割法 6.4.1 区域生长 Bottom-up 步骤 1、种子像素作为生长的起点； 2、确定一个相似性标准（评判是否合并的条件）； 3、按照相似性标准，将种子像素的邻域中具有与种子相同和相似性质的像素，合并到种子的区域中； 4、将新像素当作新的种子像素继续进行上面的过程，直到再没满足条件的像素可被包括进来为止，这样就完成了一个区域的生长； 5、按此方法，完成其它区域的生长，直到将整幅图像完全分割。\n关键\n  种子选取（利用特征或先验知识） 最亮的像素；直方图极大值；聚类中心处像素\n  相似性准则(生长准则)确定 区域灰度差；区域内灰度分布特性；颜色、纹理、尺寸形状等。\n  生长停止条件确定 区域大小；区域与候选像素相似性；正在增长区域的形状。\n  优点 计算简单，通常能将具有相同特征的联通区域分割出来。在没有先验知识可以利用时，可以取得最佳的性能\n缺点 对噪音敏感，导致抽取的区域有空洞\n6.4.2 区域分离与聚合 Up-down 步骤 1、进行一次分裂； 2、考察所有相邻区域是否可以合并，若可以，则将其一一合并； 3、重复步骤1、2的分裂合并过程，直到分裂和合并都不能再进行为止。\n注意：合并时一般先考虑同一个父节点下的4个区域，之后再扩展到其它父节点下同层次的区域。\n难点 分裂与合并的准则不好判断。分裂的准则又称为均匀性测试准则，用于判断该块图像是否需要分裂。 当均匀性测试准则选择不当时，很容易会引起“方块效应”。\n6.4.3 空间聚类/K均值聚类 将观测集合Q划分为k个满足如下最优准则的不想交的聚类集合$𝐶={𝐶_1,𝐶_2,…𝐶_𝑘}$:1、初始化算法：规定一组初始均值$m_i (1),i=1,2,…,k$\n2、将样本分配给聚类：将每个样本分配给均值最接近的聚类集合（关系被任意求解，但样本只分配给一个聚类）：\n$z_q→C_i$,如果$‖z_q-m_i^2 ‖\u0026lt;‖z_q-m_j ‖^2$,$j=1,2,…,k(j≠i);q=1,2,…,Q$\n3、更新聚类中心（均值）：\n$m_i=1/|C_i | ∑129_(z∈C_i)▒z,i=1,2,…,k$\n4、完备性检验：计算当前步骤和前几步中平均向量之间的差的欧几里得范数。计算残差E，即k个范数之和。若E≤T，其中T是一个规定的非负阈值，则停止。否则，返回步骤2.\n6.4.4 超像素的区域分割 基本思想 通过将像素组合到比各个像素更有感知意义的原始区域来取代标准原始图像 。 超像素分割的目的是减小计算开销并通过减少不相关的细节来提高分割算法的性能 。\nSLIC 超像素算法 简单线性迭代聚类SLIC 是 k 均值分割算法的一种改进 。 与其它超像素算法相比 原理简单 具有计算优势和其他性能优势 。\n具体步骤 1、初始化算法：以规则步长 S 对图像取样 计算初始的超像素聚类中心 𝒎𝑖=[𝑟𝑖,𝑔𝑖,𝑏𝑖,𝑥𝑖,𝑦𝑖] ,𝑖=1,2,…,$n_{sp}$\n2、在种子点的 n*n 邻域内重新选择种子点 一般取 n= 3 。 具体方法为：计算该邻域内所有像素点的梯度值 将种子点移到该邻域内梯度最小的地方\n3、计算距离测度\n4、将样本分配给聚类中心：在每个种子点周围的邻域内为每个像素点分配类标签 即属于哪个聚类中心 。 和标准的 k means 在整张图中搜索不同 SLIC 的搜索范围限制为 2 S* 2 S 可以加速算法收敛 如下图 。\n5、更新聚类中心 6、收敛性检验：计算当前步骤和前几步中平均向量之间的差的欧几里得范数 。 计算残差 E 即 k 个范数之和 。 若 𝐸 𝑇 其中 T 是一个规定的非负阈值 则停止 。 否则 返回步骤 2 7、后处理超像素区域：将每个区域中的所有超像素替换为他们的平均值\n优点 1、生成的超像素如同细胞一般紧凑整齐 邻域特征比较容易表达 。 2、不仅可以分割彩色图 也可以兼容分割灰度图 。 3、需要设置的参数非常少 默认情况下只需要设置一个预分割的超像素的数量 。 4、相比其他的超像素分割方法 SLIC 在运行速度 、 生成超像素的紧凑度 、 轮廓保持方面都比较理想\n总结 \r第七章 图像的特征提取 定位 初始关键点 localize where to describe features 描述 如何描述这些区域/点\n7.1 背景知识 图像分析系统的基本构成\n在图像分割后，为了进一步的处理，分割后的图像一般要进行形式化的表达和描述。 解决形式化表达问题一般有两种选择： 1、根据区域的外部特征来进行形式化表示 2、根据区域的内部特征（比较区域内部的象素值）来进行形式化表示\n选择表达方式，要本着使数据变得更有利于下一步的计算工作。下一步工作是基于所选的表达方式描述这个区域，一般情况下： 1、如果关注的焦点是形状特性，选择外部表示方式 2、如果关注的焦点是反射率特性，如颜色、纹理时，选择内部表示方式。 3、所选表示方式，应该对尺寸、变换、旋转等变量尽可能的不敏感\n7.2 边界预处理 7.2.1 区域骨架抽取 见复印件 1、Blum的中轴变换方法（MAT：Medial Axis Transform） 设:𝑅是一个区域，𝐵为𝑅的边界，在𝑅中寻找点𝑝(x, y)，使𝑝最接近于B。如果𝑝有多这个这样的临点（最近邻点\u0026gt;=2)，则𝑝点形成的轨迹为R的中轴（骨架）。 存在问题：计算量大 在保证产生正确的骨架的同时，改进算法的效率。比较典型的是一类细化算法，它们不断删去边缘，但保证删除满足： 1、不移去端点 2、不破坏连通性 3、不引起区域的过度腐蚀\n7.3 特征描述子 7.3.1 边界特征描述子 见复印件 7.3.2 区域特征描述子 7.3.2.1 基本描述子 见复印件 7.3.2.2 纹理描述(基于直方图、基于统计方法、基于谱方法) 1、定义 纹理特征刻画了图像中重复出现的局部模式与他们的排列规则，常用于图像分类和场景识别。\n2、特点 反映物体表面的特性，无法完全反映出物体的本质属性，所以仅用纹理特征无法获得图像的高层次内容。\n3、基于直方图的纹理测度\n令z是一个表示灰度的随机变量，$𝑝(𝑧_i), i = 0,1,2…𝐿$是对应的归一化直方图，其中𝐿是不同灰度级的数量\n 均值 $m=\\sum_{i=0}^{L-1}z_ip(z_i) $ 𝑍相对于平均值的𝑛阶矩 $\\mu_n=\\sum_{i=0}^{L-1}(z_i-m)^np(z_i) $ 一致性测度 $U=\\sum_{i=0}^{L-1}p^2(z_i) $ 方差 $\\sigma^2(z)=\\mu_2(z)$ 相关性测度 $R=1-\\frac{1}{1+\\sigma^2(z)},$其中$\\sigma^2(z)$最好除以$(L-1)^2$进行归一化。 熵 $e(z)=-\\sum_{i=0}^{L-1}p(z_i)log_2p(z_i)$  U对所有灰度级都相等的图像有最大值（极大 一致性） ， 并从最大值开始降低。熵是可变性的测度，对恒定图像其为零。\n4、基于统计方法的纹理描述\n（1）灰度共生矩阵(GLCM, Gray-level co-occurrence matrix)通过计算灰度图像得到它的共生矩阵，然后再计算所得到的共生矩阵的部分特征值，来分别代表图像的某些纹理特征。\n（2）作用 灰度共生矩阵能反映图像灰度关于方向、相邻间隔、变化幅度等综合信息（直方图无法体现），它是分析图像的局部模式和它们排列规则的基础。\n（3）灰度共生矩阵构建方法 1、矩阵$G$大小为灰度级的数量。 8比特(256灰度级）大小为256x256。为减少计算量，也会采取将灰度级量化，减小数据量 2、$g_{ij}$表示灰度为$z_i$和$z_j$的像素对在Q规定的位置上出现的次数。Q是定义两个像素的相对位置的算子\n（4）共生矩阵特性描述 $$ p_{ij}=\\frac{g_{ij}}{n} $$\n$n$满足Q的像素对的总数（G元素加和）\n          随机图像的共生矩阵为随机矩阵 正弦波的对称性，像素对𝑧i, 𝑧j 的数量与产生对称共生矩阵的像素对𝑧j,𝑧i 数量相同 很多值沿主对角线也是分组的，但是分布比G2密集，这一性质表明图像的灰度值变化很大    4、谱方法（了解） 傅立叶谱非常适合描述图像中周期或半周期二维模式的方向性。这样的全局纹理模式很容易区分为谱中高能量的集中爆发。\n用于纹理描述的傅立叶谱的特点 1、谱中的突出峰给出纹理模式的主方向 2、频率平面上的峰值位置给出纹理模式的基本空间周期 3、通过滤波可以消除任何周期分量\n谱特征的检测和解释\n通常可在极坐标中将谱表示为函数𝑆(𝑟, 𝜃)。对于每个方向𝜃，𝑆(𝑟, 𝜃)可表示为一维函数$𝑆_{\\theta}(𝑟)$ 𝜃固定时，分析$𝑆_{\\theta}(𝑟)$得到从原点到径向的方向的谱的特性（如峰的出现）𝑟固定时，分析得到一个以原点为圆心的圆上谱的特性7.3.3 特征描述子的主分量 假设有n幅配准（目标通过图像变换重合）的图像，那么所有图像中相同空间位置的对应图像可以排列为一个n维向量$\\bold{x}= [𝑥_1 ,𝑥_2 ⋯𝑥_n]^T$\n  总体平均向量 $\\bold{m_x}=E(\\bold{x})$ 比如每幅图像都是524*524,就是524*524个n维向量求均值\n  协方差矩阵   霍特林变换 其中A为一个矩阵，这个矩阵的各行由𝑪𝒙的特征向量构成，并按特征值降序排列\n  性质\n𝑪𝒚是对角阵，主对角元素是𝑪𝒙的特征值\nLDA PCA 特征值由x维度决定\n7.4尺度不变特征变换 SIFT Scale-invariant feature transform 见复印件 1、构建尺度空间\nOctave1 images smoothed using Gaussian lowpass kernels (k\u0026gt;1) （$\\sigma$越大越模糊）\nOctave2 Octave1下采样\n第九章 图像分类 面临的困难和挑战：视角变化 尺度条件 变形 遮挡 光照条件 背景杂乱 类内差异\n9.1 原型匹配模式分类 最小距离分类器 使用最广泛且最简单的原型匹配分类方法之一\n它在未知模式向量X和每类原型之前计算一个基于距离的测度d，然后将未知模式赋予最接近的原始类。是一种聚类分析\n  计算每个类别对应特征的均值\n$n_j$ 第j个类别的样本数，$c_j$第j个类别，$N_c$类别总数\n  最小分类器计算距离\n$D_j(x) = \\left | \\boldsymbol{x}-\\boldsymbol{m_j} \\right |$\n$d_j(x)=\\boldsymbol{m}_j^T\\boldsymbol{x}-\\frac{1}{2}\\boldsymbol{m}_j^T\\boldsymbol{m}_j$\n  决策函数/判别函数\n  决策边界（与两类特征点等距）\n  优点：原理简单、计算速度快 缺点：分类精度不高\ne.g.9.2 最优（贝叶斯）统计分类器 有监督的学习算法\n贝叶斯决策函数 乘式取对数\n优点 原理简单、学习效率高\n缺点/不足\n 由于该算法以自变量之间的独立（条件特征独立）性和连续变量的正态性假设为前提，会导致算法精度在某种程度上受影响。 除了均值方差，还有更精准的模式/统计特性（特征值、特征向量$\\Rightarrow$ 表征哪个方向变化剧烈）  9.3 神经网络分类 robust（图像变换后不影响类别等较宏观特征的提取）和sensitive（判断具体图像变换）之间的trade-off：网络到一定深度后分开，一部分robust，另一部分sensitive，结合完成任务\nN.B. filter的最大的特点是其深度与输入层的深度是一致的。输入层是单通道，单个filter也是单通道。 输入层是三通道，单个filter也是三通道\nLeNet VGG16 Wide ResNets ResNet的跳连接，导致了只有少量的残差块学到了有用信息，于是出现了一种新的网络WideResNet（在ResNet的基础上减小深度，增加宽度）。\nResNeXt ResNeXt 结构基于VGG的“堆叠”与Inception系列网络的“split-transform-merge”思想，可以在不增加参数复杂度的前提下提高准确率，减少了超参数的数量\n256,1x1,64 256维输入经过64个1x1(x256)filter降维到64维\na,b,c三个子图结构是等价的，最后一个子图用了分组卷积技术使得结构更加紧凑简洁，模型实现使用的是最后一个子图的结构\nDenseNet 在保证网络中层与层之间最大程度的信息传输的前提下，让网络每一层和前面所有的层连接起来\n因为feature map大小不同的时候concat会出现size问题，DenseNet把网络分成了几个Dense Block，中间用transition layer（用来改变feature map大小）连接起来\nDenseNet-BC B表示bottleneck结构，把3x3conv替换成(1x1, 3x3)conv； C表示压缩，在transition层设一个参数𝜃来减小特征图个数\n实验结果\n#parameters越大，计算量/模型文件大小/加载时间都变大\nDenseNet网络复杂，参数量大，学习/收敛能力强，但也更快达到瓶颈\nSqueeze-and-Excitation Networks (SENet) squeeze与注意力机制相似，判断不同特征层重要性\n激活后加权到原特征层\nSE block并不是一个完整的网络结构，而是一个子结构，可以嵌到其他分类或检测模型中\nMobileNet 卷积神经网络越来越复杂，内存与响应速度问题使得在某些真实的应用场景如移动或者嵌入式设备，如此大而复杂的模型是难以被应用的\n基本单元：深度级可分离卷积 （depthwise separable convolution）\n depthwise convolution:针对每个 输入通道采用不同的卷积核 pointwise convolution:采用 1x1的卷积核的普通卷积（通道整合）  但是降低flops（计算复杂度）后时间不一定减少，还和硬件计算方式有关。MobileNet频繁调度各个channel的filter\n","date":"2021-05-18T00:00:00Z","permalink":"https://K7288.github.io/posts/draftimage-processing-and-computer-vision/","title":"(Draft)Image Processing and Computer Vision"},{"content":"The effect of stride length on lower extremity joint kinetics at various gait speeds\n Research question Concepts Notations Background Materials and Methods  Data analysis  1. 数据处理 2. Protocol validation 3. Continuum analysis  main effect analysis SL   4. Torque pulse approximation     Results  Protocol validation Continuum analysis Torque pulse approximation   Conclusion Limits/Further Work Thoughts/Comments  Research question In this study, we investigated how sagittal plane joint moments are affected by a factorial modulation of two important gait parameters: gait speed and stride length.\nWe designed an experimental study to establish the effects of GS and SL on the resulting hip, knee, and ankle joint moments. The findings are intended to inform the design of a robotic controller that delivers pulses of torque to the lower extremity joints with optimal timing and amplitude to induce desirable modulations of GS and SL, and of associated spatiotemporal parameters.\nConcepts sagittal plane矢状面，把身体分成左右两条，解剖学用来描述身体各部分位置（类似经线）N.B.不只有中线\nsagittal plane movement包括任何具有前后成分的运动\nNotations   GS: gait speed\n  TLA: trailing limb angle\n  SL: stride length\n  SL for cycle k was defined based on the right heel strike time t and anteroposterior coordinate in the laboratory frame x and constant velocity of the treadmill v\n$SL_{(k)}=x_{(k+1)}-x_{(k)}+v(t_{(k+1)}-t_{(k)})$\n    $L_l$: leg length in m\n  $\\alpha_l$: time of application(defined as the set of integers between 5% and 95%, providing a quantization in the time of application of torque pulses equal to 1% of a gait cycle duration)\n  $A_l$: amplitude\n  $\\tau(\\overset{\\sim}t)$ : an average hip, knee, and ankle joint moment profile(力矩); Segmented gait cycles linearly resampled in the [0, 100] % gait cycle domain $\\overset{\\sim}t$ and averaged at each point in gait cycle to yield $\\tau(\\overset{\\sim}t)$\n  $\\overset{\\sim}\\tau$/$\\overset{-}\\tau$: normalized joint moments.\n  Background   gait training devices\n  that promote desired changes in gait\n  Challenges in developing such devices: limited understanding of human response to robotic input\n 比如机器人运动辅助会怎样影响gait speed    Possible method of controller formulation: control robot to apply the change in joint moment applied by human subjects when they achieve a gait feature of interest.\n  However, it is currently unclear how lower extremity joint moments are modulated by even basic gait spatio-temporal parameters.\n    GS $\\leftrightarrow$ propulsive force + Propulsive impulse $\\leftrightarrow$ TLA $\\Rightarrow$ GS $\\leftrightarrow$ TLA\nGS correlated with anterior- posterior ground reaction force(the propulsive force of the foot against the ground)1\nPropulsive impulse冲量(the propulsive force integrated over time), is associated with the posture of the trailing limb at push-off.2 The posture of the trailing limb at push-off is quantified by one kinematic parameter, known as trailing limb angle (TLA), defined as the angle of the line connecting the hip joint center and foot center of pressure at the instant of peak propulsive force, relative to the global vertical axis最大推进力瞬时髋与足中心连线与竖直方向的夹角\nWhen increasing GS, the increase in TLA contributes twice as much as the increase in ankle moment to the resulting increase in propulsive force. In older adults exposed to a biofeedback paradigm for increasing propulsive force, increased TLA and decreased hip flexor power were the primary means by which they increased propulsive force.\n  A possible method of controller formulation can be derived from the principle of bio-inspiration, where a robot is controlled to apply the difference in joint moment applied by human subjects when they achieve a desired gait feature (in this case modulation of TLA), relative to their normal walking condition. 控制思路：检测TLA变化，根据正常行走时的关系调整辅助系统的关节运动\n  Since TLA has not been a primary measure ofinterest in the biome- chanics literature, we extended our search to a more common variable, likely correlated to TLA, such as stride length (SL).\n  GS modulation和magnitude of peak joint moments的关系研究得比较多，hip knee ankle和变化的先后关系、出现的phase等；However, fewer investigations have focused on the joint kinetics associated with the modulation of spatiotemporal parameters such as SL or TLA, and studied this effect at multiple GS values.又列举了一些证明SL和关节动力学有关的研究；Thus far, the factorial modulation ofboth GS and SL and resulting hip, knee, and ankle kinetics has not been investigated; as such it is unclear how lower extremity joint moments are modulated by both gait parameters.\n  Materials and Methods  准备：跑步机；36 reflective spherical markers (4 on the pelvis, 4 per thigh, 4 per shank, 2 per knee, and 6 on ankle/foot；摄像头动捕；Marker data were acquired at 100 Hz, while the treadmill analog force/torque data were acquired at 2 kHz；biofeedback 显示当前SL使被试进行调整 采样（GS 5 * SL 3 = 15种场景）：1️⃣ calculate the subject’s self-selected gait speed (ss-GS) 2️⃣ Non-biofeedback conditions: calculate ss-SL at five speeds (ss-GS [80%, 90%, 100%, 110%, 120%] in random order) 3️⃣ Biofeedback conditions: 被试根据跑步机的SL反馈分别用 1+17% / 1-17% 的ss-SL 数据分析  Data analysis 1. 数据处理 1️⃣ 25N门控处理力 2️⃣ 低通滤波处理动捕和力（cut-off currency分别6Hz 30Hz）3️⃣ 插值处理动捕数据（a third order polynomial fit for a maximum gap size of five samples三阶多项式拟合）4️⃣ 将受试者的质量、身高和站立校准标记位置应用到解剖模板中，得到一个7节段(骨盆、大腿、小腿和脚)受试者模型\n(a) In a custom MATLAB (MathWorks, Natick, MA, USA) script, hip, knee, and ankle joint angles and moments for the right leg in the sagittal plane were extracted and filtered with a 2nd order low-pass zero-shift Butterworth filter with a cut-off frequency of 15 Hz.\n(b) Gait cycles were segmented between subsequent heel strike events, defined as the instants at which the vertical ground reaction force changed in value from zero to positive, and remained positive for a minimum of 400ms. 手动检查排除由于仪器故障/被试踏空导致的异常数据； A minimum of 25 segmented gait cycles were linearly resampled in the [0, 100] % gait cycle domain $\\overset{\\sim}t$ and averaged at each point in gait cycle to yield an average hip, knee, and ankle joint moment profile $\\tau(\\overset{\\sim}t)$ for each of the 15 experimental conditions for each of the 20 subjects\n(c) the non-dimensional无量纲 joint moment $\\overset{\\sim}\\tau$ was calculated for each joint as $\\overset{\\sim}\\tau(\\overset{\\sim}t)=\\frac{\\tau(\\overset{-}t)}{WL_l}$ , where W is body weight in N, and $L_l$ leg length in m, measured as the distance between the hip joint center and the floor during straight-leg standing.\n2. Protocol validation 总结：\n 用$CV_{Fr}$ 证明不同被试之间动力学相似性； 计算不同GS下用腿长规范化的步长方差（比较小，同一个GS下的SL是比较稳定的）； 线性回归得到r值证明$TLA$和$SL_0$统计学意义上相关； 基于12证明实验计划可以显著改变SL和GS，所以可以进行统计学分析   (a) a non-dimensional GS(Froude number) $F_r=GS/\\sqrt{L_lg}$ used as an index of across-subject dynamic similarity in ss-GS3: a smaller variance of Froude numbers within a group of individuals should reflect consistent gait kinetics. $\\rightarrow$ the coefficient of variation $CV_{Fr}$\n(b) $CV_{Fr}=\\frac { \\sigma _{Fr}}{\\mu_{Fr}}$ corresponding to the ss-GS condition$\\rightarrow$ compared it to alternative indices, $CV_{ss-GS}$ using $ss-GS$ ; $CV_{ss-GS_0}$ using $ss-GS_0$ normalized by leg length; $\\Rightarrow$ 用于量化across-subject variability (c) calculate SL using this Eq\n(d) TLA 根据定义\n(e) To determine if the imposed biofeedback effectively modulated SL in healthy subjects, 计算15种情况的distribution of SL values, the mean $TLA$ and $SL_0$ $\\rightarrow$ conducted a linear correlation analysis using these two measurements as factors to assess the statistical association between normalized stride length and TLA.\n3. Continuum analysis 总结：时序信息分析\n 关节力矩时序信息与GS, SL, interaction GS-SL相关性分析(repeated-measure 2-way ANOVA两因素重复测量方差分析；另一因素是时间),得到GS SL在一个步态周期内与哪些关节运动相关、相关性强度等 给定关节、GS，对ss-SL vs +17%和ss-SL vs -17%比较组下的关节力矩时序信息进行双侧配对t检验   main effect analysis (a) repeated-measure 2-way ANOVA on the mean joint moment profiles measured from each subject and experimental conditions, spanning exhaustively the 15 combinations of factors.\nANOVA was conducted to test the null hypothesis(零假设/原假设 一般是希望证明其错误的假设) that neither factor (GS and SL), nor their interaction, induce a significant effect on joint moment at any time point.\n(b) the dependent variable $\\overset{\\sim}\\tau(\\overset{\\sim}t)$ one-dimensional (1D) smoothed time series including highly temporally correlated data, and not a zero-dimensional scalar quantity $\\rightarrow$ confidence intervals置信区间的定义和false positive rates (FPR)的控制需要correction4 (for multiple comparisons that accounts for the temporal correlations in the input time series) $\\rightarrow$ SPM1D software package\nSL the null hypothesis: the mean profiles measured at the same speed for nominal and bio-feedback modulated SL conditions were not different from one another at any time point.\ntwo comparisons (ss vs. increased SL, and ss vs. decreased SL) per speed, per joint, for a total of $n_{comp} $= 30 pairwise comparisons.\nPairwise comparisons: two-tailed paired t-tests and defining thresholds t-scores for significance at α = 0.05 using a Bonferroni correction ($n = n_{comp}$) on the paired difference thresholds calculated by SPM1D.\n4. Torque pulse approximation to approximate the effect of SL modulation on joint moment profiles with a series of rectangular pulses of torque. 用矩形脉冲的叠加拟合SL调整对关节运动的影响\n(a) the normalized difference $\\Delta \\overset{-}\\tau(\\overset{\\sim}t)$ of subject specific average joint moment profiles $\\tau(\\overset{\\sim}t)$ between conditions of positive or negative SL, and ss SL, at each gait speed $j$ :\n(b) rectangular torque pulses $P_{\\pm}(\\overset{\\sim}t)$\n这个工作中$N=1,2$（即进行两种脉冲近似）; 非线性规划求出$a_l,A_l$ ($min$ )，根据$A_l$（矩形脉冲的振幅）正/负方向分成两组\n(c) to identify pulse magnitude and location\n统计学分析joint, direction of SL modulation, and sign of applied pulse是否significantly modulate pulse magnitude(absolute value of pulse amplitude) and location $\\leftarrow$ 独立的线性混合效应模型SAS V9.4, SAS Institute, Cary, NC（包括每个因变量独立带来的effect/两个之间/三者相互带来的effect）\nHeterogeneity due to trials completed under different gait speed conditions, and multiple pulses in the case of the two pulse approximation were accounted for by the inclusion of random effects. Correlation between multiple measurements taken on the same subject were accounted for by the inclusion of a repeated measure effect. Upon comparing nested model Akaike information criterion (AIC) values, the lowest AIC value came from the unstructured covariance structure and was therefore selected for the final models.\n(d) 若证明了(c)统计学显著性($\\alpha\u0026lt;0.05$)，进一步 post hoc Tukey-Kramer tests ($\\alpha=0.05$)\n1️⃣ for the joint and SL modulation interaction，用于确定在调整SL时关节间pulse magnitude means的显著差异\n2️⃣ 图基事后检验法把three-way interaction between joint, SL modulation, and pulse sign分解to find the significant differences between torque pulse location, for a given joint, under different combinations of factors SL modulation and torque pulse sign.\n3️⃣ 对于每个关节，比较测量positive pulse torque sign and positive SL modulation的 location variables和negative negative; 比较positive negative和negative positive（找到施加torque pulse的正负与SL调整方向相关的时刻）\n(e) 可视化：location histograms；按关节、SL modulation condition分组；（为方便表示，直方图中根据sign of pulse amplitude的正负和magnitude是否大于均值分组）\nResults Protocol validation  (Left) the distribution of mean Froude numbers with 95% confidence intervals at the various treadmill imposed GSs, (center) normalized stride lengths measured at various speeds and biofeedback conditions.\nThe box plot shows the median as a horizontal line, and the box at 25% and 75% percentiles, with whiskers extending to ±3σ, and (right) mean trailing limb angle and mean normalized stride length for each of the 15 conditions for each of the 20 subjects. Linear regression indicates that there is a strong correlation (r = 0.87) between the two measures.\n  The use of the Froude did not reduce the across-subject variability in ss-GS($CV_{ss-GS}=0.104\u0026lt;CV_{Fr}=0.106\u0026lt;CV_{ss-GS_0}=0.121$)All differences account for an effect size that can be considered very small. $\\sigma_{max}$ of $SL_0$ values for all five non- feedback conditions, averaged across all subjects, was relatively small (3.86%) $\\Rightarrow$ conclude that the protocol significantly modulated values of SL and GS, such that statistical analysis may be performed. linear regression: a strong correlation (r = 0.87) between $SL_0$ and TLA  5GS 3SL 下的$\\overset{-}\\tau$\n Effect of gait speed (GS) and stride length (SL) modulation on the normalized joint moments $\\overset{-}\\tau$.\nJoints are organized by row, GS are organized by columns, relative to the subject-specific ss-GS. Conditions corresponding to cued SL values are superimposed on each plot. Lines indicate the group mean, with the shaded region indicating the standard error.\n Continuum analysis  Main effects of gait speed (GS) and stride length (SL), and of their interaction, on the normalized joint moment profiles during normal walking, as described by the 1D time series of F-statistic extracted by the 2-way repeated measure ANOVA.\nThe threshold F statistic for each experimental condition is reported by the red dashed line, and values above (shaded in green) correspond to a significant group effect of the factor, at the corresponding gait cycle instant, for a corrected type I error rate α \u0026lt; 0.05.\n  T-statistic resulting from pairwise comparisons of normalized hip(knee, ankle) torque moment at normal and modulated SL (columns), measured at the same GS, for each GS (row).\nRed dashed lines show the threshold t value that provides a corrected type I error rate α = 0.05, extracted using a Bonferroni correction that accounts for all pairwise comparisons $n_{comp}$ = 30.\n Torque pulse approximation  Histogram of one(two) pulse approximation normalized amplitudes, sorted by SL modulation and joint.\n  Pulse magnitude by joint and SL modulation for the one(two) pulse approximation (mean ± standard deviation).\nAsterisks indicate pairwise comparisons significant at the p \u0026lt; 0.05 corrected level.\n  Histogram of one(two) pulse approximation locations in gait cycle, sorted by pulse amplitude sign and magnitude.\n  Magnitude linear mixed effects model results for the one torque pulse approximation.\n  Magnitude linear mixed effects model results for the two torque pulse approximation.\n  Magnitude Tukey-Kramer post hoc test results for the one torque pulse approximation.\n  Magnitude Tukey-Kramer post hoc test results for the two torque pulse approximation.\n  Location linear mixed effects model results for the one torque pulse approximation.\n  Location linear mixed effects model results for the two torque pulse approximation.\n  Location Tukey-Kramer post hoc testing for the one torque pulse approximation.\n  Location Tukey-Kramer post hoc testing for the two torque pulse approximation.\n Conclusion  gait speed has a significant effect on the moment profiles in all joints considered； stride length has more localized effects on the knee moment during stance, and smaller effects observed for the hip joint moment during swing and ankle moment during the loading response. TLA Trailing limb angle, a parameter of interest in programs targeting propulsion at push-off, significantly correlated with stride length. candidate assistance strategies 不同phase不同关节给相应力矩  Limits/Further Work  本工作基于群体分析，在具体应用时需要针对个体 本工作基于假设：外骨骼施加辅助力矩时人对行动的贡献不会改变；而事实上人非线性；需要迭代优化  Thoughts/Comments   //第一篇完整看完的生物统计的工作，想学习分析流程和思路，所以记得很详细，也花了不少时间。\n  实验对象的描述可参考（健康状态、招募途径、对课题的了解、知情同意书格式、被试统计数据、实验时的衣着情况）：\nSubjects 20 healthy adults (10 males, 10 females) were recruited to participate in this study (protocol approved by the University of Delaware Institutional Review Board, protocol no. 619724). Subjects—age (mean ± std) 21.55 ± 2.50 yrs, height 1.73 ± 0.08 m, body mass 69.20 ± 8.73 kg— were naive to the purpose of the study, and free of orthopedic or neurological disorders affecting walking function. Subjects were required to wear their own comfortable athletic shoes and lightweight clothing for the walking experiment.\n  数据处理过程可参考\n  统计学\n null hypothesis 参数的无量纲处理 对包含时间相关性数据的时序信息的处理 使用到的函数和模型（repeated-measure 2-way ANOVA, SAS V9.4, SAS Institute, Cary, NC, post hoc Tukey-Kramer tests） 对不同步速下实验异质性和同一被试多次测量之间的相关性的说明：Heterogeneity due to trials completed under different gait speed conditions, and multiple pulses in the case of the two pulse approximation were accounted for by the inclusion of random effects. Correlation between multiple measurements taken on the same subject were accounted for by the inclusion of a repeated measure effect. Upon comparing nested model Akaike information criterion (AIC) values, the lowest AIC value came from the unstructured covariance structure and was therefore selected for the final models. TODO 注意$F_r=GS/\\sqrt{L_lg}$与不同subjects动力学相似性的关系，可以进一步看看参考文献3      Bowden MG, Balasubramanian CK, Neptune RR, Kautz SA. Anterior-Posterior Ground Reaction Forces as a Measure of Paretic Leg Contribution in Hemiparetic Walking. Stroke. 2006; 37:872–877. https://doi.org/10.1161/01.STR.0000204063.75779.8d PMID: 16456121\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Peterson CL, Cheng J, Kautz SA, Neptune RR. Leg extension is an important predictor of paretic leg propulsion in hemiparetic walking. Gait \u0026amp; Posture. 2010; 32(4):451–456. https://doi.org/10.1016/j.gaitpost.2010.06.014\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Kramer PA, Sarton-Miller I. The energetics of human walking: Is Froude number (Fr) useful for meta- bolic comparisons? Gait \u0026amp; Posture. 2008; 27(2):209–215. https://doi.org/10.1016/j.gaitpost.2007.03.009 PMID: 17459708; Alexander R. The gaits of bipedal and quadrupedal animals. The International Journal of Robotics Research. 1984;.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Pataky TC, Vanrenterghem J, Robinson MA. The probability of false positives in zero-dimensional analyses of one-dimensional kinematic, force and EMG trajectories. Journal of Biomechanics. 2016; 49 (9):1468–1476. https://doi.org/10.1016/j.jbiomech.2016.03.032 PMID: 27067363\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2021-05-16T10:44:02+08:00","permalink":"https://K7288.github.io/posts/the-effect-of-stride-length-on-lower-extremity-joint-kinetics-at-various-gait-speeds/","title":"The effect of stride length on lower extremity joint kinetics at various gait speeds"},{"content":" 实现页内跳转  基本语法 注意事项 A subtitle just for test 测试 a A  测试——测试 测试:一个测试   1.测试   目录实现  实现页内跳转 基本语法 [\u0026lt;提示语\u0026gt;](#\u0026lt;目标内容\u0026gt;) 注意事项   若标题是英文，在(#\u0026lt;目标内容\u0026gt;)中需要小写\n例如 [例如](#a-subtitle-just-for-test)\n  若标题中出现空格，需要用-连接\n例如 [例如](#测试-a-a)\n  (#\u0026lt;目标内容\u0026gt;)中不能出现半角点(即英文中的句号).，似乎也不支持其他标点，(#\u0026lt;目标内容\u0026gt;)中需要将标点删除\n测试:一个测试 [测试:一个测试](#测试一个测试)\n1.测试 [1.测试](#1测试)\n测试——测试 [测试——测试](#测试测试)\n  A subtitle just for test 测试 a A 测试——测试 测试:一个测试 1.测试 目录实现  VS code插件 Markdown All in One  ctrl+shift+p Markdown All in One: Create Table of Contents   TOD0 实现侧边目录   😂 已经出现了对“测”的完型崩坏\n","date":"2021-05-16T10:35:13+08:00","permalink":"https://K7288.github.io/posts/menu/","title":"Menu"},{"content":"Toward Pervasive Gait Analysis With Wearable Sensors: A Systematic Review Abstract 对当前的定量步态分析技术进行系统的综述，并提出关键指标，来评估现有的通过可穿戴传感器提取步态特征的方法。它旨在突出这一快速发展的研究领域中的关键进展，并概述研究和临床应用的潜在未来方向。\nSECTION III. Methods for Extracting Relevant Gait Features From Wearable Sensors A.文献检索\nB. Kinematics\nKinematic information is a well-established set of gait measures in biomechanical analysis.\n从惯性传感器获取运动学信息似乎很直观，但是要获得关于人体运动学的准确空间信息仍然很困难：全局失准和integration drift\nC.时序特征\nD.利用惯性传感器的步速提取\nLaudanski et al. [104] reviewed the current research (16 papers in total) on gait speed estimation using inertial sensors, classifying the current gait speed estimation model into three categories: abstraction model (i.e., machine learning approach), human gait model, and numerical integration, shown in Fig. 5.\nTODOS. Chen and J. Lach, \u0026ldquo;Nonlinear feature for gait speed estimation using inertial sensors\u0026rdquo;, Proc. 8th Int. Conf. Body Area Netw., pp. 185-188, 2013.利用了生物力学提出了新的特征，自动特征选择算法\nE. Novel Features Extracted Using Nonlinear Analysis Techniques 步态稳定性和步态复杂性等\nF. Kinetics and Muscle Activity\n从惯性传感器提取步态特征\n从鞋垫压力传感器和EMG传感器提取步态特征\nStep Length Estimation Methods Based on Inertial Sensors: A Review //根据Perry经典的阶段模型，利用传感器的时序信号可以进行步态周期的划分，可以估算出步频，使得步速可以推导出步幅。\n由此步速和步幅/步长的估算类似。\nDeep Learning for Monitoring of Human Gait: A Review ","date":"2021-05-12T22:17:44+08:00","permalink":"https://K7288.github.io/posts/%E6%AD%A5%E9%80%9F%E4%BC%B0%E8%AE%A1%E7%BB%BC%E8%BF%B0%E6%95%B4%E7%90%86/","title":"步速估计综述整理"},{"content":"基于几何与物理特征融合的智能下肢假肢运动意图识别Movement intention recognition of intelligent lower limb prosthesis based on the fusion of geometric and physical features\nintention定义—locomotion modes 5类稳态模式: 平地行走、上楼、下楼、上坡和 下坡，8类转换模式\nResearch question 将关节角表示的几何特征与加速度、角速度表示的物理特征有机融合并应用于智能下肢假肢的运动意图识别\nIntroduction 传统的意图识别方法所用传感器数量及种类较多, 特征向量维数偏高, 统计特征对短时样本具有不稳定性（在1.3 特征选择与提取有公式证明）。related work没有结合几何和物理。\nMethods   采样：健侧大腿、小腿惯性测量单元于摆动相前期所产生的运动时序数据作为样本；\n  数据处理：移动平均滤波器滤波去噪\n  特征提取：\n 几何特征：根据两个传感器的加速度、角速度计算一维的膝关节角，FDA方法提取最值斜率 物理特征：加速度、角速度的均值、方差  均值、方差、最值斜率融合构成25维的特征基构建特征向量\n  SVM分类\n  Results 13种日常行为进行分类。实验结果：对5类稳态模式: 平地行走、上楼、下楼、上坡和 下坡的识别率达到96.9%, 对8类转换模式的识别率达到97.1%, 对13 种模式的识别率为94.3%。\nHighlights 减少了传感器的数量及种类, 降低 了特征向量的维数降低了算法复杂度且避免了滞后性问题, 用加速度、 角速度及膝关节角三个参数共同对人体下肢运动的运动学特点进行表征。\n在特征的提取上, 将FDA方法与统计方法相结合, 弥补了仅提取统计特征的不稳定性问题。\nLimits/Further Work 对于13种动作的识别率有待提高, 后期工作会集中于对类间相似性相对较强较难区分的动作进行分类, 如: 下楼与下坡, 走到下楼 与走到下坡等. 此外, 关节角度是一个可深度挖掘的几何信息, 如: 除膝关节外的髋关节与踝关节对下肢假肢运动意图中的作用有待进一步探究. 最后, 在分类策略如分类器上, 依然有改进的空间.\nThoughts/Comments   项目申报相关：\n 统计方法不稳定可以作为采用多种方式的依据。 联想到选题中“特征提取”，对“特征”的理解更清晰了。    本文特征提取：选定一个phase的时序信号，均值方差；那么可以用其他phase做类似处理得到更多指标，而不仅仅依赖原有数据。TODO 本文的去噪和特征工程方法可以参考。\n  了解了提取关节角的方法。\nTODO 具体公式待后续整理。\n  根据行文是通过“实时传输解决滞后性问题解决”，是这样吗，主要矛盾是这里吗，那related work为什么不试试实时？后面可以看一下别人为什么会有滞后性问题\n  仅是识别（分类），没有提到识别后如何基于意图进行控制。\n  ","date":"2021-05-12T20:52:44+08:00","permalink":"https://K7288.github.io/posts/%E5%9F%BA%E4%BA%8E%E5%87%A0%E4%BD%95%E4%B8%8E%E7%89%A9%E7%90%86%E7%89%B9%E5%BE%81%E8%9E%8D%E5%90%88%E7%9A%84%E6%99%BA%E8%83%BD%E4%B8%8B%E8%82%A2%E5%81%87%E8%82%A2%E8%BF%90%E5%8A%A8%E6%84%8F%E5%9B%BE%E8%AF%86%E5%88%AB/","title":"基于几何与物理特征融合的智能下肢假肢运动意图识别"},{"content":"\u0026ldquo;Section Four - Gait Analysis Systems\u0026rdquo; from Gait Analysis: Normal and Pathological Function1\nBasically, there are 5 measurement systems.\nThree of these focus on the specific events that constitute the act of walking.\n行走各个阶段\n Motion analysis defines the magnitude and timing of individual joint action. Dynamic electromyography iden­tifies the period and relative intensity of muscle function. Force plate recordings display the functional demands being experienced during the weight-bearing period.  The two remaining gait analysis technics summarize the effects of the person\u0026rsquo;s gait mechanics.\n行走整体效果\noverall walking capability, one measures the patient\u0026rsquo;s stride char­acteristics efficiency revealed by energy cost  Motion analysis 运动分析 Problems: the technical challenge of making the necessary measurements; the effect of out-of-plane movement on the amount of sagittal motion that is perceived.\u0026mdash;\u0026gt;placing a goniometer(测角仪) on the limb and using three-dimensional camera recording\n获取数据$\\rightarrow$标注关节\n中立位确定（根据解剖学by the American Academy of Orthopaedic Surgeons）以及关节骨骼旋转方向正负的定义见原书1p374\nReference scales. The direction for graphing each motion of the individual joint is identified. \u0026ldquo;0\u0026rdquo; represents the neutral position for the motion. Vertical axis indicates magnitude of motion. Arrow denotes increasing values for each direction. Horizontal axis represents the gait cycle time scale.\nMotion Data Interpretation The minimum information available from a motion record is the magnitude of the peak angles (high and low) experienced by the joint being studied.\n通过峰值划分motion，和正常状态下相比较（1️⃣magnitudes of joint motion 2️⃣ timing of the action 3️⃣ coordinating the motion patterns of the adjacent joints）\nDynamic Electromyography 肌肉控制与动态肌电图 EMG Quantification 肌电图量化 Manual (or descriptive); Electronic summation of the EMG signals; Computer quantification\n采样频率2500Hz 但数据过多，一般取1000或500Hz\n数字化，对信号进行全波整流（避免正负值在后续处理中相互抵消。整流包括将所有的负信号转置到零线的正侧）\n在一个适合的时间间隔进行累加；0.01秒interval(大约1% GC)被发现是最好的;3% interval: less variability in the EMG wave\n归一化技术：将每个电极的功能数据作为参考值将同一电极产生的值转化为比率(通常以百分比表示)。\nadjusting the onset and cessation times of the individual quantified records to match the mean timing.\nEMG Interpretation timing与运动相 phases有关 用于判断当前运动状态\nRelative Effort 运动越用力，振幅变大，图形密集\nEMG和force相互推导\nGround Reaction Force and Vector Analysis 步态动力学——地反力、向量、力矩、功率和压力 ground reaction forces (GRF)\nVertical Load Characteristics Normal stance phase pattern of vertical forces generated by the customary walking speed of 82m/ min has two peaks separated by a valley.\nThe force on the force plate changes with changing vertical acceleration.\n峰值值约为体重的110%，而谷值力约为体重的80%。第一个峰(F1)发生在MS的开始，此时身体的重心正在迅速下降。在MS后期，谷值(F2)是由身体向前滚过静止的脚时重心上升造成的。第二个峰值(F3)出现在TS后期，再次表明身体重心向前落在TS的前足上时重心下降。\nVertical force \u0026amp; Speed v减小，峰谷更平坦，反之亦然。\nThe magnitude of the vertical force changes with variations in gait speed. Walking at slower speeds (\u0026lt;60m/min) reduces the momentum, and therefore the vertical acceleration, with a corresponding decrease in both the peaks and valley deviations from body weight.\nConversely, fast walking speeds induce higher peaks and lower valleys. Running registers peaks 2.5 times body weight.\nHorizontal Shear The forces generated parallel to the wa1king surface are called shear.\nHorizontal forces in the anterior-posterior (AP) plane: the ground reaction force vector deviates from the vertical.\nHorizontal medial-lateral (ML 内侧 外侧 ) shear forces: the exchange of body weight from one limb to the\nML force is least, being less than 10% of body weight. Peak medial shear (5% BW) occurs in mid loading response. Lateral shear reaches a peak (7% BW) in terminal stance.\nThe AP shear force (also called fore-aft forces) is equivalent to less than 25%of body weight. At initial contact there often is a momentary aft shear (13% BW).\nLoading the limb rapidly introduces an anteriorly directed force, which reaches a peak (13% BW) at the end of the loading response phase. This is not sustained.\nMid stance is an interval with minimal sagittal shear until just before heel rise, when a posterior shear begins. There is a rapid rise in the posterior force throughout terminal stance, with a final peak equaling 23%BW.\n⬆️ Normal ground reaction force pattern during stance. (a) Vertical force; (b) Lateral shear (horizontal); (c) Progressional shear (horizontal fore/aft).\nVectors Joint Torques Torque is defined as the product of the force and its lever arm T = FxL. The lever (or moment arm) for the joint torque presented by the body\u0026rsquo;s posture is the perpendicular distance between the line of action of the vector and the center of the joint. The vertical ground reaction is the determining force in stance. By combining motion and vector data the torques occurring throughout the stride can be calculated. Sagittal plane data define the flexion and extension torques. Coronal plane measurements identify the abduction and adduction demands. Transverse moments (torques) are calculated by combin­ing the fore-aft and mediolateral values. Calculation of joint torques from the vector and motion data, as just described, is technically easier, but the effects of gravity and inertia are not included. Studies comparing moment calculations with and without consider­ing the gravitational and inertial factors have shown no difference in the ankle data, but at the hip and knee there were intervals in the gait cycle where the simple vector data registered higher values The investigators have differed on the significance of these findings. Bressler and Frankel noted a brief increase in both the knee and hip values at the beginning loading response of approximately 20% and a similar difference in terminal stance for the hip. Mikosz et al noted the exaggeration of the sagittal knee and hip torques (expressed in units of percent body weight X stature) was 1 % each. These two groups of authors concluded that for most situations, use of the unmodified vector data was adequate. Wells , in contrast, felt the omission of the While very significant for understanding the logic of muscular action, the resulting numbers tend to be too abstract for most clinicians.\n自重会带来影响但部分研究人员认为可以忽略。\nCenter of Pressure C/P base of the GRF vector lies within the foot, as that is the body segment in contact with the floor.\nWhile the word pressure is in common use, it is not correct, as the area of contact is not considered in the calculation. Center of support would be more accurate.\nEach C/P point represents the mean of the vertical forces on the four instrumented supporting posts of the force plate. By also defining the location of the foot on the force plate, an anatomical correlation can be made. The center of pressure is related to the plantar outline of the foot, but its location does not necessarily identify that portion of the foot receiving the greatest pressure. Only during the period of isolated heel support in loading response or the forefoot support interval in terminal stance will the C/P have any anatomical significance. Even then, the C/ P point represents an average of all the forces on either the heel or forefoot, not the site of maximum pressure.\nThe C/P is located in an anatomical area that makes little or no contact with the floor. C/P位于一个解剖区域，很少或没有接触地板。\nIntrinsic Foot Pressure To determine the pressures experienced by the different structures within the foot\nStride Characteristics 步幅分析 The natural mix of joint mobility, muscle strength, neural control and energy leads to a customary walk­ing speed, stride length and step rate. These time and distance factors, in combination with the swing and stance times, constitute the person\u0026rsquo;s stride characteristics.\nNormal persons, while able to voluntarily modify their gait velocity as needed, also have a spontaneous rate that is called either free or customary walking speed (CWS). This free rate of travel designates the optimum functional balance of the person\u0026rsquo;s physical qualities.\nVelocity = Stride Length x 0.5 Cadence Cadence (step rate)\nNormal Variability Normal adults show a moderate variability in their free walking velocity. One group of 60 subjects ages 20 to 65 years showed a 7% standard deviation during indoor testing following pretraining to a common cadence. Another 111 persons ages 20 to 80 tested on an outdoor track displayed a 4% deviation. Two identifiable sources of this variability are age and height (or limb length). Age\n A notable difference in velocity (14%) when arthritis and other disabilities are allowed as natural events. With healthy subjects the influence of age is less, but increases as years beyond 65 are added. The decrease in mean velocity was just 3% for a 60- to 65-year-old group. This increased to 9% when the study group included ages 60 to 80; significant decline in walking ability began after age 70 years.  Limb Length 儿童中显著；成人腿长与步幅相关性不强($r^2$ = 0.21 ~ 0.28)\nVoluntary Variability Normal persons have a wide range of safe and relatively comfortable walking speeds.\nthe changes in stride length and cadence were about equal. (of similar percentage)\nThe standard deviations for normal free walking is approximately 10% of the mean value. The preceding data indicate 4% of this deviation is related to leg length. Age has no significance until the person is past 60 years. Thus, the larger factor appears to be spontaneous variability.\nEnergy Cost 能量消耗 与实验无关，暂略\n  J. Perry, J.M. Burnfield Gait Analysis: Normal and Pathological Function(2nd ed.), SLACK Incorporated (2010)\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2021-05-08T00:00:00Z","permalink":"https://K7288.github.io/posts/gait-analysis-systems/","title":"Gait Analysis Systems"},{"content":"Gait analysis 步态分析简述1 Factors and parameters 影响步态的因素 The gait analysis is modulated or modified by many factors, and changes in the normal gait pattern can be transient or permanent. The factors can be of various types:\n Extrinsic: such as terrain, footwear, clothing, cargo Intrinsic: sex, weight, height, age, etc. Physical: such as weight, height, physique Psychological: personality type, emotions Physiological: anthropometric characteristics, i.e., measurements and proportions of body Pathological: for example trauma, neurological diseases, musculoskeletal anomalies, psychiatric disorders  Parameters 描述步态的参数 The parameters taken into account for the gait analysis are as follows:\n  Step length 步长\n  Stride length 步幅\n  Cadence 节奏(Step rate; xx steps per minute)\n  Speed\n  Dynamic base\n  Progression line 渐进线\n  Foot angle\n  Hip angle\n  Squat performance\n  gait parameters：一种分类2 Joint angles Gait events/Gait phases initial and end contact(most common) (IC) initial contact; (LR) loading response; (MS) mid stance; (TS) terminal stance; (PS) pre-swing; (EC) end contact; (SW) swing\nSpatiotemporal parameters Stride Time , Step time, Stance time, Gait velocity, Cadence, Stride symmetry\nBasic sciences – anatomy, physiology and biomechanics Anatomy     Term Figure      directions\nreference planes anterior posterior\nsuperior inferior(cephalad: towards the head and caudad: towards the ‘tail’ )left rightMedial 中间的 Lateral 侧向的Proximal 近端的 Distal 远端的Superficial Deep\nsagittal plane: any plane which divides part of the body into right and left portions; the median plane is the midline sagittal plane.\nfrontal plane/coronal plane\ntransverse plane/horizontal plane     movements Flexion 弯曲/屈曲 extension 伸张 in the sagittal planeAbduction 外展 and adduction 内收 in the frontal plane Internal/medial and external/lateral rotation in the transverse plane\nAnkledorsiflexion 背屈 and plantarflexion 跖屈Varus 内翻 and valgus 外翻: an angulation of a joint towards or away from the midline(膝内翻 blow legs; 膝外翻 knock knees)\nPronation 内转 and supination 外转: rotations about the long axis of the forearm or foot; pronation of both hands brings the thumbs together, supination brings the little fingers together\nInversion of the feet brings the soles together; eversion causes the soles to point away from the midline.            Gait Analysis: three basic approaches3 The simplest system subdivides the cycle accord­ing to the variations in reciprocal floor contact by the two feet. A second method uses the time and distance qualities of the stride. The third approach identifies the functional significance of the events within the gait cycle and designates these intervals as the functional phases of gait.\nGait cycle (GC) One gait cycle (a single sequence of these functions by one limb) can be divided into two phases, stance (ST) and swing (SW), which can be subdivided into 5 and 3 phases, respectively.\nStance is the term used to designate the entire period during which the foot is on the ground. Stance begins with initial contact.\n  IC initial contact 对于没有某一类型行走障碍的人来说就是 HS heel strike.\n  Subdivided into 3 intervals according to the sequence of floor contact by the two feet. (根据两腿所在的运动相划分，与phase不同)\n Both the start and end of stance involve a period of bilateral foot contact with the floor (double stance; term \u0026ldquo;support\u0026rdquo; is avoided for an unequal sharing of body weight by the two feet), while the middle portion of stance has one foot contact. Initial double stance/Loading response(10%) begins the gait cycle. It is the time both feet are on the floor after IC. Single limb support(40%) begins when the opposite foot is lifted for swing. (所以Swing和Single limb support占比相同) Terminal double stance(10%) begins with floor contact by the other foot (contralateral initial contact) and continues until the original stance limb is lifted for swing (ipsilateral toe-off).    Swing applies to the time the foot is in the air for limb advancement. Swing begins as the foot is lifted from the floor (toe-off).\nGait Cycle ＆ Speed   total stance and swing times和速度负相关；The change in stance and swing times becomes progressively greater as speed slows.\n  Subdivisions of stance : 速度与Single stance interval/Swing占比正相关；curvilinear pattern of change.\n  Having an interval when both feet are in contact with the ground for the limbs to exchange their support roles is a basic characteristic of walking. When double stance is omitted, the person has entered the running mode of locomotion.\nStride and Step Stride is the equivalent of a gait cycle. It is based on the actions of one limb.The duration of a stride is the interval between two sequential initial floor contacts by the same limb (i.e., right IC and the next right IC).\nStep refers to the timing between the two limbs. There are two steps in each stride (or gait cycle). At the midpoint of one stride the other foot contacts the ground to begin its next stance period. The interval between an initial contact by each foot is a step (i.e., left and then right). The same offset in timing will be repeated in reciprocal fashion throughout the walk.\nGait Phases Gait events  IC Initial contact 对于没有某一类型行走障碍的人来说就是 HS heel strike. OT Opposite toe off HO/HR Heel rise/off OI Opposite initial contact TO Toe off FA Feet adjacent TV Tibia vertical  \u0026hellip;(FO foot off, FF foot flat)\nTasks The phases of gait also provide a means for correlating the simultaneous actions of the individual joints into patterns of total limb function. 联系关节模式和运动\n Each of the eight gait phases has a functional objective and a critical pattern of selective synergistic motion to accomplish this goal.\n Weight acceptance (WA) begins the stance period and uses the first two gait phases (IC initial contact and LR loading response).\nSingle limb support (SLS) continues stance with the next two phases of gait (MSt mid stance and TSt terminal stance).\nLimb advancement(LA) begins in the final phase of stance (pre-swing) and then continues through the three phases of swing (ISw initial swing,MSw midswing and TSw terminal swing).\n7 gait phases    Stance Swing     Loading response\nMid-stanceTerminal stancePre-swing Initial swingMid-swingTerminal swing       Phase Term Interval Figure(the reference limb shaded) Beginning \u0026amp; ending events Phase of the other leg movements of joints     0 Initial Contact (IC) 0-2%  / end of TSt hip flexed; knee extended; ankle dorsiflexed to neutral.   1 Loading response (LR) 0-10%  IC \u0026amp; (contralateral)TO/OT PSw knee flexed with the heel as a rocker for shock absorption. Ankle plantar flexion limits the heel rocker by forefoot contact with the floor.   2 Mid-stance (MSt) 10-30%  OT \u0026amp; HR ISw \u0026amp; early MSw the limb advances over the stationary foot by ankle dorsifiexion (ankle rocker) while the knee and hip extend.   3 Terminal stance (TSt) 30-50%  HR \u0026amp; (contralateral)IC/OI late MSw \u0026amp; TSw the heel rises and the Iimb advances over the forefoot rocker. The knee increases its extension and then just begins to flex slightly.Increased hip extension puts the Iimb in a more trailing position.   4 Pre-swing (PSw) 50-60%  OI \u0026amp; TO LR The reference limb responds with increased ankle plantar flexion. greater knee flexion and loss of hip extension.   5 Initial swing (ISw) 60-73%  TO \u0026amp; FA early MSt The foot is lifted and limb advanced by hip flexion and increased knee flexion. The ankle only partially dorsiflexes.   6 Mid-swing (MSw) 73-87%  FA \u0026amp; TV late MSt \u0026amp; early TSt Advaneement of the limb anterior to the body weight line is gained by further hip flexion. The knee is allowed to extend in response to gravity while the ankle continues dorsiflexing to neutral.   7 Terminal swing (TSw) 87-100%  TV \u0026amp; IC late TSt limb advancement is completed by knee extension. The hip maintains its earlier flexion. and the ankle remains dorsiflexed to neutral.    Basic Functions 上身passenger 下面locomotor（涉及11个关节）\nLocomotor Functions  Propulsion Stance Stability Shock Absorption Energy Conservation  不同的function对应的重心位置和关节角（TODO 以及肌肉工作）不同，随phase的变化也不同，详见此书3p19-p47\nNormal Gait  (A) Sagittal plane joint angles (degrees) (B) Sagittal plane internal joint moments (newton-meters per kilogram body mass) (C) Sagittal plane joint powers (watts per kilogram body mass) (D) Typical activity of major muscle groups during a single gait cycle of right hip (flexion positive), knee (flexion positive) and ankle (dorsiflexion positive).\nIC = initial contact; OT = opposite toe off; HR = heel rise; OI = opposite initial contact; TO = toe off; FA = feet adjacent; TV = tibia vertical.\n Perry的书中对每一个关节以及每一个步态相具体的motion以及力矩、肌肉控制都有很详细的阐述，有时间再看一下（TODO 同时确定检测肌肉\u0026amp;各个肌肉意义）\nGRF与Phases\n以及另一本书的说法4，但是我觉得没有下面这么理想化\n根据实际数据看也不是这样的（实际数据LR在第一个峰值前已经完成，第一个峰值处应是FF foot flat（toe开始受力）；\n谷值是FA；第二个峰值过约3%是对侧的IC）\n  Gait analysis wikipedia\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n Rafael Caldas, Marion Mundt, Wolfgang Potthast, Fernando Buarque de Lima Neto, Bernd Markert,A systematic review of gait analysis methods based on inertial sensors and adaptive algorithms,Gait \u0026amp; Posture,Volume 57,,2017\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n J. Perry, J.M. Burnfield, Gait Analysis: Normal and Pathological Function(2nd ed.), SLACK Incorporated (2010)\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n E. Ayyappa, Normal human locomotion, part 2: motion, ground-reaction force and muscle activity, J. Prosthet. Orthot. (1996), p.9\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n   ","date":"2021-05-05T00:00:00Z","permalink":"https://K7288.github.io/posts/gait-analysis-fundamentals/","title":"Gait Analysis Fundamentals"},{"content":"About Contents Add Some Content hugo new post/**.md\nThe newly created content file will start with something like this:\n--- title: \u0026#34;**\u0026#34; date: 2019-03-26T08:47:11+01:00 draft: true --- Drafts do not get deployed; once you finish a post, update the header of the post to say draft: false. More info here.\n--- title: \u0026#34;Hugo Guide\u0026#34; date: 2021-05-01T08:47:11+01:00 categories: [\u0026#34;Manual\u0026#34;] tags: [\u0026#34;Hugo\u0026#34;, \u0026#34;GitHub\u0026#34;] draft: false --- Add pictures\n/post/xxx.jpg\nis actually baseURL/post/xxx.jpg\nPut the picture as below\n. └── static └── post └── xxx.jpg Customize the Theme Start the Hugo server\n▶ hugo server -D | EN +------------------+----+ Pages | 10 Paginator pages | 0 Non-page files | 0 Static files | 3 Processed images | 0 Aliases | 1 Sitemaps | 1 Cleaned | 0 Total in 11 ms Watching for changes in /Users/bep/quickstart/{content,data,layouts,static,themes} Watching for config changes in /Users/bep/quickstart/config.toml Environment: \u0026#34;development\u0026#34; Serving pages from memory Running in Fast Render Mode. For full rebuilds on change: hugo server --disableFastRender Web Server is available at http://localhost:1313/ (bind address 127.0.0.1) Press Ctrl+C to stop Navigate to your new site at http://localhost:1313/.\nSite Configuration\nOpen up config.toml in a text editor:\nbaseURL = \u0026#34;http://K7288.github.io\u0026#34; languageCode = \u0026#34;en-us\u0026#34; title = \u0026#34;K7288\u0026#34; theme = \u0026#34;stack\u0026#34; For further theme customization, see Customize a Theme.\nBuild static pages hugo -D Output will be in ./public/ directory by default (-d/--destination flag to change it, or set publishdir in the config file).\nSee Also\n External Learning Resources Use Hugo Modules Basic Usage Hugo Theme Stack  ","date":"2021-05-01T11:37:16+08:00","permalink":"https://K7288.github.io/posts/hugo-guide/","title":"Hugo Guide"},{"content":"   $$ e^{ix}=\\text{cos}x+i\\text{sin}x $$\n  $$ \\left(C_{n+1, t+1}-C_{n, t}\\right)-\\left(C_{n, t+1}-C_{n-1, t}\\right)=\\frac{2}{n+1} $$\n  $$ \\begin{aligned} C_{n+1, t+1}-C_{n, t} \u0026amp;=\\frac{2}{n+1}+\\frac{2}{n}+\\cdots+\\frac{2}{t+2} +C_{t+1, t+1}-C_{t, t} \\\\ \u0026amp;=2\\left(H_{n+1}-H_{t+1}\\right)+2-2 /(t+1) \\end{aligned} $$\n\\begin{aligned} C_{n+1, t+1}-C_{n, t} \u0026amp;=\\frac{2}{n+1}+\\frac{2}{n}+\\cdots+\\frac{2}{t+2} +C_{t+1, t+1}-C_{t, t} \\\\\\\\ \u0026amp;=2\\left(H_{n+1}-H_{t+1}\\right)+2-2 /(t+1) \\end{aligned} 换行需要使用\\\\\\\\\n\\begin{aligned}和\\end{aligned}之间不能有空行\n不支持\\left[，\\right)等\n  $$ \\begin{cases}\\begin{array}{l} \\theta_{i}(t-j)^{\\prime}=\\frac{1}{3} \\Sigma_{1}^{-1} \\theta_{i}(t-j),\\\\ a_{i}(t-j)^{\\prime}=\\frac{1}{3} \\sum_{1}^{-1} a_{i}(t-j), i=\\{r h,l h, r k, l k\\}\\\\w_{i}(t-j)^{\\prime}=\\frac{1}{3} \\Sigma_{1}^{-1} w_{i}(t-j)\\end{array}\\end{cases} $$\n\\begin{cases}\\begin{array}{l} \\theta_{i}(t-j)^{\\prime}=\\frac{13} \\Sigma_{1}^{-1} \\theta_{i}(t-j),\\\\\\\\ a_{i}(t-j)^{\\prime}=\\frac{1}{3} \\sum_{1}^{-1} a_{i}(t-j), i=\\\\{r h,l h, r k, l k\\\\}\\\\\\\\w_{i}(t-j)^{\\prime}=\\frac{1}{3} \\Sigma_{1}^{-1} w_{i}(t-j)\\end{array}\\end{cases} \\begin{array}和\\end{array}之间不能换行😅\n大括号只能用\\begin{cases} \\end{cases}实现了\n花括号要这样\\\\}才能打出来$\\}$\n","date":"2021-05-01T11:37:16+08:00","permalink":"https://K7288.github.io/posts/math/","title":"Math"}]